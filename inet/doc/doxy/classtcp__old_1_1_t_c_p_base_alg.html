<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: tcp_old::TCPBaseAlg Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespacetcp__old.html">tcp_old</a>::<a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html">TCPBaseAlg</a>
  </div>
</div>
<div class="contents">
<h1>tcp_old::TCPBaseAlg Class Reference</h1><!-- doxytag: class="tcp_old::TCPBaseAlg" --><!-- doxytag: inherits="tcp_old::TCPAlgorithm" -->
<p><code>#include &lt;<a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for tcp_old::TCPBaseAlg:</div>
<div class="dynsection">
 <div class="center">
  <img src="classtcp__old_1_1_t_c_p_base_alg.gif" usemap="#tcp_old::TCPBaseAlg_map" alt=""/>
  <map id="tcp_old::TCPBaseAlg_map" name="tcp_old::TCPBaseAlg_map">
<area href="classtcp__old_1_1_t_c_p_algorithm.html" alt="tcp_old::TCPAlgorithm" shape="rect" coords="106,0,309,24"/>
<area href="classtcp__old_1_1_t_c_p_no_congestion_control.html" alt="tcp_old::TCPNoCongestionControl" shape="rect" coords="0,112,203,136"/>
<area href="classtcp__old_1_1_t_c_p_tahoe_reno_family.html" alt="tcp_old::TCPTahoeRenoFamily" shape="rect" coords="213,112,416,136"/>
<area href="classtcp__old_1_1_t_c_p_reno.html" alt="tcp_old::TCPReno" shape="rect" coords="106,168,309,192"/>
<area href="classtcp__old_1_1_t_c_p_tahoe.html" alt="tcp_old::TCPTahoe" shape="rect" coords="319,168,522,192"/>
</map>
 </div>
</div>

<p><a href="classtcp__old_1_1_t_c_p_base_alg-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a2f8265b680a8cee124f685b19919ab03">TCPBaseAlg</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a5929dfe85238f1ceccd0f5dd578d4b18">~TCPBaseAlg</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#ae6147731689fcc4c5c79f4cc539c6b7f">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a2cbb83fb79f28eaea3d33acb13526e11">established</a> (bool active)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#acf011bd6523207a40e179f1f9f4f448d">connectionClosed</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a9008afe23db553e45b37d9811f7af110">processTimer</a> (cMessage *timer, <a class="el" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32">TCPEventCode</a> &amp;event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#adeb5f45e211987af985c94992dc3350f">sendCommandInvoked</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#aa49a6c59e453685907e24dc671e3561d">receivedOutOfOrderSegment</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a772c3712679d50b0598957665b14acc9">receiveSeqChanged</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a55a32a0e93c6417adb091ee162f225e2">receivedDataAck</a> (uint32 firstSeqAcked)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#ad198abc5a259c9b1660ec149aae3b11d">receivedDuplicateAck</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a8d57787d474f4a317bffa76c8f13ef3a">receivedAckForDataNotYetSent</a> (uint32 seq)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#ae40c0a08732c067048a9183945153ec1">ackSent</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a8bbd5e8c6d8b139da0cbc44a3274c9fa">dataSent</a> (uint32 fromseq)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#aa781a26258eb0504bfff79468079e1b8">restartRexmitTimer</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a5fc842a3f9c5297e9ba795843bf0cabb">startRexmitTimer</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a31986bf6db565ab455f818eafb01320e">rttMeasurementComplete</a> (simtime_t tSent, simtime_t tAcked)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a28c072f575629d0c5ec6478edd3bb7e5">sendData</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a> (cMessage *msg)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Process REXMIT, PERSIST, DELAYED-ACK and KEEP-ALIVE timers</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp637f402a20aed24690f95b2117002358"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#ac8a305a437d4eafd1689204e50af8870">processRexmitTimer</a> (<a class="el" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32">TCPEventCode</a> &amp;event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a69a0d60fa083b9a3b03e8f80d3c53e6f">processPersistTimer</a> (<a class="el" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32">TCPEventCode</a> &amp;event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#ad5f7c065fdf27a650a7c711cf8e31766">processDelayedAckTimer</a> (<a class="el" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32">TCPEventCode</a> &amp;event)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a586dd4192388dc907ab36ae4aec4c3d5">processKeepAliveTimer</a> (<a class="el" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32">TCPEventCode</a> &amp;event)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html">TCPBaseAlgStateVariables</a> *&amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#ac91743dd54e430683d3dca8ec6656424">persistTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a28d58e8845917e0248e81af8ab188132">keepAliveTimer</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a44ed6e1611f4f4ad3ade255022a7b748">cwndVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a805dc5d5cca7ecc801b5bb2497a5e141">ssthreshVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a69be7c7a51275657b27c8dcbc84c4250">rttVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#aa4ff44520c0013f3b7c5a5e1d2932c85">srttVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#aeaa609766fa911a28875a26e1cf81dbc">rttvarVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cOutVector *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#abb761bc8c6217f12c62452863e015c57">rtoVector</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Includes basic <a class="el" href="classtcp__old_1_1_t_c_p.html">TCP</a> algorithms: adaptive retransmission, persist timer, keep-alive, delayed acks -- EXCLUDING congestion control. Congestion control is implemented in subclasses such as TCPTahoeAlg or TCPRenoAlg.</p>
<p>Implements:</p>
<ul>
<li>delayed acks</li>
<li>Jacobson's and Karn's algorithms for adaptive retransmission</li>
<li>Nagle's algorithm to prevent silly window syndrome</li>
</ul>
<p>To be done:</p>
<ul>
<li>persist timer, keepalive timer</li>
</ul>
<p>Note: currently the timers and time calculations are done in double and NOT in Unix (200ms or 500ms) ticks. It's possible to write another <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html">TCPAlgorithm</a> which uses ticks (or rather, factor out timer handling to separate methods, and redefine only those).</p>
<p>Congestion window is set to MSS when the connection is established, and not touched after that. Subclasses may redefine any of the virtual functions here to add their congestion control code. </p>

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00089">89</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a2f8265b680a8cee124f685b19919ab03"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::TCPBaseAlg" ref="a2f8265b680a8cee124f685b19919ab03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TCPBaseAlg::TCPBaseAlg </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Ctor. </p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">90</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00090"></a>00090                        : <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#af6c9b1afafa3ecfc59c2ce08fdb766f3">TCPAlgorithm</a>(),
<a name="l00091"></a>00091   <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>((<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html">TCPBaseAlgStateVariables</a> *&amp;)<a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#aa7a304b9e7b34e5dccefc57b3160146c">TCPAlgorithm::state</a>)
<a name="l00092"></a>00092 {
<a name="l00093"></a>00093     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a> = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#ac91743dd54e430683d3dca8ec6656424">persistTimer</a> = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a> = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a28d58e8845917e0248e81af8ab188132">keepAliveTimer</a> = NULL;
<a name="l00094"></a>00094     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a44ed6e1611f4f4ad3ade255022a7b748">cwndVector</a> = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a805dc5d5cca7ecc801b5bb2497a5e141">ssthreshVector</a> = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a69be7c7a51275657b27c8dcbc84c4250">rttVector</a> = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aa4ff44520c0013f3b7c5a5e1d2932c85">srttVector</a> = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aeaa609766fa911a28875a26e1cf81dbc">rttvarVector</a> = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#abb761bc8c6217f12c62452863e015c57">rtoVector</a> = NULL;
<a name="l00095"></a>00095 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5929dfe85238f1ceccd0f5dd578d4b18"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::~TCPBaseAlg" ref="a5929dfe85238f1ceccd0f5dd578d4b18" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TCPBaseAlg::~TCPBaseAlg </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Virtual dtor. </p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">97</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00098"></a>00098 {
<a name="l00099"></a>00099     <span class="comment">// Note: don&apos;t delete &quot;state&quot; here, it&apos;ll be deleted from TCPConnection</span>
<a name="l00100"></a>00100 
<a name="l00101"></a>00101     <span class="comment">// cancel and delete timers</span>
<a name="l00102"></a>00102     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>)     <span class="keyword">delete</span> <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>);
<a name="l00103"></a>00103     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#ac91743dd54e430683d3dca8ec6656424">persistTimer</a>)    <span class="keyword">delete</span> <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#ac91743dd54e430683d3dca8ec6656424">persistTimer</a>);
<a name="l00104"></a>00104     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a>) <span class="keyword">delete</span> <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a>);
<a name="l00105"></a>00105     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a28d58e8845917e0248e81af8ab188132">keepAliveTimer</a>)  <span class="keyword">delete</span> <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a28d58e8845917e0248e81af8ab188132">keepAliveTimer</a>);
<a name="l00106"></a>00106 
<a name="l00107"></a>00107     <span class="comment">// delete statistics objects</span>
<a name="l00108"></a>00108     <span class="keyword">delete</span> <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a44ed6e1611f4f4ad3ade255022a7b748">cwndVector</a>;
<a name="l00109"></a>00109     <span class="keyword">delete</span> <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a805dc5d5cca7ecc801b5bb2497a5e141">ssthreshVector</a>;
<a name="l00110"></a>00110     <span class="keyword">delete</span> <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a69be7c7a51275657b27c8dcbc84c4250">rttVector</a>;
<a name="l00111"></a>00111     <span class="keyword">delete</span> <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aa4ff44520c0013f3b7c5a5e1d2932c85">srttVector</a>;
<a name="l00112"></a>00112     <span class="keyword">delete</span> <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aeaa609766fa911a28875a26e1cf81dbc">rttvarVector</a>;
<a name="l00113"></a>00113     <span class="keyword">delete</span> <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#abb761bc8c6217f12c62452863e015c57">rtoVector</a>;
<a name="l00114"></a>00114 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae40c0a08732c067048a9183945153ec1"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::ackSent" ref="ae40c0a08732c067048a9183945153ec1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::ackSent </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after we sent an ACK. This hook can be used to cancel the delayed-ACK timer. </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#a522fdc8f478a358787e1a21a543532e2">tcp_old::TCPAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00416">416</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00417"></a>00417 {
<a name="l00418"></a>00418     <span class="comment">// if delayed ACK timer is running, cancel it</span>
<a name="l00419"></a>00419     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a>-&gt;isScheduled())
<a name="l00420"></a>00420         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a>);
<a name="l00421"></a>00421 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aaef53f3ba0bc5012369c58446da0aed1"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::cancelEvent" ref="aaef53f3ba0bc5012369c58446da0aed1" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* tcp_old::TCPBaseAlg::cancelEvent </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Utility function </p>

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00133">133</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00416">ackSent()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00157">connectionClosed()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00346">receivedDataAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00442">restartRexmitTimer()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00133"></a>00133 {<span class="keywordflow">return</span> <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="class_t_c_p_connection.html#a5c9318d9fe504d7e5779a5b2eab87e09">getTcpMain</a>()-&gt;cancelEvent(msg);}
</pre></div></p>

</div>
</div>
<a class="anchor" id="acf011bd6523207a40e179f1f9f4f448d"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::connectionClosed" ref="acf011bd6523207a40e179f1f9f4f448d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::connectionClosed </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when the connection closes, it should cancel all running timers. </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#a3f274c87ed54d3828b9d7908d45aeb70">tcp_old::TCPAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00157">157</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00158"></a>00158 {
<a name="l00159"></a>00159     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>);
<a name="l00160"></a>00160     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#ac91743dd54e430683d3dca8ec6656424">persistTimer</a>);
<a name="l00161"></a>00161     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a>);
<a name="l00162"></a>00162     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a28d58e8845917e0248e81af8ab188132">keepAliveTimer</a>);
<a name="l00163"></a>00163 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8bbd5e8c6d8b139da0cbc44a3274c9fa"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::dataSent" ref="a8bbd5e8c6d8b139da0cbc44a3274c9fa" args="(uint32 fromseq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::dataSent </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>fromseq</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after we sent data. This hook can be used to schedule the retransmission timer, to start round-trip time measurement, etc. The argument is the seqno of the first byte sent. </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#a2a8e9ea9d181d94d837c4ca41d38627b">tcp_old::TCPAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00423">423</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00424"></a>00424 {
<a name="l00425"></a>00425     <span class="comment">// if retransmission timer not running, schedule it</span>
<a name="l00426"></a>00426     <span class="keywordflow">if</span> (!<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>-&gt;isScheduled())
<a name="l00427"></a>00427     {
<a name="l00428"></a>00428         <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;Starting REXMIT timer\n&quot;</span>;
<a name="l00429"></a>00429         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a5fc842a3f9c5297e9ba795843bf0cabb">startRexmitTimer</a>();
<a name="l00430"></a>00430     }
<a name="l00431"></a>00431 
<a name="l00432"></a>00432     <span class="comment">// start round-trip time measurement (if not already running)</span>
<a name="l00433"></a>00433     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a3db36f802e1ef66fa4f0a4217e65e8d0" title="time when rtseq was sent (0 if RTT measurement is not running)">rtseq_sendtime</a>==0)
<a name="l00434"></a>00434     {
<a name="l00435"></a>00435         <span class="comment">// remember this sequence number and when it was sent</span>
<a name="l00436"></a>00436         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#acad28c9a018a6bbaeb822003ce53c0d9" title="round-trip time measurements">rtseq</a> = fromseq;
<a name="l00437"></a>00437         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a3db36f802e1ef66fa4f0a4217e65e8d0" title="time when rtseq was sent (0 if RTT measurement is not running)">rtseq_sendtime</a> = simTime();
<a name="l00438"></a>00438         <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;Starting rtt measurement on seq=&quot;</span> &lt;&lt; <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#acad28c9a018a6bbaeb822003ce53c0d9" title="round-trip time measurements">rtseq</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00439"></a>00439     }
<a name="l00440"></a>00440 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2cbb83fb79f28eaea3d33acb13526e11"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::established" ref="a2cbb83fb79f28eaea3d33acb13526e11" args="(bool active)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::established </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>active</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when the connection is going to ESTABLISHED from SYN_SENT or SYN_RCVD. This is a place to initialize some variables (e.g. set cwnd to the MSS learned during connection setup). If we are on the active side, here we also have to finish the 3-way connection setup procedure by sending an ACK, possibly piggybacked on data. </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#a6bbeaec803a6c9e148ba36c838c267a5">tcp_old::TCPAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00141">141</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00142"></a>00142 {
<a name="l00143"></a>00143     <span class="comment">// initialize cwnd (we may learn MSS during connection setup --</span>
<a name="l00144"></a>00144     <span class="comment">// this (MSS TCP option) is not implemented yet though)</span>
<a name="l00145"></a>00145     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a73738d466d937caa81eba0a8678c580d">snd_cwnd</a> = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#aa63003ec3568a869469e95d848e836b7">snd_mss</a>;
<a name="l00146"></a>00146     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a44ed6e1611f4f4ad3ade255022a7b748">cwndVector</a>) <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a44ed6e1611f4f4ad3ade255022a7b748">cwndVector</a>-&gt;record(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a73738d466d937caa81eba0a8678c580d">snd_cwnd</a>);
<a name="l00147"></a>00147 
<a name="l00148"></a>00148     <span class="keywordflow">if</span> (active)
<a name="l00149"></a>00149     {
<a name="l00150"></a>00150         <span class="comment">// finish connection setup with ACK (possibly piggybacked on data)</span>
<a name="l00151"></a>00151         <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;Completing connection setup by sending ACK (possibly piggybacked on data)\n&quot;</span>;
<a name="l00152"></a>00152         <span class="keywordflow">if</span> (!<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a28c072f575629d0c5ec6478edd3bb7e5">sendData</a>())
<a name="l00153"></a>00153             <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#a60ee5bc5b391d621e7e684857e195151">sendAck</a>();
<a name="l00154"></a>00154     }
<a name="l00155"></a>00155 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae6147731689fcc4c5c79f4cc539c6b7f"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::initialize" ref="ae6147731689fcc4c5c79f4cc539c6b7f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::initialize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create timers, etc. </p>

<p>Reimplemented from <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#adbd27ed1bccde3db4924db7393ef60ee">tcp_old::TCPAlgorithm</a>.</p>

<p>Reimplemented in <a class="el" href="classtcp__old_1_1_t_c_p_no_congestion_control.html#a3d875b56a5442cb63a6b37da45efdc9d">tcp_old::TCPNoCongestionControl</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">116</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00117"></a>00117 {
<a name="l00118"></a>00118     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#ae6147731689fcc4c5c79f4cc539c6b7f">TCPAlgorithm::initialize</a>();
<a name="l00119"></a>00119 
<a name="l00120"></a>00120     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;REXMIT&quot;</span>);
<a name="l00121"></a>00121     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#ac91743dd54e430683d3dca8ec6656424">persistTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;PERSIST&quot;</span>);
<a name="l00122"></a>00122     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;DELAYEDACK&quot;</span>);
<a name="l00123"></a>00123     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a28d58e8845917e0248e81af8ab188132">keepAliveTimer</a> = <span class="keyword">new</span> cMessage(<span class="stringliteral">&quot;KEEPALIVE&quot;</span>);
<a name="l00124"></a>00124 
<a name="l00125"></a>00125     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>-&gt;setContextPointer(<a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>);
<a name="l00126"></a>00126     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#ac91743dd54e430683d3dca8ec6656424">persistTimer</a>-&gt;setContextPointer(<a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>);
<a name="l00127"></a>00127     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a>-&gt;setContextPointer(<a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>);
<a name="l00128"></a>00128     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a28d58e8845917e0248e81af8ab188132">keepAliveTimer</a>-&gt;setContextPointer(<a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>);
<a name="l00129"></a>00129 
<a name="l00130"></a>00130     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#a5ba299a7999e64fe67e8fef5f62c2402">getTcpMain</a>()-&gt;<a class="code" href="classtcp__old_1_1_t_c_p.html#a80ef210c6b5459c5f9d66b1e63224ede">recordStatistics</a>)
<a name="l00131"></a>00131     {
<a name="l00132"></a>00132         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a44ed6e1611f4f4ad3ade255022a7b748">cwndVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">&quot;cwnd&quot;</span>);
<a name="l00133"></a>00133         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a805dc5d5cca7ecc801b5bb2497a5e141">ssthreshVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">&quot;ssthresh&quot;</span>);
<a name="l00134"></a>00134         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a69be7c7a51275657b27c8dcbc84c4250">rttVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">&quot;measured RTT&quot;</span>);
<a name="l00135"></a>00135         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aa4ff44520c0013f3b7c5a5e1d2932c85">srttVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">&quot;smoothed RTT&quot;</span>);
<a name="l00136"></a>00136         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aeaa609766fa911a28875a26e1cf81dbc">rttvarVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">&quot;RTTVAR&quot;</span>);
<a name="l00137"></a>00137         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#abb761bc8c6217f12c62452863e015c57">rtoVector</a> = <span class="keyword">new</span> cOutVector(<span class="stringliteral">&quot;RTO&quot;</span>);
<a name="l00138"></a>00138     }
<a name="l00139"></a>00139 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad5f7c065fdf27a650a7c711cf8e31766"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::processDelayedAckTimer" ref="ad5f7c065fdf27a650a7c711cf8e31766" args="(TCPEventCode &amp;event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::processDelayedAckTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32">TCPEventCode</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00235">235</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00165">processTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00236"></a>00236 {
<a name="l00237"></a>00237     <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#a60ee5bc5b391d621e7e684857e195151">sendAck</a>();
<a name="l00238"></a>00238 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a586dd4192388dc907ab36ae4aec4c3d5"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::processKeepAliveTimer" ref="a586dd4192388dc907ab36ae4aec4c3d5" args="(TCPEventCode &amp;event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::processKeepAliveTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32">TCPEventCode</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00240">240</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00165">processTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00241"></a>00241 {
<a name="l00242"></a>00242     <span class="comment">// FIXME TBD</span>
<a name="l00243"></a>00243 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a69a0d60fa083b9a3b03e8f80d3c53e6f"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::processPersistTimer" ref="a69a0d60fa083b9a3b03e8f80d3c53e6f" args="(TCPEventCode &amp;event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::processPersistTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32">TCPEventCode</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00229">229</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00165">processTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00230"></a>00230 {
<a name="l00231"></a>00231     <span class="comment">// FIXME TBD finish (currently Persist Timer never gets scheduled)</span>
<a name="l00232"></a>00232     <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#ab07a8b0ce79c80e9baf75c3e82f56937">sendProbe</a>();
<a name="l00233"></a>00233 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac8a305a437d4eafd1689204e50af8870"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::processRexmitTimer" ref="ac8a305a437d4eafd1689204e50af8870" args="(TCPEventCode &amp;event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::processRexmitTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32">TCPEventCode</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>event</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented in <a class="el" href="classtcp__old_1_1_t_c_p_no_congestion_control.html#acce4963470b581797181af3f924a6433">tcp_old::TCPNoCongestionControl</a>, <a class="el" href="classtcp__old_1_1_t_c_p_reno.html#a8200e1aeef42d932ef24f447beaf25f5">tcp_old::TCPReno</a>, and <a class="el" href="classtcp__old_1_1_t_c_p_tahoe.html#a7e4ea81dbdbfd0eb8321ccf653a6eb00">tcp_old::TCPTahoe</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00179">179</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00165">processTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00180"></a>00180 {
<a name="l00181"></a>00181     <span class="comment">//&quot;</span>
<a name="l00182"></a>00182     <span class="comment">// For any state if the retransmission timeout expires on a segment in</span>
<a name="l00183"></a>00183     <span class="comment">// the retransmission queue, send the segment at the front of the</span>
<a name="l00184"></a>00184     <span class="comment">// retransmission queue again, reinitialize the retransmission timer,</span>
<a name="l00185"></a>00185     <span class="comment">// and return.</span>
<a name="l00186"></a>00186     <span class="comment">//&quot;</span>
<a name="l00187"></a>00187     <span class="comment">// Also: abort connection after max 12 retries.</span>
<a name="l00188"></a>00188     <span class="comment">//</span>
<a name="l00189"></a>00189     <span class="comment">// However, retransmission is actually more complicated than that</span>
<a name="l00190"></a>00190     <span class="comment">// in RFC 793 above, we&apos;ll leave it to subclasses (e.g. TCPTahoe, TCPReno).</span>
<a name="l00191"></a>00191     <span class="comment">//</span>
<a name="l00192"></a>00192     <span class="keywordflow">if</span> (++<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a4710adb820ba2dffd59605d049a95e7a" title="retransmit count">rexmit_count</a> &gt; <a class="code" href="flavours_2_t_c_p_base_alg_8cc.html#ae1c90ad29f7385e9c624af5f695227d9">MAX_REXMIT_COUNT</a>)
<a name="l00193"></a>00193     {
<a name="l00194"></a>00194         <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;Retransmission count exceeds &quot;</span> &lt;&lt; <a class="code" href="flavours_2_t_c_p_base_alg_8cc.html#ae1c90ad29f7385e9c624af5f695227d9">MAX_REXMIT_COUNT</a> &lt;&lt; <span class="stringliteral">&quot;, aborting connection\n&quot;</span>;
<a name="l00195"></a>00195         <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#a264eb196b44591ed68422a9e70dab680">signalConnectionTimeout</a>();
<a name="l00196"></a>00196         <span class="keyword">event</span> = <a class="code" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32a1fd07d5de8615b02fe30cc7159af37af">TCP_E_ABORT</a>;  <span class="comment">// TBD maybe rather introduce a TCP_E_TIMEDOUT event</span>
<a name="l00197"></a>00197         <span class="keywordflow">return</span>;
<a name="l00198"></a>00198     }
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;Performing retransmission #&quot;</span> &lt;&lt; <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a4710adb820ba2dffd59605d049a95e7a" title="retransmit count">rexmit_count</a>
<a name="l00201"></a>00201           &lt;&lt; <span class="stringliteral">&quot;; increasing RTO from &quot;</span> &lt;&lt; <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#ab1716091624f9fba5483a27096ddd0d2" title="current retransmission timeout (aka RTO)">rexmit_timeout</a> &lt;&lt; <span class="stringliteral">&quot;s &quot;</span>;
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <span class="comment">//</span>
<a name="l00204"></a>00204     <span class="comment">// Karn&apos;s algorithm is implemented below:</span>
<a name="l00205"></a>00205     <span class="comment">//  (1) don&apos;t measure RTT for retransmitted packets.</span>
<a name="l00206"></a>00206     <span class="comment">//  (2) RTO should be doubled after retransmission (&quot;exponential back-off&quot;)</span>
<a name="l00207"></a>00207     <span class="comment">//</span>
<a name="l00208"></a>00208 
<a name="l00209"></a>00209     <span class="comment">// restart the retransmission timer with twice the latest RTO value, or with the max, whichever is smaller</span>
<a name="l00210"></a>00210     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#ab1716091624f9fba5483a27096ddd0d2" title="current retransmission timeout (aka RTO)">rexmit_timeout</a> += <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#ab1716091624f9fba5483a27096ddd0d2" title="current retransmission timeout (aka RTO)">rexmit_timeout</a>;
<a name="l00211"></a>00211     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#ab1716091624f9fba5483a27096ddd0d2" title="current retransmission timeout (aka RTO)">rexmit_timeout</a> &gt; <a class="code" href="flavours_2_t_c_p_base_alg_8cc.html#a0770bb727a65bd2bd84b4581d95ca364">MAX_REXMIT_TIMEOUT</a>)
<a name="l00212"></a>00212         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#ab1716091624f9fba5483a27096ddd0d2" title="current retransmission timeout (aka RTO)">rexmit_timeout</a> = <a class="code" href="flavours_2_t_c_p_base_alg_8cc.html#a0770bb727a65bd2bd84b4581d95ca364">MAX_REXMIT_TIMEOUT</a>;
<a name="l00213"></a>00213     <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#ae1ff44c73d20293a446adc091842bedd">scheduleTimeout</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>, <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#ab1716091624f9fba5483a27096ddd0d2" title="current retransmission timeout (aka RTO)">rexmit_timeout</a>);
<a name="l00214"></a>00214 
<a name="l00215"></a>00215     <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot; to &quot;</span> &lt;&lt; <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#ab1716091624f9fba5483a27096ddd0d2" title="current retransmission timeout (aka RTO)">rexmit_timeout</a> &lt;&lt; <span class="stringliteral">&quot;s, and cancelling RTT measurement\n&quot;</span>;
<a name="l00216"></a>00216 
<a name="l00217"></a>00217     <span class="comment">// cancel round-trip time measurement</span>
<a name="l00218"></a>00218     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a3db36f802e1ef66fa4f0a4217e65e8d0" title="time when rtseq was sent (0 if RTT measurement is not running)">rtseq_sendtime</a> = 0;
<a name="l00219"></a>00219 
<a name="l00220"></a>00220     <span class="comment">//</span>
<a name="l00221"></a>00221     <span class="comment">// Leave congestion window management and actual retransmission to</span>
<a name="l00222"></a>00222     <span class="comment">// subclasses (e.g. TCPTahoe, TCPReno).</span>
<a name="l00223"></a>00223     <span class="comment">//</span>
<a name="l00224"></a>00224     <span class="comment">// That is, subclasses will redefine this method, call us, then perform</span>
<a name="l00225"></a>00225     <span class="comment">// window adjustments and do the retransmission as they like.</span>
<a name="l00226"></a>00226     <span class="comment">//</span>
<a name="l00227"></a>00227 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9008afe23db553e45b37d9811f7af110"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::processTimer" ref="a9008afe23db553e45b37d9811f7af110" args="(cMessage *timer, TCPEventCode &amp;event)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::processTimer </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>timer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacetcp__old.html#abfa4f59944c07369d42e86a72040dd32">TCPEventCode</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>event</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Process REXMIT, PERSIST, DELAYED-ACK and KEEP-ALIVE timers. </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#a1139760efe38d49068564ab562e5c1f0">tcp_old::TCPAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00165">165</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00166"></a>00166 {
<a name="l00167"></a>00167     <span class="keywordflow">if</span> (timer==<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>)
<a name="l00168"></a>00168         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#ac8a305a437d4eafd1689204e50af8870">processRexmitTimer</a>(event);
<a name="l00169"></a>00169     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (timer==<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#ac91743dd54e430683d3dca8ec6656424">persistTimer</a>)
<a name="l00170"></a>00170         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a69a0d60fa083b9a3b03e8f80d3c53e6f">processPersistTimer</a>(event);
<a name="l00171"></a>00171     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (timer==<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a>)
<a name="l00172"></a>00172         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#ad5f7c065fdf27a650a7c711cf8e31766">processDelayedAckTimer</a>(event);
<a name="l00173"></a>00173     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (timer==<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a28d58e8845917e0248e81af8ab188132">keepAliveTimer</a>)
<a name="l00174"></a>00174         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a586dd4192388dc907ab36ae4aec4c3d5">processKeepAliveTimer</a>(event);
<a name="l00175"></a>00175     <span class="keywordflow">else</span>
<a name="l00176"></a>00176         <span class="keywordflow">throw</span> cRuntimeError(timer, <span class="stringliteral">&quot;unrecognized timer&quot;</span>);
<a name="l00177"></a>00177 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8d57787d474f4a317bffa76c8f13ef3a"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::receivedAckForDataNotYetSent" ref="a8d57787d474f4a317bffa76c8f13ef3a" args="(uint32 seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::receivedAckForDataNotYetSent </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>seq</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after we received an ACK for data not yet sent. According to RFC 793 this function should send an ACK. </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#a9f6805c97af24ed1cfe2b94adf983a64">tcp_old::TCPAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00410">410</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00411"></a>00411 {
<a name="l00412"></a>00412     <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;ACK acks something not yet sent, sending immediate ACK\n&quot;</span>;
<a name="l00413"></a>00413     <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#a60ee5bc5b391d621e7e684857e195151">sendAck</a>();
<a name="l00414"></a>00414 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a55a32a0e93c6417adb091ee162f225e2"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::receivedDataAck" ref="a55a32a0e93c6417adb091ee162f225e2" args="(uint32 firstSeqAcked)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::receivedDataAck </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>firstSeqAcked</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after we received an ACK which acked some data (that is, we could advance snd_una). At this point the state variables (snd_una, snd_wnd) have already been updated. The argument firstSeqAcked is the previous snd_una value, that is, the number of bytes acked is (snd_una-firstSeqAcked). The dupack counter still reflects the old value (needed for Reno and NewReno); it'll be reset to 0 after this call returns. </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#aca06733ab569ab16f026d31a3bfe5077">tcp_old::TCPAlgorithm</a>.</p>

<p>Reimplemented in <a class="el" href="classtcp__old_1_1_t_c_p_no_congestion_control.html#a9e68b13f66146c853c5032476138a123">tcp_old::TCPNoCongestionControl</a>, <a class="el" href="classtcp__old_1_1_t_c_p_reno.html#a346296d9fcd3056d1add56d2f03dd391">tcp_old::TCPReno</a>, and <a class="el" href="classtcp__old_1_1_t_c_p_tahoe.html#ab0f1ac1b45b76e45ad5b0ff24faaac80">tcp_old::TCPTahoe</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00346">346</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00347"></a>00347 {
<a name="l00348"></a>00348     <span class="comment">// if round-trip time measurement is running, check if rtseq has been acked</span>
<a name="l00349"></a>00349     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a3db36f802e1ef66fa4f0a4217e65e8d0" title="time when rtseq was sent (0 if RTT measurement is not running)">rtseq_sendtime</a>!=0 &amp;&amp; <a class="code" href="namespacetcp__old.html#a17c7a0744a549bb90de7d1bc6b8b72ad">seqLess</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#acad28c9a018a6bbaeb822003ce53c0d9" title="round-trip time measurements">rtseq</a>, <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#ace4a453b30bdffb99c1c0646fba597dc">snd_una</a>))
<a name="l00350"></a>00350     {
<a name="l00351"></a>00351         <span class="comment">// print value</span>
<a name="l00352"></a>00352         <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;Round-trip time measured on rtseq=&quot;</span> &lt;&lt; <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#acad28c9a018a6bbaeb822003ce53c0d9" title="round-trip time measurements">rtseq</a> &lt;&lt; <span class="stringliteral">&quot;: &quot;</span>
<a name="l00353"></a>00353               &lt;&lt; floor((simTime() - <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a3db36f802e1ef66fa4f0a4217e65e8d0" title="time when rtseq was sent (0 if RTT measurement is not running)">rtseq_sendtime</a>)*1000+0.5) &lt;&lt; <span class="stringliteral">&quot;ms\n&quot;</span>;
<a name="l00354"></a>00354 
<a name="l00355"></a>00355         <span class="comment">// update RTT variables with new value</span>
<a name="l00356"></a>00356         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31986bf6db565ab455f818eafb01320e">rttMeasurementComplete</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a3db36f802e1ef66fa4f0a4217e65e8d0" title="time when rtseq was sent (0 if RTT measurement is not running)">rtseq_sendtime</a>, simTime());
<a name="l00357"></a>00357 
<a name="l00358"></a>00358         <span class="comment">// measurement finished</span>
<a name="l00359"></a>00359         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a3db36f802e1ef66fa4f0a4217e65e8d0" title="time when rtseq was sent (0 if RTT measurement is not running)">rtseq_sendtime</a> = 0;
<a name="l00360"></a>00360     }
<a name="l00361"></a>00361 
<a name="l00362"></a>00362     <span class="comment">//</span>
<a name="l00363"></a>00363     <span class="comment">// handling of retransmission timer: if the ACK is for the last segment sent</span>
<a name="l00364"></a>00364     <span class="comment">// (no data in flight), cancel the timer, otherwise restart the timer</span>
<a name="l00365"></a>00365     <span class="comment">// with the current RTO value.</span>
<a name="l00366"></a>00366     <span class="comment">//</span>
<a name="l00367"></a>00367     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#ace4a453b30bdffb99c1c0646fba597dc">snd_una</a>==<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#a7589e90fe54f9579ab547d55760b4d17">snd_max</a>)
<a name="l00368"></a>00368     {
<a name="l00369"></a>00369         <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>-&gt;isScheduled())
<a name="l00370"></a>00370         {
<a name="l00371"></a>00371             <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;ACK acks all outstanding segments, cancel REXMIT timer\n&quot;</span>;
<a name="l00372"></a>00372             <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>);
<a name="l00373"></a>00373         }
<a name="l00374"></a>00374         <span class="keywordflow">else</span>
<a name="l00375"></a>00375         {
<a name="l00376"></a>00376             <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;There were no outstanding segments, nothing new in this ACK.\n&quot;</span>;
<a name="l00377"></a>00377         }
<a name="l00378"></a>00378     }
<a name="l00379"></a>00379     <span class="keywordflow">else</span>
<a name="l00380"></a>00380     {
<a name="l00381"></a>00381         <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;ACK acks some but not all outstanding segments (&quot;</span>
<a name="l00382"></a>00382               &lt;&lt; (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#a7589e90fe54f9579ab547d55760b4d17">snd_max</a> - <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#ace4a453b30bdffb99c1c0646fba597dc">snd_una</a>) &lt;&lt; <span class="stringliteral">&quot; bytes outstanding), &quot;</span>
<a name="l00383"></a>00383               &lt;&lt; <span class="stringliteral">&quot;restarting REXMIT timer\n&quot;</span>;
<a name="l00384"></a>00384         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>);
<a name="l00385"></a>00385         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a5fc842a3f9c5297e9ba795843bf0cabb">startRexmitTimer</a>();
<a name="l00386"></a>00386     }
<a name="l00387"></a>00387 
<a name="l00388"></a>00388     <span class="comment">//</span>
<a name="l00389"></a>00389     <span class="comment">// Leave congestion window management and possible sending data to</span>
<a name="l00390"></a>00390     <span class="comment">// subclasses (e.g. TCPTahoe, TCPReno).</span>
<a name="l00391"></a>00391     <span class="comment">//</span>
<a name="l00392"></a>00392     <span class="comment">// That is, subclasses will redefine this method, call us, then perform</span>
<a name="l00393"></a>00393     <span class="comment">// window adjustments and send data (if there&apos;s room in the window).</span>
<a name="l00394"></a>00394     <span class="comment">//</span>
<a name="l00395"></a>00395 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad198abc5a259c9b1660ec149aae3b11d"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::receivedDuplicateAck" ref="ad198abc5a259c9b1660ec149aae3b11d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::receivedDuplicateAck </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after we received a duplicate ACK (that is: ackNo==snd_una, no data in segment, segment doesn't carry window update, and also, we have unacked data). The dupack counter got already updated when calling this method (i.e. dupack==1 on first duplicate ACK.) </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#a7ea85ca6cca058d942c83cb76eb3109a">tcp_old::TCPAlgorithm</a>.</p>

<p>Reimplemented in <a class="el" href="classtcp__old_1_1_t_c_p_reno.html#adcf0d263e1c1551648ff9b52dff8326f">tcp_old::TCPReno</a>, and <a class="el" href="classtcp__old_1_1_t_c_p_tahoe.html#a5c9cd2ff02da7ddc8c1578b0e6a81236">tcp_old::TCPTahoe</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00397">397</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00398"></a>00398 {
<a name="l00399"></a>00399     <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;Duplicate ACK #&quot;</span> &lt;&lt; <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#a74cb98612a9fa541a2682e33f3991582">dupacks</a> &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00400"></a>00400 
<a name="l00401"></a>00401     <span class="comment">//</span>
<a name="l00402"></a>00402     <span class="comment">// Leave to subclasses (e.g. TCPTahoe, TCPReno) whatever they want to do</span>
<a name="l00403"></a>00403     <span class="comment">// on duplicate Acks.</span>
<a name="l00404"></a>00404     <span class="comment">//</span>
<a name="l00405"></a>00405     <span class="comment">// That is, subclasses will redefine this method, call us, then perform</span>
<a name="l00406"></a>00406     <span class="comment">// whatever action they want to do on dupAcks (e.g. retransmitting one segment).</span>
<a name="l00407"></a>00407     <span class="comment">//</span>
<a name="l00408"></a>00408 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa49a6c59e453685907e24dc671e3561d"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::receivedOutOfOrderSegment" ref="aa49a6c59e453685907e24dc671e3561d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::receivedOutOfOrderSegment </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after receiving data which are in the window, but not at its left edge (seq!=rcv_nxt). This indicates that either segments got re-ordered in the way, or one segment was lost. RFC1122 and RFC2001 recommend sending an immediate ACK here (Fast Retransmit relies on that). </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#a7ea3a177d38f6a05e84637233ae3b63d">tcp_old::TCPAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00323">323</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00324"></a>00324 {
<a name="l00325"></a>00325     <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;Out-of-order segment, sending immediate ACK\n&quot;</span>;
<a name="l00326"></a>00326     <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#a60ee5bc5b391d621e7e684857e195151">sendAck</a>();
<a name="l00327"></a>00327 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a772c3712679d50b0598957665b14acc9"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::receiveSeqChanged" ref="a772c3712679d50b0598957665b14acc9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::receiveSeqChanged </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after rcv_nxt got advanced, either because we received in-sequence data ("text" in RFC 793 lingo) or a FIN. At this point, rcv_nxt has already been updated. This method should take care to send or schedule an ACK some time. </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#a3c59a57936e92218369a8702956df1c7">tcp_old::TCPAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00329">329</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00330"></a>00330 {
<a name="l00331"></a>00331     <span class="keywordflow">if</span> (!<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a9a5229fbb94355dcf7d673ab31983118" title="TCP features.">delayed_acks_enabled</a>)
<a name="l00332"></a>00332     {
<a name="l00333"></a>00333         <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;rcv_nxt changed to &quot;</span> &lt;&lt; <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#a18b8a2c7e52c332378bd9f70b1d91b29">rcv_nxt</a> &lt;&lt; <span class="stringliteral">&quot;, sending ACK now (delayed ACKs are disabled)\n&quot;</span>;
<a name="l00334"></a>00334         <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#a60ee5bc5b391d621e7e684857e195151">sendAck</a>();
<a name="l00335"></a>00335     }
<a name="l00336"></a>00336     <span class="keywordflow">else</span>
<a name="l00337"></a>00337     {
<a name="l00338"></a>00338         <span class="comment">// FIXME ACK should be generated for at least every second SMSS-sized segment!</span>
<a name="l00339"></a>00339         <span class="comment">// schedule delayed ACK timer if not already running</span>
<a name="l00340"></a>00340         <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;rcv_nxt changed to &quot;</span> &lt;&lt; <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#a18b8a2c7e52c332378bd9f70b1d91b29">rcv_nxt</a> &lt;&lt; <span class="stringliteral">&quot;, scheduling ACK\n&quot;</span>;
<a name="l00341"></a>00341         <span class="keywordflow">if</span> (!<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a>-&gt;isScheduled())
<a name="l00342"></a>00342             <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#ae1ff44c73d20293a446adc091842bedd">scheduleTimeout</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">delayedAckTimer</a>, <a class="code" href="flavours_2_t_c_p_base_alg_8cc.html#a54b7d4e007b4463accfe09a7238ccecb">DELAYED_ACK_TIMEOUT</a>);
<a name="l00343"></a>00343     }
<a name="l00344"></a>00344 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa781a26258eb0504bfff79468079e1b8"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::restartRexmitTimer" ref="aa781a26258eb0504bfff79468079e1b8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::restartRexmitTimer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Restart REXMIT timer. </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#aceb0701fa06010324266e6a8192cce9f">tcp_old::TCPAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00442">442</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00443"></a>00443 {
<a name="l00444"></a>00444     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>-&gt;isScheduled())
<a name="l00445"></a>00445         <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aaef53f3ba0bc5012369c58446da0aed1">cancelEvent</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>);
<a name="l00446"></a>00446     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a5fc842a3f9c5297e9ba795843bf0cabb">startRexmitTimer</a>();
<a name="l00447"></a>00447 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a31986bf6db565ab455f818eafb01320e"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::rttMeasurementComplete" ref="a31986bf6db565ab455f818eafb01320e" args="(simtime_t tSent, simtime_t tAcked)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::rttMeasurementComplete </td>
          <td>(</td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>tSent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>tAcked</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Update state vars with new measured RTT value. Passing two simtime_t's will allow <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a31986bf6db565ab455f818eafb01320e">rttMeasurementComplete()</a> to do calculations in double or in 200ms/500ms ticks, as needed) </p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00255">255</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00346">receivedDataAck()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00256"></a>00256 {
<a name="l00257"></a>00257     <span class="comment">//</span>
<a name="l00258"></a>00258     <span class="comment">// Jacobson&apos;s algorithm for estimating RTT and adaptively setting RTO.</span>
<a name="l00259"></a>00259     <span class="comment">//</span>
<a name="l00260"></a>00260     <span class="comment">// Note: this implementation calculates in doubles. An impl. which uses</span>
<a name="l00261"></a>00261     <span class="comment">// 500ms ticks is available from old tcpmodule.cc:calcRetransTimer().</span>
<a name="l00262"></a>00262     <span class="comment">//</span>
<a name="l00263"></a>00263 
<a name="l00264"></a>00264     <span class="comment">// update smoothed RTT estimate (srtt) and variance (rttvar)</span>
<a name="l00265"></a>00265     <span class="keyword">const</span> <span class="keywordtype">double</span> g = 0.125;   <span class="comment">// 1/8; (1-alpha) where alpha=7/8;</span>
<a name="l00266"></a>00266     simtime_t newRTT = tAcked-tSent;
<a name="l00267"></a>00267 
<a name="l00268"></a>00268     simtime_t&amp; srtt = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a04e4b9733b78ee32e9ea4101cb2ee71f" title="round-trip time estimation (Jacobson&amp;#39;s algorithm)">srtt</a>;
<a name="l00269"></a>00269     simtime_t&amp; rttvar = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a4aeb5e6bcffd548fd3f21dbb29e520a8" title="variance of round-trip time">rttvar</a>;
<a name="l00270"></a>00270 
<a name="l00271"></a>00271     simtime_t err = newRTT - srtt;
<a name="l00272"></a>00272 
<a name="l00273"></a>00273     srtt += g*err;
<a name="l00274"></a>00274     rttvar += g*(fabs(err) - rttvar);
<a name="l00275"></a>00275 
<a name="l00276"></a>00276     <span class="comment">// assign RTO (here: rexmit_timeout) a new value</span>
<a name="l00277"></a>00277     simtime_t rto = srtt + 4*rttvar;
<a name="l00278"></a>00278     <span class="keywordflow">if</span> (rto&gt;<a class="code" href="flavours_2_t_c_p_base_alg_8cc.html#a0770bb727a65bd2bd84b4581d95ca364">MAX_REXMIT_TIMEOUT</a>)
<a name="l00279"></a>00279         rto = <a class="code" href="flavours_2_t_c_p_base_alg_8cc.html#a0770bb727a65bd2bd84b4581d95ca364">MAX_REXMIT_TIMEOUT</a>;
<a name="l00280"></a>00280     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rto&lt;<a class="code" href="flavours_2_t_c_p_base_alg_8cc.html#aaa64073abed4e79e958d3f8f048f6762">MIN_REXMIT_TIMEOUT</a>)
<a name="l00281"></a>00281         rto = <a class="code" href="flavours_2_t_c_p_base_alg_8cc.html#aaa64073abed4e79e958d3f8f048f6762">MIN_REXMIT_TIMEOUT</a>;
<a name="l00282"></a>00282 
<a name="l00283"></a>00283     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#ab1716091624f9fba5483a27096ddd0d2" title="current retransmission timeout (aka RTO)">rexmit_timeout</a> = rto;
<a name="l00284"></a>00284 
<a name="l00285"></a>00285     <span class="comment">// record statistics</span>
<a name="l00286"></a>00286     <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;Measured RTT=&quot;</span> &lt;&lt; (newRTT*1000) &lt;&lt; <span class="stringliteral">&quot;ms, updated SRTT=&quot;</span> &lt;&lt; (srtt*1000)
<a name="l00287"></a>00287           &lt;&lt; <span class="stringliteral">&quot;ms, new RTO=&quot;</span> &lt;&lt; (rto*1000) &lt;&lt; <span class="stringliteral">&quot;ms\n&quot;</span>;
<a name="l00288"></a>00288     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a69be7c7a51275657b27c8dcbc84c4250">rttVector</a>) <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a69be7c7a51275657b27c8dcbc84c4250">rttVector</a>-&gt;record(newRTT);
<a name="l00289"></a>00289     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aa4ff44520c0013f3b7c5a5e1d2932c85">srttVector</a>) <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aa4ff44520c0013f3b7c5a5e1d2932c85">srttVector</a>-&gt;record(srtt);
<a name="l00290"></a>00290     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aeaa609766fa911a28875a26e1cf81dbc">rttvarVector</a>) <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aeaa609766fa911a28875a26e1cf81dbc">rttvarVector</a>-&gt;record(rttvar);
<a name="l00291"></a>00291     <span class="keywordflow">if</span> (<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#abb761bc8c6217f12c62452863e015c57">rtoVector</a>) <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#abb761bc8c6217f12c62452863e015c57">rtoVector</a>-&gt;record(rto);
<a name="l00292"></a>00292 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adeb5f45e211987af985c94992dc3350f"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::sendCommandInvoked" ref="adeb5f45e211987af985c94992dc3350f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::sendCommandInvoked </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called after user sent TCP_C_SEND command to us. </p>

<p>Implements <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#ae85b3610dd8b6f93018265812e9eaa74">tcp_old::TCPAlgorithm</a>.</p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00317">317</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00318"></a>00318 {
<a name="l00319"></a>00319     <span class="comment">// try sending</span>
<a name="l00320"></a>00320     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a28c072f575629d0c5ec6478edd3bb7e5">sendData</a>();
<a name="l00321"></a>00321 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a28c072f575629d0c5ec6478edd3bb7e5"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::sendData" ref="a28c072f575629d0c5ec6478edd3bb7e5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool TCPBaseAlg::sendData </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Send data, observing Nagle's algorithm and congestion window </p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00294">294</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00141">established()</a>, <a class="el" href="old_2flavours_2_t_c_p_tahoe_8cc_source.html#l00060">tcp_old::TCPTahoe::receivedDataAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_reno_8cc_source.html#l00064">tcp_old::TCPReno::receivedDataAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_no_congestion_control_8cc_source.html#l00048">tcp_old::TCPNoCongestionControl::receivedDataAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_reno_8cc_source.html#l00130">tcp_old::TCPReno::receivedDuplicateAck()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00317">sendCommandInvoked()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00295"></a>00295 {
<a name="l00296"></a>00296     <span class="comment">//</span>
<a name="l00297"></a>00297     <span class="comment">// Nagle&apos;s algorithm: when a TCP connection has outstanding data that has not</span>
<a name="l00298"></a>00298     <span class="comment">// yet been acknowledged, small segments cannot be sent until the outstanding</span>
<a name="l00299"></a>00299     <span class="comment">// data is acknowledged. (In this case, small amounts of data are collected</span>
<a name="l00300"></a>00300     <span class="comment">// by TCP and sent in a single segment.)</span>
<a name="l00301"></a>00301     <span class="comment">//</span>
<a name="l00302"></a>00302     <span class="comment">// FIXME there&apos;s also something like this: can still send if</span>
<a name="l00303"></a>00303     <span class="comment">// &quot;b) a segment that can be sent is at least half the size of</span>
<a name="l00304"></a>00304     <span class="comment">// the largest window ever advertised by the receiver&quot;</span>
<a name="l00305"></a>00305 
<a name="l00306"></a>00306     <span class="keywordtype">bool</span> fullSegmentsOnly = <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a8a81be3ea66dee6840abd1d2b14b9a27" title="Nagle&amp;#39;s algorithm (off = NODELAY socket option).">nagle_enabled</a> &amp;&amp; <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#ace4a453b30bdffb99c1c0646fba597dc">snd_una</a>!=<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_state_variables.html#a7589e90fe54f9579ab547d55760b4d17">snd_max</a>;
<a name="l00307"></a>00307     <span class="keywordflow">if</span> (fullSegmentsOnly)
<a name="l00308"></a>00308         <a class="code" href="_t_c_p_8h.html#a601325e92d65fe658c80eab711e12304">tcpEV</a> &lt;&lt; <span class="stringliteral">&quot;Nagle is enabled and there&apos;s unacked data: only full segments will be sent\n&quot;</span>;
<a name="l00309"></a>00309 
<a name="l00310"></a>00310     <span class="comment">//</span>
<a name="l00311"></a>00311     <span class="comment">// Send window is effectively the minimum of the congestion window (cwnd)</span>
<a name="l00312"></a>00312     <span class="comment">// and the advertised window (snd_wnd).</span>
<a name="l00313"></a>00313     <span class="comment">//</span>
<a name="l00314"></a>00314     <span class="keywordflow">return</span> <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#ab2cbccc16b2f006369a83c51426e4bc5">sendData</a>(fullSegmentsOnly, <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a73738d466d937caa81eba0a8678c580d">snd_cwnd</a>);
<a name="l00315"></a>00315 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5fc842a3f9c5297e9ba795843bf0cabb"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::startRexmitTimer" ref="a5fc842a3f9c5297e9ba795843bf0cabb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void TCPBaseAlg::startRexmitTimer </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Start REXMIT timer and initialize retransmission variables </p>

<p>Definition at line <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00245">245</a> of file <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00423">dataSent()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00346">receivedDataAck()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00442">restartRexmitTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00246"></a>00246 {
<a name="l00247"></a>00247     <span class="comment">// start counting retransmissions for this seq number.</span>
<a name="l00248"></a>00248     <span class="comment">// Note: state-&gt;rexmit_timeout is set from rttMeasurementComplete().</span>
<a name="l00249"></a>00249     <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#a4710adb820ba2dffd59605d049a95e7a" title="retransmit count">rexmit_count</a> = 0;
<a name="l00250"></a>00250 
<a name="l00251"></a>00251     <span class="comment">// schedule timer</span>
<a name="l00252"></a>00252     <a class="code" href="classtcp__old_1_1_t_c_p_algorithm.html#ace3ece95815d68c2b518716106edac93">conn</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_connection.html#ae1ff44c73d20293a446adc091842bedd">scheduleTimeout</a>(<a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">rexmitTimer</a>, <a class="code" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">state</a>-&gt;<a class="code" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html#ab1716091624f9fba5483a27096ddd0d2" title="current retransmission timeout (aka RTO)">rexmit_timeout</a>);
<a name="l00253"></a>00253 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a44ed6e1611f4f4ad3ade255022a7b748"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::cwndVector" ref="a44ed6e1611f4f4ad3ade255022a7b748" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a44ed6e1611f4f4ad3ade255022a7b748">tcp_old::TCPBaseAlg::cwndVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00099">99</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00141">established()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">initialize()</a>, <a class="el" href="old_2flavours_2_t_c_p_tahoe_8cc_source.html#l00041">tcp_old::TCPTahoe::processRexmitTimer()</a>, <a class="el" href="old_2flavours_2_t_c_p_reno_8cc_source.html#l00041">tcp_old::TCPReno::processRexmitTimer()</a>, <a class="el" href="old_2flavours_2_t_c_p_tahoe_8cc_source.html#l00060">tcp_old::TCPTahoe::receivedDataAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_reno_8cc_source.html#l00064">tcp_old::TCPReno::receivedDataAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_tahoe_8cc_source.html#l00111">tcp_old::TCPTahoe::receivedDuplicateAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_reno_8cc_source.html#l00130">tcp_old::TCPReno::receivedDuplicateAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">TCPBaseAlg()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

</div>
</div>
<a class="anchor" id="acf8933cb6f7769f94955dcbe28ae9713"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::delayedAckTimer" ref="acf8933cb6f7769f94955dcbe28ae9713" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#acf8933cb6f7769f94955dcbe28ae9713">tcp_old::TCPBaseAlg::delayedAckTimer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00096">96</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00416">ackSent()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00157">connectionClosed()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">initialize()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00165">processTimer()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00329">receiveSeqChanged()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">TCPBaseAlg()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

</div>
</div>
<a class="anchor" id="a28d58e8845917e0248e81af8ab188132"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::keepAliveTimer" ref="a28d58e8845917e0248e81af8ab188132" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a28d58e8845917e0248e81af8ab188132">tcp_old::TCPBaseAlg::keepAliveTimer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00097">97</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00157">connectionClosed()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">initialize()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00165">processTimer()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">TCPBaseAlg()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

</div>
</div>
<a class="anchor" id="ac91743dd54e430683d3dca8ec6656424"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::persistTimer" ref="ac91743dd54e430683d3dca8ec6656424" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#ac91743dd54e430683d3dca8ec6656424">tcp_old::TCPBaseAlg::persistTimer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00095">95</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00157">connectionClosed()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">initialize()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00165">processTimer()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">TCPBaseAlg()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

</div>
</div>
<a class="anchor" id="a31e7c26c1483bbdcfb24de643fab5624"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::rexmitTimer" ref="a31e7c26c1483bbdcfb24de643fab5624" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a31e7c26c1483bbdcfb24de643fab5624">tcp_old::TCPBaseAlg::rexmitTimer</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00094">94</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00157">connectionClosed()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00423">dataSent()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">initialize()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00179">processRexmitTimer()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00165">processTimer()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00346">receivedDataAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00442">restartRexmitTimer()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00245">startRexmitTimer()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">TCPBaseAlg()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

</div>
</div>
<a class="anchor" id="abb761bc8c6217f12c62452863e015c57"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::rtoVector" ref="abb761bc8c6217f12c62452863e015c57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#abb761bc8c6217f12c62452863e015c57">tcp_old::TCPBaseAlg::rtoVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00104">104</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">initialize()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00255">rttMeasurementComplete()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">TCPBaseAlg()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

</div>
</div>
<a class="anchor" id="aeaa609766fa911a28875a26e1cf81dbc"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::rttvarVector" ref="aeaa609766fa911a28875a26e1cf81dbc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#aeaa609766fa911a28875a26e1cf81dbc">tcp_old::TCPBaseAlg::rttvarVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00103">103</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">initialize()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00255">rttMeasurementComplete()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">TCPBaseAlg()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

</div>
</div>
<a class="anchor" id="a69be7c7a51275657b27c8dcbc84c4250"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::rttVector" ref="a69be7c7a51275657b27c8dcbc84c4250" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a69be7c7a51275657b27c8dcbc84c4250">tcp_old::TCPBaseAlg::rttVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00101">101</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">initialize()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00255">rttMeasurementComplete()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">TCPBaseAlg()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

</div>
</div>
<a class="anchor" id="aa4ff44520c0013f3b7c5a5e1d2932c85"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::srttVector" ref="aa4ff44520c0013f3b7c5a5e1d2932c85" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#aa4ff44520c0013f3b7c5a5e1d2932c85">tcp_old::TCPBaseAlg::srttVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00102">102</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">initialize()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00255">rttMeasurementComplete()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">TCPBaseAlg()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

</div>
</div>
<a class="anchor" id="a805dc5d5cca7ecc801b5bb2497a5e141"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::ssthreshVector" ref="a805dc5d5cca7ecc801b5bb2497a5e141" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cOutVector* <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#a805dc5d5cca7ecc801b5bb2497a5e141">tcp_old::TCPBaseAlg::ssthreshVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00100">100</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00116">initialize()</a>, <a class="el" href="old_2flavours_2_t_c_p_tahoe_8cc_source.html#l00032">tcp_old::TCPTahoe::recalculateSlowStartThreshold()</a>, <a class="el" href="old_2flavours_2_t_c_p_reno_8cc_source.html#l00032">tcp_old::TCPReno::recalculateSlowStartThreshold()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00090">TCPBaseAlg()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00097">~TCPBaseAlg()</a>.</p>

</div>
</div>
<a class="anchor" id="aad952f4bbd257033bc40c1a13542d99e"></a><!-- doxytag: member="tcp_old::TCPBaseAlg::state" ref="aad952f4bbd257033bc40c1a13542d99e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtcp__old_1_1_t_c_p_base_alg_state_variables.html">TCPBaseAlgStateVariables</a>*&amp; <a class="el" href="classtcp__old_1_1_t_c_p_base_alg.html#aad952f4bbd257033bc40c1a13542d99e">tcp_old::TCPBaseAlg::state</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="classtcp__old_1_1_t_c_p_algorithm.html#aa7a304b9e7b34e5dccefc57b3160146c">tcp_old::TCPAlgorithm</a>.</p>

<p>Reimplemented in <a class="el" href="classtcp__old_1_1_t_c_p_no_congestion_control.html#a6386a5d973daebac222cc4ee8b5c0929">tcp_old::TCPNoCongestionControl</a>, <a class="el" href="classtcp__old_1_1_t_c_p_reno.html#a8ae2cdc0c2e232cb974aeb58353daf51">tcp_old::TCPReno</a>, <a class="el" href="classtcp__old_1_1_t_c_p_tahoe.html#addad4384e3562edb3a1c17732252228d">tcp_old::TCPTahoe</a>, and <a class="el" href="classtcp__old_1_1_t_c_p_tahoe_reno_family.html#a01f42d662885d363dd6aaca980bacf23">tcp_old::TCPTahoeRenoFamily</a>.</p>

<p>Definition at line <a class="el" href="_t_c_p_base_alg__old_8h_source.html#l00092">92</a> of file <a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a>.</p>

<p>Referenced by <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00423">dataSent()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00141">established()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00179">processRexmitTimer()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00346">receivedDataAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00397">receivedDuplicateAck()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00329">receiveSeqChanged()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00255">rttMeasurementComplete()</a>, <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00294">sendData()</a>, and <a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html#l00245">startRexmitTimer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_t_c_p_base_alg__old_8h_source.html">TCPBaseAlg_old.h</a></li>
<li><a class="el" href="old_2flavours_2_t_c_p_base_alg_8cc_source.html">old/flavours/TCPBaseAlg.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Mar 23 17:08:39 2010 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
