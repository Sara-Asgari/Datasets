<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: Blackboard Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Blackboard Class Reference</h1><!-- doxytag: class="Blackboard" -->
<p><code>#include &lt;<a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>&gt;</code></p>

<p><a href="class_blackboard-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard_1_1_b_b_item.html">BBItem</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard_1_1iterator.html">iterator</a></td></tr>
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector<br class="typebreak"/>
&lt; <a class="el" href="class_blackboard_access.html">BlackboardAccess</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItem</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a19ade3a7996ed60a05d70ff039aa4236">BBItemRef</a></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a83b8477e21df0582ed1b57527f4631af">Blackboard</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#ad0c7a3c8f1d8074679b178631c262298">~Blackboard</a> ()</td></tr>
<tr><td colspan="2"><div class="groupHeader">Methods for publishers</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp8c99c7454ea912936dc8bf5abbc47ce4"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a80a003f601b1906516e46e312ba5fe66">publish</a> (const char *label, cPolymorphic *item)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#ad9ea575d3f6de4c0ed797e5050f04271">withdraw</a> (<a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a> bbItem)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#ae081479b4a85d4eb9d863dbeb97d3612">changed</a> (<a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a> bbItem, cPolymorphic *item=NULL)</td></tr>
<tr><td colspan="2"><div class="groupHeader">Methods for subscribers</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrpee539dc09c286523a1ce10f0bb9a1b6e"></a> </p>
<br/><br/></div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a3476b12db241a8c8e297d22272bf7c18">subscribe</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient, const char *label)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#aa120491baa07536fb85326e42878f5e2">find</a> (const char *label)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#ab50ce0f0f1b97b268d6be7c1e23d86e6">subscribe</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient, <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a> bbItem)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a83ae41a4d843dd302ae9763f9790e5c7">unsubscribe</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient, <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a> bbItem)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a8df76d28beac3e5ae68e60157687914b">registerClient</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a22f6532f3778e68afc07edad67f4fbf0">removeClient</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#ab88b990f3902c2fa34dac6e76f94adca">getBlackboardContent</a> (<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *bbClient)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_blackboard_1_1iterator.html">iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a2c0820094ae4124a29b3693b8108fe03">begin</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_blackboard_1_1iterator.html">iterator</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a89792300829e387ccfd719bd0276a0c1">end</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; std::string, <br class="typebreak"/>
<a class="el" href="class_blackboard_1_1_b_b_item.html">BBItem</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a428cddced037c11d65188ba48b808820">ContentsMap</a></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a14d34ec889dc4debb4fb4968fc2bbcc0">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a663ac4a5877cbba804cf22b7e75c6b4a">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a21366b51e0654dd9ff1b87727c93aaee">coreDebug</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set debugging for the basic module.  <a href="#a21366b51e0654dd9ff1b87727c93aaee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_blackboard.html#a428cddced037c11d65188ba48b808820">ContentsMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a5442b59653bb0eb50127aec2df33088a">registeredClients</a></td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blackboard.html#a9830fc407400559db7e7783cc10a9394">Iterator</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The <a class="el" href="class_blackboard.html">Blackboard</a> works as entity to enable inter-layer/inter-process communication.</p>
<p>NOTE: BLACKBOARD IS NO LONGER USED BY THE INET FRAMEWORK -- SUCCESSOR IS <a class="el" href="class_notification_board.html">NotificationBoard</a>.</p>
<p><a class="el" href="class_blackboard.html">Blackboard</a> makes it possible for several modules (representing e.g. protocol layers) to share information, in a publish-subscribe fashion. Participating modules or classes have to implement the <a class="el" href="class_blackboard_access.html">BlackboardAccess</a> interface (=have this abstract class as base class).</p>
<p>Anyone can publish data items on the blackboard. In order to allow for some type safety via dynamic_cast, items have to be subclassed from cPolymorphic.</p>
<p>Every item is published with a unique string label. The <a class="el" href="class_blackboard.html">Blackboard</a> makes no assumption about the format of the label, but it's generally a good idea to make it structured, e.g. with a dotted format ("nic1.linkstatus"). The label can be used by subscribers to identify an item ("I want to subscribe to nic1.linkstatus"). There are other ways to subscribe too, not only by label, e.g. one can browse through all <a class="el" href="class_blackboard.html">Blackboard</a> items, examine each (its label, C++ class, actual contents etc.) and decide individually whether to subscribe to it or not.</p>
<p>Labels are only used when publishing or subscribing to items. After that, items can be referred to using BBItemRefs. (BBItemRefs are sort of "handles" to blackboard items; think of file handles (fd's) or FILE* variables in Unix and C programming, or window handles (HWND) in the Windows API.) BBItemRefs allow very efficient (constant-time) access to <a class="el" href="class_blackboard.html">Blackboard</a> items.</p>
<p>Clients may browse blackboard contents and subscribe to items. After subscription, clients will receive notifications via <a class="el" href="class_blackboard_access.html">BlackboardAccess</a> callbacks whenever the subscribed item changes. Clients may also subscribe to get notified whenever items are published to or withdrawn from the blackboard.</p>
<p>Notifications are done with callback-like mechanism. Participating modules or classes have to subclass from the abstract base class <a class="el" href="class_blackboard_access.html">BlackboardAccess</a> and implement its methods (in Java, one would say clients should implement the <a class="el" href="class_blackboard_access.html">BlackboardAccess</a> interface.) This usually means multiple inheritance, but without the problems of multiple inheritance (Multiple inheritance is sometimes considered "evil", but never if used to do "mixins" as here.)</p>
<p>Some examples for usage. The first one, Foo demonstrates subscribe-by-name, the second one, Bar shows subscribe-when-published, and the third one, Zak does subscribe-by-browse.</p>
<pre>
 // subscribe-by-name
 class Foo : public cSimpleModule, public <a class="el" href="class_blackboard_access.html">BlackboardAccess</a>
 {
   protected:
     BBItemRef ref;
     ...
 };</pre><pre> void Foo::initialize(int stage)
 {
     // to avoid a subscribe-BEFORE-publish a two stage
     // initialization should be used and all publish calls should
     // go into the first stage (stage 0) whereas you should subscribe
     // in the second stage (stage 1)
     if(stage==0)
     {
         ...
     }
     else if(stage==1)
     {
         ref = getBlackboard()-&gt;subscribe(this,"routingTable");
         ...
     }
 }</pre><pre> void Foo::blackboardItemChanged(BBItemRef item)
 {
     if (item==ref)
     {
         <a class="el" href="class_i_routing_table.html">IRoutingTable</a> *rt = check_and_cast&lt;IRoutingTable *&gt;(ref-&gt;getData());
         ...
     }
     else ...
 }</pre><pre> // subscribe-when-published
 class Bar : public cSimpleModule, public <a class="el" href="class_blackboard_access.html">BlackboardAccess</a>
 {
    ...
 };</pre><pre> void Bar::initialize(int stage)
 {
     if(stage==0)
     {
         getBlackboard()-&gt;registerClient(this);
         // make sure we get what's already on the blackboard
         getBlackboard()-&gt;getBlackboardContent(this);
     }
 }</pre><pre> void Bar::blackboardItemPublished(BBItemRef item)
 {
     // if label begins with "nic." and it's a NetworkInterfaceData, subscribe
     if (!strncmp(item-&gt;getLabel(),"nic.",4) &amp;&amp;
         dynamic_cast&lt;NetworkInterfaceData *&gt;(item-&gt;getData()))
     {
         // new network interface appeared, subscribe to it and do whatever
         // other actions are necessary
         getBlackboard()-&gt;subscribe(this, item);
         ...
     }
 }</pre><pre> // subscribe-by-browse
 class Zak : public cSimpleModule, public <a class="el" href="class_blackboard_access.html">BlackboardAccess</a>
 {
    ...
 };</pre><pre> void Zak::letsCheckWhatIsOnTheBlackboard()
 {
     // subscribe to all NetworkInterfaceData
     <a class="el" href="class_blackboard.html">Blackboard</a> *bb = getBlackboard();
     for (<a class="el" href="class_blackboard_1_1iterator.html">Blackboard::iterator</a> i=bb-&gt;<a class="el" href="class_blackboard.html#a2c0820094ae4124a29b3693b8108fe03">begin()</a>; i!=bb-&gt;<a class="el" href="class_blackboard.html#a89792300829e387ccfd719bd0276a0c1">end()</a>; ++i)
         if (dynamic_cast&lt;NetworkInterfaceData *&gt;((*i)-&gt;getData()))
             bb-&gt;subscribe(this, *i);
 }
 </pre><dl class="author"><dt><b>Author:</b></dt><dd>Andras Varga </dd></dl>

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00162">162</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a19ade3a7996ed60a05d70ff039aa4236"></a><!-- doxytag: member="Blackboard::BBItemRef" ref="a19ade3a7996ed60a05d70ff039aa4236" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItem</a>* <a class="el" href="class_blackboard_1_1_b_b_item.html">Blackboard::BBItemRef</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>"Handle" to blackboard items. To get the data or the label, write bbref-&gt;getData() and bbref-&gt;getLabel(), respectively. BBItemRefs become stale when the item gets withdrawn (unpublished) from the blackboard. </p>

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00206">206</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

</div>
</div>
<a class="anchor" id="a428cddced037c11d65188ba48b808820"></a><!-- doxytag: member="Blackboard::ContentsMap" ref="a428cddced037c11d65188ba48b808820" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;std::string, <a class="el" href="class_blackboard_1_1_b_b_item.html">BBItem</a>*&gt; <a class="el" href="class_blackboard.html#a428cddced037c11d65188ba48b808820">Blackboard::ContentsMap</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00194">194</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

</div>
</div>
<a class="anchor" id="afcca5874bdc32029cb27de3a8c2c9896"></a><!-- doxytag: member="Blackboard::SubscriberVector" ref="afcca5874bdc32029cb27de3a8c2c9896" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&gt; <a class="el" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">Blackboard::SubscriberVector</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00165">165</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a83b8477e21df0582ed1b57527f4631af"></a><!-- doxytag: member="Blackboard::Blackboard" ref="a83b8477e21df0582ed1b57527f4631af" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Blackboard::Blackboard </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00035">35</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00036"></a>00036 {
<a name="l00037"></a>00037 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad0c7a3c8f1d8074679b178631c262298"></a><!-- doxytag: member="Blackboard::~Blackboard" ref="ad0c7a3c8f1d8074679b178631c262298" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Blackboard::~Blackboard </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00039">39</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00040"></a>00040 {
<a name="l00041"></a>00041     <span class="keywordflow">while</span> (!<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.empty())
<a name="l00042"></a>00042     {
<a name="l00043"></a>00043         ContentsMap::iterator i = <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.begin();
<a name="l00044"></a>00044         <span class="keyword">delete</span> (*i).second;
<a name="l00045"></a>00045         <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.erase(i);
<a name="l00046"></a>00046     }
<a name="l00047"></a>00047 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2c0820094ae4124a29b3693b8108fe03"></a><!-- doxytag: member="Blackboard::begin" ref="a2c0820094ae4124a29b3693b8108fe03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard_1_1iterator.html">iterator</a> Blackboard::begin </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>As with standard C++ classes. </p>

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00307">307</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00307"></a>00307 {<span class="keywordflow">return</span> iterator(<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.begin());}
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae081479b4a85d4eb9d863dbeb97d3612"></a><!-- doxytag: member="Blackboard::changed" ref="ae081479b4a85d4eb9d863dbeb97d3612" args="(BBItemRef bbItem, cPolymorphic *item=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Blackboard::changed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a>&nbsp;</td>
          <td class="paramname"> <em>bbItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&nbsp;</td>
          <td class="paramname"> <em>item</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tell BB that an item has changed (typically called by publisher). When item pointer is omitted, it is assumed that the item object was updated "in place" (as opposed to being replaced by another object). </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00108">108</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00109"></a>00109 {
<a name="l00110"></a>00110   <a class="code" href="_basic_module_8cc.html#a27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt;<span class="stringliteral">&quot;enter changed; item: &quot;</span>&lt;&lt;bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>()&lt;&lt;<span class="stringliteral">&quot; changed -&gt; notify subscribers\n&quot;</span>;
<a name="l00111"></a>00111 
<a name="l00112"></a>00112   Enter_Method(<span class="stringliteral">&quot;changed(\&quot;%s\&quot;, %s *ptr)&quot;</span>, bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>(), item-&gt;getClassName());
<a name="l00113"></a>00113 
<a name="l00114"></a>00114     <span class="comment">// update data pointer</span>
<a name="l00115"></a>00115     <span class="keywordflow">if</span> (item)
<a name="l00116"></a>00116         bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a083add42e2a2afc9ec3a0a7df6c02de1">_item</a> = item;
<a name="l00117"></a>00117     <span class="comment">// notify subscribers</span>
<a name="l00118"></a>00118     <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a81017ebef1ebe3a8136cdc5a3aa6c1aa">subscribers</a>;
<a name="l00119"></a>00119     <span class="keywordflow">for</span> (SubscriberVector::iterator i=vec.begin(); i!=vec.end(); ++i){
<a name="l00120"></a>00120         (*i)-&gt;blackboardItemChanged(bbItem);
<a name="l00121"></a>00121     }
<a name="l00122"></a>00122 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a89792300829e387ccfd719bd0276a0c1"></a><!-- doxytag: member="Blackboard::end" ref="a89792300829e387ccfd719bd0276a0c1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard_1_1iterator.html">iterator</a> Blackboard::end </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>As with standard C++ classes. </p>

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00312">312</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00312"></a>00312 {<span class="keywordflow">return</span> iterator(<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.end());}
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa120491baa07536fb85326e42878f5e2"></a><!-- doxytag: member="Blackboard::find" ref="aa120491baa07536fb85326e42878f5e2" args="(const char *label)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a> Blackboard::find </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>label</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find item with given label on the BB </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00139">139</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p>Referenced by <a class="el" href="_blackboard_8cc_source.html#l00188">removeClient()</a>, <a class="el" href="_blackboard_8cc_source.html#l00124">subscribe()</a>, and <a class="el" href="_blackboard_8cc_source.html#l00161">unsubscribe()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00140"></a>00140 {
<a name="l00141"></a>00141     ContentsMap::iterator k = <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.find(std::string(label));
<a name="l00142"></a>00142     <span class="keywordflow">return</span> k==<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.end() ? NULL : (*k).second;
<a name="l00143"></a>00143 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab88b990f3902c2fa34dac6e76f94adca"></a><!-- doxytag: member="Blackboard::getBlackboardContent" ref="ab88b990f3902c2fa34dac6e76f94adca" args="(BlackboardAccess *bbClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Blackboard::getBlackboardContent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&nbsp;</td>
          <td class="paramname"> <em>bbClient</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Utility function: the client gets immediate notification with all items currently on clipboard (as if they were added just now). This may simplify initialization code in a subscribe-when-published style client. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00202">202</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00203"></a>00203 {
<a name="l00204"></a>00204     Enter_Method(<span class="stringliteral">&quot;getBlackboardContent(this)&quot;</span>);
<a name="l00205"></a>00205 
<a name="l00206"></a>00206     <span class="keywordflow">for</span> (ContentsMap::iterator i=<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.begin(); i!=<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.end(); ++i)
<a name="l00207"></a>00207         bbClient-&gt;<a class="code" href="class_blackboard_access.html#a7b2a5096152e4777797aa6af7ef41c8c">blackboardItemPublished</a>((*i).second);
<a name="l00208"></a>00208 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a663ac4a5877cbba804cf22b7e75c6b4a"></a><!-- doxytag: member="Blackboard::handleMessage" ref="a663ac4a5877cbba804cf22b7e75c6b4a" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Blackboard::handleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Does nothing. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00058">58</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00059"></a>00059 {
<a name="l00060"></a>00060     error(<span class="stringliteral">&quot;Blackboard doesn&apos;t handle messages, it can be accessed via direct method calls&quot;</span>);
<a name="l00061"></a>00061 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a14d34ec889dc4debb4fb4968fc2bbcc0"></a><!-- doxytag: member="Blackboard::initialize" ref="a14d34ec889dc4debb4fb4968fc2bbcc0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Blackboard::initialize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize BB. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00049">49</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00050"></a>00050 {
<a name="l00051"></a>00051   <span class="keywordflow">if</span>(hasPar(<span class="stringliteral">&quot;coreDebug&quot;</span>))
<a name="l00052"></a>00052     <a class="code" href="class_blackboard.html#a21366b51e0654dd9ff1b87727c93aaee" title="Set debugging for the basic module.">coreDebug</a> = par(<span class="stringliteral">&quot;coreDebug&quot;</span>).boolValue();
<a name="l00053"></a>00053   <span class="keywordflow">else</span>
<a name="l00054"></a>00054     <a class="code" href="class_blackboard.html#a21366b51e0654dd9ff1b87727c93aaee" title="Set debugging for the basic module.">coreDebug</a> = <span class="keyword">false</span>;
<a name="l00055"></a>00055     WATCH_PTRMAP(<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>);
<a name="l00056"></a>00056 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a80a003f601b1906516e46e312ba5fe66"></a><!-- doxytag: member="Blackboard::publish" ref="a80a003f601b1906516e46e312ba5fe66" args="(const char *label, cPolymorphic *item)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a> Blackboard::publish </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>label</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cPolymorphic *&nbsp;</td>
          <td class="paramname"> <em>item</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Publish new item on the BB, with the given label. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00063">63</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00064"></a>00064 {
<a name="l00065"></a>00065     Enter_Method(<span class="stringliteral">&quot;publish(\&quot;%s\&quot;, %s *ptr)&quot;</span>, label, item-&gt;getClassName());
<a name="l00066"></a>00066 
<a name="l00067"></a>00067     <span class="comment">// check uniqueness of label</span>
<a name="l00068"></a>00068     ContentsMap::iterator k = <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.find(std::string(label));
<a name="l00069"></a>00069     <span class="keywordflow">if</span> (k!=<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.end())
<a name="l00070"></a>00070         error(<span class="stringliteral">&quot;publish(): blackboard already contains an item with label `%s&apos;&quot;</span>, label);
<a name="l00071"></a>00071 
<a name="l00072"></a>00072     <span class="comment">// add to BB contents</span>
<a name="l00073"></a>00073     BBItem *bbitem = <span class="keyword">new</span> BBItem();
<a name="l00074"></a>00074     bbitem-&gt;_item = item;
<a name="l00075"></a>00075     bbitem-&gt;_label = label;
<a name="l00076"></a>00076     <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>[bbitem-&gt;_label] = bbitem;
<a name="l00077"></a>00077 
<a name="l00078"></a>00078     <a class="code" href="_basic_module_8cc.html#a27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt;<span class="stringliteral">&quot;publish &quot;</span>&lt;&lt;label&lt;&lt;<span class="stringliteral">&quot; on bb\n&quot;</span>;
<a name="l00079"></a>00079     <a class="code" href="_basic_module_8cc.html#a27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt;<span class="stringliteral">&quot;bbItem-&gt;label: &quot;</span>&lt;&lt;bbitem-&gt;getLabel()&lt;&lt;endl;
<a name="l00080"></a>00080     <span class="comment">// notify</span>
<a name="l00081"></a>00081     <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = <a class="code" href="class_blackboard.html#a5442b59653bb0eb50127aec2df33088a">registeredClients</a>;
<a name="l00082"></a>00082     <span class="keywordflow">for</span> (SubscriberVector::iterator i=vec.begin(); i!=vec.end(); ++i){
<a name="l00083"></a>00083         (*i)-&gt;blackboardItemPublished(bbitem);
<a name="l00084"></a>00084     }
<a name="l00085"></a>00085     <span class="keywordflow">return</span> bbitem;
<a name="l00086"></a>00086 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8df76d28beac3e5ae68e60157687914b"></a><!-- doxytag: member="Blackboard::registerClient" ref="a8df76d28beac3e5ae68e60157687914b" args="(BlackboardAccess *bbClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Blackboard::registerClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&nbsp;</td>
          <td class="paramname"> <em>bbClient</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generally subscribe to notifications about items being published to/withdrawn from BB. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00175">175</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00176"></a>00176 {
<a name="l00177"></a>00177     Enter_Method(<span class="stringliteral">&quot;registerClient(this)&quot;</span>);
<a name="l00178"></a>00178 
<a name="l00179"></a>00179     <span class="comment">// check if already subscribed</span>
<a name="l00180"></a>00180     <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = <a class="code" href="class_blackboard.html#a5442b59653bb0eb50127aec2df33088a">registeredClients</a>;
<a name="l00181"></a>00181     <span class="keywordflow">if</span> (<a class="code" href="_utils_8cc.html#a33bdc8b2583dcc9d2a8bfe1ec578352d">std::find</a>(vec.begin(), vec.end(), bbClient)!=vec.end())
<a name="l00182"></a>00182         <span class="keywordflow">return</span>; <span class="comment">// ok, already subscribed</span>
<a name="l00183"></a>00183 
<a name="l00184"></a>00184     <span class="comment">// add subscriber</span>
<a name="l00185"></a>00185     vec.push_back(bbClient);
<a name="l00186"></a>00186 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a22f6532f3778e68afc07edad67f4fbf0"></a><!-- doxytag: member="Blackboard::removeClient" ref="a22f6532f3778e68afc07edad67f4fbf0" args="(BlackboardAccess *bbClient)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Blackboard::removeClient </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&nbsp;</td>
          <td class="paramname"> <em>bbClient</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cancel subscription initiated by <a class="el" href="class_blackboard.html#a8df76d28beac3e5ae68e60157687914b">registerClient()</a>. </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00188">188</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00189"></a>00189 {
<a name="l00190"></a>00190     Enter_Method(<span class="stringliteral">&quot;removeClient(this)&quot;</span>);
<a name="l00191"></a>00191 
<a name="l00192"></a>00192     <span class="comment">// check if subscribed</span>
<a name="l00193"></a>00193     <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = <a class="code" href="class_blackboard.html#a5442b59653bb0eb50127aec2df33088a">registeredClients</a>;
<a name="l00194"></a>00194     SubscriberVector::iterator k = <a class="code" href="class_blackboard.html#aa120491baa07536fb85326e42878f5e2">std::find</a>(vec.begin(), vec.end(), bbClient);
<a name="l00195"></a>00195     <span class="keywordflow">if</span> (k==vec.end())
<a name="l00196"></a>00196         <span class="keywordflow">return</span>; <span class="comment">// ok, not subscribed</span>
<a name="l00197"></a>00197 
<a name="l00198"></a>00198     <span class="comment">// remove subscriber</span>
<a name="l00199"></a>00199     vec.erase(k);
<a name="l00200"></a>00200 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab50ce0f0f1b97b268d6be7c1e23d86e6"></a><!-- doxytag: member="Blackboard::subscribe" ref="ab50ce0f0f1b97b268d6be7c1e23d86e6" args="(BlackboardAccess *bbClient, BBItemRef bbItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a> Blackboard::subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&nbsp;</td>
          <td class="paramname"> <em>bbClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a>&nbsp;</td>
          <td class="paramname"> <em>bbItem</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Subscribe to a BB item identified by item reference </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00145">145</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00146"></a>00146 {
<a name="l00147"></a>00147     Enter_Method(<span class="stringliteral">&quot;subscribe(this,\&quot;%s\&quot;)&quot;</span>, bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>());
<a name="l00148"></a>00148 
<a name="l00149"></a>00149     <span class="comment">// check if already subscribed</span>
<a name="l00150"></a>00150     <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a81017ebef1ebe3a8136cdc5a3aa6c1aa">subscribers</a>;
<a name="l00151"></a>00151     <span class="keywordflow">if</span> (<a class="code" href="_utils_8cc.html#a33bdc8b2583dcc9d2a8bfe1ec578352d">std::find</a>(vec.begin(), vec.end(), bbClient)!=vec.end())
<a name="l00152"></a>00152         <span class="keywordflow">return</span> bbItem; <span class="comment">// already subscribed</span>
<a name="l00153"></a>00153 
<a name="l00154"></a>00154     <span class="comment">// add subscriber</span>
<a name="l00155"></a>00155     vec.push_back(bbClient);
<a name="l00156"></a>00156 
<a name="l00157"></a>00157     <a class="code" href="_basic_module_8cc.html#a27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt;<span class="stringliteral">&quot;sucessfully subscribed for item: &quot;</span>&lt;&lt;bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>()&lt;&lt;endl;
<a name="l00158"></a>00158     <span class="keywordflow">return</span> bbItem;
<a name="l00159"></a>00159 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3476b12db241a8c8e297d22272bf7c18"></a><!-- doxytag: member="Blackboard::subscribe" ref="a3476b12db241a8c8e297d22272bf7c18" args="(BlackboardAccess *bbClient, const char *label)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a> Blackboard::subscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&nbsp;</td>
          <td class="paramname"> <em>bbClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>label</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Subscribe to a BB item identified by a label </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00124">124</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00125"></a>00125 {
<a name="l00126"></a>00126     Enter_Method(<span class="stringliteral">&quot;subscribe(this,\&quot;%s\&quot;)&quot;</span>, label);
<a name="l00127"></a>00127 
<a name="l00128"></a>00128     <span class="comment">// look up item by label</span>
<a name="l00129"></a>00129     <a class="code" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a> item = <a class="code" href="class_blackboard.html#aa120491baa07536fb85326e42878f5e2">find</a>(label);
<a name="l00130"></a>00130     <span class="keywordflow">if</span> (!item)
<a name="l00131"></a>00131        error(<span class="stringliteral">&quot;subscribe(): item labelled `%s&apos; not on blackboard&quot;</span>, label);
<a name="l00132"></a>00132 
<a name="l00133"></a>00133     <span class="comment">// subscribe</span>
<a name="l00134"></a>00134     <a class="code" href="_basic_module_8cc.html#a27f667d27591f62ecf86a99a79ea8f42">coreEV</a> &lt;&lt;<span class="stringliteral">&quot;subscribe for &quot;</span>&lt;&lt;label&lt;&lt;<span class="stringliteral">&quot; on bb\n&quot;</span>;
<a name="l00135"></a>00135     <a class="code" href="class_blackboard.html#a3476b12db241a8c8e297d22272bf7c18">subscribe</a>(bbClient, item);
<a name="l00136"></a>00136     <span class="keywordflow">return</span> item;
<a name="l00137"></a>00137 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a83ae41a4d843dd302ae9763f9790e5c7"></a><!-- doxytag: member="Blackboard::unsubscribe" ref="a83ae41a4d843dd302ae9763f9790e5c7" args="(BlackboardAccess *bbClient, BBItemRef bbItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Blackboard::unsubscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_access.html">BlackboardAccess</a> *&nbsp;</td>
          <td class="paramname"> <em>bbClient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a>&nbsp;</td>
          <td class="paramname"> <em>bbItem</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Unsubcribe module from change notifications </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00161">161</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00162"></a>00162 {
<a name="l00163"></a>00163     Enter_Method(<span class="stringliteral">&quot;unsubscribe(this,\&quot;%s\&quot;)&quot;</span>, bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>());
<a name="l00164"></a>00164 
<a name="l00165"></a>00165     <span class="comment">// check if already subscribed</span>
<a name="l00166"></a>00166     <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a81017ebef1ebe3a8136cdc5a3aa6c1aa">subscribers</a>;
<a name="l00167"></a>00167     SubscriberVector::iterator k = <a class="code" href="class_blackboard.html#aa120491baa07536fb85326e42878f5e2">std::find</a>(vec.begin(), vec.end(), bbClient);
<a name="l00168"></a>00168     <span class="keywordflow">if</span> (k==vec.end())
<a name="l00169"></a>00169         <span class="keywordflow">return</span>; <span class="comment">// ok, not subscribed</span>
<a name="l00170"></a>00170 
<a name="l00171"></a>00171     <span class="comment">// remove subscriber</span>
<a name="l00172"></a>00172     vec.erase(k);
<a name="l00173"></a>00173 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad9ea575d3f6de4c0ed797e5050f04271"></a><!-- doxytag: member="Blackboard::withdraw" ref="ad9ea575d3f6de4c0ed797e5050f04271" args="(BBItemRef bbItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Blackboard::withdraw </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_blackboard_1_1_b_b_item.html">BBItemRef</a>&nbsp;</td>
          <td class="paramname"> <em>bbItem</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Withdraw (unpublish) item from the BB (typically called by publisher). </p>

<p>Definition at line <a class="el" href="_blackboard_8cc_source.html#l00088">88</a> of file <a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00089"></a>00089 {
<a name="l00090"></a>00090     Enter_Method(<span class="stringliteral">&quot;withdraw(\&quot;%s\&quot;)&quot;</span>, bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a47436b72e4d248a079faa6c528805f7a">getLabel</a>());
<a name="l00091"></a>00091 
<a name="l00092"></a>00092     <span class="comment">// find on BB</span>
<a name="l00093"></a>00093     ContentsMap::iterator k = <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.find(bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#ad24f7068e41e0a8a44a0010fa8bd85fe">_label</a>);
<a name="l00094"></a>00094     <span class="keywordflow">if</span> (k==<a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.end())
<a name="l00095"></a>00095       error(<span class="stringliteral">&quot;withdraw(): item labelled `%s&apos; is not on clipboard (BBItemRef stale?)&quot;</span>, bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#ad24f7068e41e0a8a44a0010fa8bd85fe">_label</a>.c_str());
<a name="l00096"></a>00096 
<a name="l00097"></a>00097     <span class="comment">// notify subscribers</span>
<a name="l00098"></a>00098     <a class="code" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a>&amp; vec = bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a81017ebef1ebe3a8136cdc5a3aa6c1aa">subscribers</a>;
<a name="l00099"></a>00099     <span class="keywordflow">for</span> (SubscriberVector::iterator i=vec.begin(); i!=vec.end(); ++i)
<a name="l00100"></a>00100         (*i)-&gt;blackboardItemWithdrawn(bbItem);
<a name="l00101"></a>00101 
<a name="l00102"></a>00102     <span class="comment">// remove</span>
<a name="l00103"></a>00103     <a class="code" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">contents</a>.erase(k);
<a name="l00104"></a>00104     bbItem-&gt;<a class="code" href="class_blackboard_1_1_b_b_item.html#a083add42e2a2afc9ec3a0a7df6c02de1">_item</a> = NULL; <span class="comment">// may make bogus code crash sooner</span>
<a name="l00105"></a>00105     <span class="keyword">delete</span> bbItem;
<a name="l00106"></a>00106 }
</pre></div></p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="a9830fc407400559db7e7783cc10a9394"></a><!-- doxytag: member="Blackboard::Iterator" ref="a9830fc407400559db7e7783cc10a9394" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class Iterator<code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00190">190</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a39afcec7de357dcdf349ad94992d9e72"></a><!-- doxytag: member="Blackboard::contents" ref="a39afcec7de357dcdf349ad94992d9e72" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard.html#a428cddced037c11d65188ba48b808820">ContentsMap</a> <a class="el" href="class_blackboard.html#a39afcec7de357dcdf349ad94992d9e72">Blackboard::contents</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00195">195</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

<p>Referenced by <a class="el" href="_blackboard_8cc_source.html#l00139">find()</a>, <a class="el" href="_blackboard_8cc_source.html#l00202">getBlackboardContent()</a>, <a class="el" href="_blackboard_8cc_source.html#l00049">initialize()</a>, <a class="el" href="_blackboard_8cc_source.html#l00063">publish()</a>, <a class="el" href="_blackboard_8cc_source.html#l00088">withdraw()</a>, and <a class="el" href="_blackboard_8cc_source.html#l00039">~Blackboard()</a>.</p>

</div>
</div>
<a class="anchor" id="a21366b51e0654dd9ff1b87727c93aaee"></a><!-- doxytag: member="Blackboard::coreDebug" ref="a21366b51e0654dd9ff1b87727c93aaee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_blackboard.html#a21366b51e0654dd9ff1b87727c93aaee">Blackboard::coreDebug</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set debugging for the basic module. </p>

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00188">188</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

<p>Referenced by <a class="el" href="_blackboard_8cc_source.html#l00049">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a5442b59653bb0eb50127aec2df33088a"></a><!-- doxytag: member="Blackboard::registeredClients" ref="a5442b59653bb0eb50127aec2df33088a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_blackboard.html#afcca5874bdc32029cb27de3a8c2c9896">SubscriberVector</a> <a class="el" href="class_blackboard.html#a5442b59653bb0eb50127aec2df33088a">Blackboard::registeredClients</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_blackboard_8h_source.html#l00198">198</a> of file <a class="el" href="_blackboard_8h_source.html">Blackboard.h</a>.</p>

<p>Referenced by <a class="el" href="_blackboard_8cc_source.html#l00063">publish()</a>, <a class="el" href="_blackboard_8cc_source.html#l00175">registerClient()</a>, and <a class="el" href="_blackboard_8cc_source.html#l00188">removeClient()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_blackboard_8h_source.html">Blackboard.h</a></li>
<li><a class="el" href="_blackboard_8cc_source.html">Blackboard.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Mar 23 17:08:32 2010 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
