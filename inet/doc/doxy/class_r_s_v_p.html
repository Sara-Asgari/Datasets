<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: RSVP Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>RSVP Class Reference</h1><!-- doxytag: class="RSVP" --><!-- doxytag: inherits="IScriptable" -->
<p><code>#include &lt;<a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RSVP:</div>
<div class="dynsection">
 <div class="center">
  <img src="class_r_s_v_p.gif" usemap="#RSVP_map" alt=""/>
  <map id="RSVP_map" name="RSVP_map">
<area href="class_i_scriptable.html" alt="IScriptable" shape="rect" coords="0,0,72,24"/>
</map>
 </div>
</div>

<p><a href="class_r_s_v_p-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_s_v_p_1_1_hello_state__t.html">HelloState_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_s_v_p_1_1traffic__path__t.html">traffic_path_t</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_s_v_p_1_1traffic__session__t.html">traffic_session_t</a></td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ad355cd8179b4c281f7164a498c9bb43e">RSVP</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#aca71f498907770d708d6be9a4480522a">~RSVP</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector<br class="typebreak"/>
&lt; <a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#aa2a110dcc9fd3eb0f59fe5d4be909961">PSBVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector<br class="typebreak"/>
&lt; <a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a0f8968a708f4b7d59fe5d714611df147">RSBVector</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; <a class="el" href="struct_r_s_v_p_1_1_hello_state__t.html">HelloState_t</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ab37d8b4656962b40e0e3d4ead1b09652">HelloVector</a></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a6393538e367792874a6e1a9d9a245ded">processSignallingMessage</a> (<a class="el" href="class_signalling_msg.html">SignallingMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a18f4a987254edd684d0d57345c818c81">processPSB_TIMER</a> (<a class="el" href="class_psb_timer_msg.html">PsbTimerMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a5bc9ab7d3a8b3db1c563d7e7adddb8d6">processPSB_TIMEOUT</a> (<a class="el" href="class_psb_timeout_msg.html">PsbTimeoutMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a7b967a2ab4a53edc0bdd12c8ad3a4c99">processRSB_REFRESH_TIMER</a> (<a class="el" href="class_rsb_refresh_timer_msg.html">RsbRefreshTimerMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a7e760e4263df7614b1dfbea8e39cc8f3">processRSB_COMMIT_TIMER</a> (<a class="el" href="class_rsb_commit_timer_msg.html">RsbCommitTimerMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a2fc38252a7b31028e80b360fc8dc7af3">processRSB_TIMEOUT</a> (<a class="el" href="class_rsb_timeout_msg.html">RsbTimeoutMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a5c7ef8c3f1f0a9b7061f499891a82ad6">processHELLO_TIMER</a> (<a class="el" href="class_hello_timer_msg.html">HelloTimerMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a41999b24ba006f359ce2ee9b4638ee96">processHELLO_TIMEOUT</a> (<a class="el" href="class_hello_timeout_msg.html">HelloTimeoutMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a046faf4019fa1dd31f24ee445236236b">processPATH_NOTIFY</a> (<a class="el" href="class_path_notify_msg.html">PathNotifyMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a604c7cdcbec35b1c1facf476ddc27eb9">processRSVPMessage</a> (<a class="el" href="class_r_s_v_p_message.html">RSVPMessage</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a4248b4a0ff4175b4be496ec30aee8672">processHelloMsg</a> (<a class="el" href="class_r_s_v_p_hello_msg.html">RSVPHelloMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a3fa7b4ca1bf18d5afac7664f0ae3584a">processPathMsg</a> (<a class="el" href="class_r_s_v_p_path_msg.html">RSVPPathMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#aaebd61f0dcf0f517e95c4b1e81fea967">processResvMsg</a> (<a class="el" href="class_r_s_v_p_resv_msg.html">RSVPResvMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a9d40c6ab5084f41b18645183f85fecc9">processPathTearMsg</a> (<a class="el" href="class_r_s_v_p_path_tear.html">RSVPPathTear</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#aaa1b0102445119825a264bf187aca6e9">processPathErrMsg</a> (<a class="el" href="class_r_s_v_p_path_error.html">RSVPPathError</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a4c582acc45b47942f56a34aa35fcfc70">createPSB</a> (<a class="el" href="class_r_s_v_p_path_msg.html">RSVPPathMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a46e933eb87d8a3b105a313a0e48403a3">createIngressPSB</a> (const <a class="el" href="struct_r_s_v_p_1_1traffic__session__t.html">traffic_session_t</a> &amp;session, const <a class="el" href="struct_r_s_v_p_1_1traffic__path__t.html">traffic_path_t</a> &amp;path)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a43b1c666eee1f02f7070d7b39e3dea0f">removePSB</a> (<a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *psb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ad53a7a49e12f3cc0ff339e20624406fe">createRSB</a> (<a class="el" href="class_r_s_v_p_resv_msg.html">RSVPResvMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#af34403ca300fb9425d67e609c7bbf9a3">createEgressRSB</a> (<a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *psb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a2d374e27ad177a0e0e0500deaf1affb7">updateRSB</a> (<a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *rsb, <a class="el" href="class_r_s_v_p_resv_msg.html">RSVPResvMsg</a> *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#af0469af2686bf9440e3d7320c57bfb6f">removeRSB</a> (<a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *rsb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a0a010c3a16c0b7fbc37dec6368d9ad03">removeRsbFilter</a> (<a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *rsb, unsigned int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#acc0978a512bc47c6cbeea226904a4e51">refreshPath</a> (<a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *psbEle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a8745c357a38f4ab3b5c39668b5498820">refreshResv</a> (<a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *rsbEle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#af84a7ab872ddde72e4e6394c904285ab">refreshResv</a> (<a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *rsbEle, <a class="el" href="class_i_p_address.html">IPAddress</a> PHOP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a5418c3bcb4cf57a5965c6a7067b7f678">commitResv</a> (<a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *rsb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a130138413206f03179fc63d56f4937cd">scheduleRefreshTimer</a> (<a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *psbEle, simtime_t delay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ac4faa2c6f7a952138fb145bc948c79eb">scheduleTimeout</a> (<a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *psbEle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a67c62268de3b1946288d7f2c451649b0">scheduleRefreshTimer</a> (<a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *rsbEle, simtime_t delay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a269cab6db09df7ab124076afe9515a6f">scheduleCommitTimer</a> (<a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *rsbEle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a8d7428629dfacb146e7b6c6608ae21d8">scheduleTimeout</a> (<a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *rsbEle)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#aede65339bca2fcd134158dd9784100e2">sendPathErrorMessage</a> (<a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *psb, int errCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a39d87f7b6317e6a613fd0dee613ab34e">sendPathErrorMessage</a> (<a class="el" href="struct_session_obj__t.html">SessionObj_t</a> session, <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> sender, <a class="el" href="struct_sender_tspec_obj__t.html">SenderTspecObj_t</a> tspec, <a class="el" href="class_i_p_address.html">IPAddress</a> nextHop, int errCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ab1e3e1ec1c7be3d59e249a147f3f3862">sendPathTearMessage</a> (<a class="el" href="class_i_p_address.html">IPAddress</a> peerIP, const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session, const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;sender, <a class="el" href="class_i_p_address.html">IPAddress</a> LIH, <a class="el" href="class_i_p_address.html">IPAddress</a> NHOP, bool force)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a472ceb4e889ba0fc93649dff8e5d549a">sendPathNotify</a> (int handler, const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session, const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;sender, int status, simtime_t delay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a56c68314c8b1e8b82370416d2b2f4785">setupHello</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ad50bb2638d5ca3d9bc42b3364cffabbb">startHello</a> (<a class="el" href="class_i_p_address.html">IPAddress</a> peer, simtime_t delay)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a771e852915d4521e65a3d243bdf1a82c">recoveryEvent</a> (<a class="el" href="class_i_p_address.html">IPAddress</a> peer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a58055c8fd6f3b98c57ef68adeaa009e3">allocateResource</a> (<a class="el" href="class_i_p_address.html">IPAddress</a> OI, const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session, double bandwidth)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a933ffa437ba9f3cef9efdfc5f1ac18a9">preempt</a> (<a class="el" href="class_i_p_address.html">IPAddress</a> OI, int priority, double bandwidth)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a05e7433548bd2ecc502fa40210d85f46">doCACCheck</a> (const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session, const <a class="el" href="struct_sender_tspec_obj__t.html">SenderTspecObj_t</a> &amp;tspec, <a class="el" href="class_i_p_address.html">IPAddress</a> OI)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ab63d5bdece74e8218d703ca07604dbe6">announceLinkChange</a> (int tedlinkindex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#afe54ffd483063082234277edce5e792d">sendToIP</a> (cMessage *msg, <a class="el" href="class_i_p_address.html">IPAddress</a> destAddr)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a74c8cb3303ae62d7e118cbacacf0c5e0">evalNextHopInterface</a> (<a class="el" href="class_i_p_address.html">IPAddress</a> destAddr, const <a class="el" href="_int_serv__m_8h.html#aea4ecacf78719a59508153fbdbd5cc7b">EroVector</a> &amp;ERO, <a class="el" href="class_i_p_address.html">IPAddress</a> &amp;OI)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a> (const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session, const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;sender)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a7741a01ced48d4fbf371cb7b846a27aa">findRSB</a> (const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session, const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;sender, unsigned int &amp;index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a15d8d2605257b63906833bf6dcb7e7f9">findPsbById</a> (int id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a96e4fae87f154aec8efed1f306864d81">findRsbById</a> (int id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_r_s_v_p_1_1traffic__session__t.html">traffic_session_t</a> &gt;<br class="typebreak"/>
::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#adbc9840e5bb15c37459aacb83385bdc0">findSession</a> (const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_r_s_v_p_1_1traffic__path__t.html">traffic_path_t</a> &gt;<br class="typebreak"/>
::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a92c0c4053e1f2d4a7fa85fed30d9a49d">findPath</a> (<a class="el" href="struct_r_s_v_p_1_1traffic__session__t.html">traffic_session_t</a> *session, const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;sender)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="struct_r_s_v_p_1_1_hello_state__t.html">HelloState_t</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a04c45fcf64189ff23bc0233639956459">findHello</a> (<a class="el" href="class_i_p_address.html">IPAddress</a> peer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a95acc5695ef5d439aec6996abfb98a0c">print</a> (<a class="el" href="class_r_s_v_p_path_msg.html">RSVPPathMsg</a> *p)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a90209c6a16793748ba35624d55ec167e">print</a> (<a class="el" href="class_r_s_v_p_resv_msg.html">RSVPResvMsg</a> *r)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a7afe215d5b5f46066a7d2db44ac93369">readTrafficFromXML</a> (const cXMLElement *<a class="el" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#adada9d53651da0e8c535e7ed47f931fd">readTrafficSessionFromXML</a> (const cXMLElement *session)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="_int_serv__m_8h.html#aea4ecacf78719a59508153fbdbd5cc7b">EroVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a14bfd32e0426538ba9b59a18037bb57a">readTrafficRouteFromXML</a> (const cXMLElement *route)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a820c09dd3002f2309aeaa1f30d092887">createPath</a> (const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session, const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;sender)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#aa1c0596a9dfde9005405cbdebbd3a6a9">pathProblem</a> (<a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *psb)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#aa8c17ae4390aeedc6b6d1bc6e0743c5f">addSession</a> (const cXMLElement &amp;node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a1578adc0aa64e000a877ab117a3e9060">delSession</a> (const cXMLElement &amp;node)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a09621c3f70738316d5cc1380ed54212b">getInLabel</a> (const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;session, const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;sender)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a4c9e7e6120185700741ea3394ae65c0a">numInitStages</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ad55ae7e15d484d73cdfe053442f345ad">initialize</a> (int stage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a4772469f02e97f0d99a3c00f298322dd">handleMessage</a> (cMessage *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a33de1da9c058e57354d8c76a026ce036">processCommand</a> (const cXMLElement &amp;node)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="struct_r_s_v_p_1_1traffic__session__t.html">traffic_session_t</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#af5bdcd75e4a984969f22119c8cb4d89b">helloInterval</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a5873d10d15860ed9e24e941f851f4b71">helloTimeout</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a469e284ac5acfa70db603d70691b06ef">retryInterval</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_t_e_d.html">TED</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_routing_table.html">IRoutingTable</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a9f89cdfc58368bf8e0c491b7da2dd113">rt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a52533534d5e3afbfc42030440071a5d3">ift</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_l_i_b_table.html">LIBTable</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ad137623f6252e3398084176dc311885f">lt</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_notification_board.html">NotificationBoard</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a0f1e35ac657ccaeca38a235d1b4a3414">nb</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_r_s_v_p_classifier.html">IRSVPClassifier</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a44fd3dc334665b246ce0a555cb35e34f">rpct</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a18c51012884262a7a68bc2ef3fee90a1">maxPsbId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a8df043f6a88c29e65a22c37ec7294ff0">maxRsbId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a9cd7607aca27a1351bb82ddc7f37937f">maxSrcInstance</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_s_v_p.html#aa2a110dcc9fd3eb0f59fe5d4be909961">PSBVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_s_v_p.html#a0f8968a708f4b7d59fe5d714611df147">RSBVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_s_v_p.html#ab37d8b4656962b40e0e3d4ead1b09652">HelloVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#a1070041b2d075e1d4c8cbf18f0fe2faf">HelloList</a></td></tr>
<tr><td colspan="2"><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_s_v_p.html#aab8856a7428469eb2467b9a30355b2fd">SimpleClassifier</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>TODO documentation </p>

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00040">40</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ab37d8b4656962b40e0e3d4ead1b09652"></a><!-- doxytag: member="RSVP::HelloVector" ref="ab37d8b4656962b40e0e3d4ead1b09652" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="struct_r_s_v_p_1_1_hello_state__t.html">HelloState_t</a>&gt; <a class="el" href="class_r_s_v_p.html#ab37d8b4656962b40e0e3d4ead1b09652">RSVP::HelloVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00166">166</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa2a110dcc9fd3eb0f59fe5d4be909961"></a><!-- doxytag: member="RSVP::PSBVector" ref="aa2a110dcc9fd3eb0f59fe5d4be909961" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a>&gt; <a class="el" href="class_r_s_v_p.html#aa2a110dcc9fd3eb0f59fe5d4be909961">RSVP::PSBVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00106">106</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0f8968a708f4b7d59fe5d714611df147"></a><!-- doxytag: member="RSVP::RSBVector" ref="a0f8968a708f4b7d59fe5d714611df147" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a>&gt; <a class="el" href="class_r_s_v_p.html#a0f8968a708f4b7d59fe5d714611df147">RSVP::RSBVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00143">143</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad355cd8179b4c281f7164a498c9bb43e"></a><!-- doxytag: member="RSVP::RSVP" ref="ad355cd8179b4c281f7164a498c9bb43e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RSVP::RSVP </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00041">41</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00042"></a>00042 {
<a name="l00043"></a>00043 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aca71f498907770d708d6be9a4480522a"></a><!-- doxytag: member="RSVP::~RSVP" ref="aca71f498907770d708d6be9a4480522a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RSVP::~RSVP </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00045">45</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00046"></a>00046 {
<a name="l00047"></a>00047     <span class="comment">// TODO cancelAndDelete timers in all data structures</span>
<a name="l00048"></a>00048 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aa8c17ae4390aeedc6b6d1bc6e0743c5f"></a><!-- doxytag: member="RSVP::addSession" ref="aa8c17ae4390aeedc6b6d1bc6e0743c5f" args="(const cXMLElement &amp;node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::addSession </td>
          <td>(</td>
          <td class="paramtype">const cXMLElement &amp;&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01854">1854</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01937">processCommand()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01855"></a>01855 {
<a name="l01856"></a>01856     Enter_Method_Silent();
<a name="l01857"></a>01857 
<a name="l01858"></a>01858     <a class="code" href="class_r_s_v_p.html#adada9d53651da0e8c535e7ed47f931fd">readTrafficSessionFromXML</a>(&amp;node);
<a name="l01859"></a>01859 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a58055c8fd6f3b98c57ef68adeaa009e3"></a><!-- doxytag: member="RSVP::allocateResource" ref="a58055c8fd6f3b98c57ef68adeaa009e3" args="(IPAddress OI, const SessionObj_t &amp;session, double bandwidth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RSVP::allocateResource </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>OI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>bandwidth</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00720">720</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01043">removeRSB()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00721"></a>00721 {
<a name="l00722"></a>00722     <span class="keywordflow">if</span> (OI.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>())
<a name="l00723"></a>00723         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00724"></a>00724 
<a name="l00725"></a>00725     <span class="keywordflow">if</span> (!<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(OI))
<a name="l00726"></a>00726         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00727"></a>00727 
<a name="l00728"></a>00728     <span class="keywordflow">if</span> (bandwidth == 0.0)
<a name="l00729"></a>00729         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00730"></a>00730 
<a name="l00731"></a>00731     <span class="keywordtype">int</span> setupPri = session.<a class="code" href="struct_session_obj__t.html#a805e6edce026e0f8ba0b57cc3424baa9">setupPri</a>;
<a name="l00732"></a>00732     <span class="keywordtype">int</span> holdingPri = session.<a class="code" href="struct_session_obj__t.html#a8e3d171c49223f22ccd30d77e773fca4">holdingPri</a>;
<a name="l00733"></a>00733 
<a name="l00734"></a>00734     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aff4add6e86b7bc9ea84079aae0bb3e51">linkIndex</a>(OI);
<a name="l00735"></a>00735 
<a name="l00736"></a>00736     <span class="comment">// Note: UnRB[7] &lt;= UnRW[setupPri] &lt;= UnRW[holdingPri] &lt;= BW[0]</span>
<a name="l00737"></a>00737     <span class="comment">// UnRW[7] is the actual BW left on the link</span>
<a name="l00738"></a>00738 
<a name="l00739"></a>00739     <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].UnResvBandwidth[setupPri] &lt; bandwidth)
<a name="l00740"></a>00740         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00741"></a>00741 
<a name="l00742"></a>00742     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> p = holdingPri; p &lt; 8; p++)
<a name="l00743"></a>00743     {
<a name="l00744"></a>00744         <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].UnResvBandwidth[p] -= bandwidth;
<a name="l00745"></a>00745 
<a name="l00746"></a>00746         <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].UnResvBandwidth[p] &lt; 0.0)
<a name="l00747"></a>00747             <a class="code" href="class_r_s_v_p.html#a933ffa437ba9f3cef9efdfc5f1ac18a9">preempt</a>(OI, p, -<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].UnResvBandwidth[p]);
<a name="l00748"></a>00748     }
<a name="l00749"></a>00749 
<a name="l00750"></a>00750     <span class="comment">// announce changes</span>
<a name="l00751"></a>00751 
<a name="l00752"></a>00752     <a class="code" href="class_r_s_v_p.html#ab63d5bdece74e8218d703ca07604dbe6">announceLinkChange</a>(index);
<a name="l00753"></a>00753 
<a name="l00754"></a>00754     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00755"></a>00755 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab63d5bdece74e8218d703ca07604dbe6"></a><!-- doxytag: member="RSVP::announceLinkChange" ref="ab63d5bdece74e8218d703ca07604dbe6" args="(int tedlinkindex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::announceLinkChange </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tedlinkindex</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00757">757</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00720">allocateResource()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00409">processHELLO_TIMEOUT()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01701">recoveryEvent()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00758"></a>00758 {
<a name="l00759"></a>00759     <a class="code" href="class_t_e_d_change_info.html">TEDChangeInfo</a> d;
<a name="l00760"></a>00760     d.<a class="code" href="class_t_e_d_change_info.html#a9b38462cb6f5358730bfc8c84ce2edf8">setTedLinkIndicesArraySize</a>(1);
<a name="l00761"></a>00761     d.<a class="code" href="class_t_e_d_change_info.html#a0266442f016422d4bc5048953f082cb9">setTedLinkIndices</a>(0, tedlinkindex);
<a name="l00762"></a>00762     <a class="code" href="class_r_s_v_p.html#a0f1e35ac657ccaeca38a235d1b4a3414">nb</a>-&gt;<a class="code" href="class_notification_board.html#a2bb0a5aa0cb272a9b15cb5a58a253fcc">fireChangeNotification</a>(<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba8434e8b760269c6f9680f8fdb45b8a2c">NF_TED_CHANGED</a>, &amp;d);
<a name="l00763"></a>00763 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5418c3bcb4cf57a5965c6a7067b7f678"></a><!-- doxytag: member="RSVP::commitResv" ref="a5418c3bcb4cf57a5965c6a7067b7f678" args="(ResvStateBlock_t *rsb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::commitResv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rsb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00765">765</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00512">processRSB_COMMIT_TIMER()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00766"></a>00766 {
<a name="l00767"></a>00767     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;commit reservation (RSB &quot;</span> &lt;&lt; rsb-&gt;id &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;
<a name="l00768"></a>00768 
<a name="l00769"></a>00769     <span class="comment">// allocate bandwidth as needed</span>
<a name="l00770"></a>00770 
<a name="l00771"></a>00771     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;currently allocated: &quot;</span> &lt;&lt; rsb-&gt;Flowspec_Object &lt;&lt; endl;
<a name="l00772"></a>00772 
<a name="l00773"></a>00773     <span class="keywordflow">while</span>(<span class="keyword">true</span>)
<a name="l00774"></a>00774     {
<a name="l00775"></a>00775         <span class="comment">// remove RSB if empty</span>
<a name="l00776"></a>00776 
<a name="l00777"></a>00777         <span class="keywordflow">if</span> (rsb-&gt;FlowDescriptor.size() == 0)
<a name="l00778"></a>00778         {
<a name="l00779"></a>00779             <a class="code" href="class_r_s_v_p.html#af0469af2686bf9440e3d7320c57bfb6f">removeRSB</a>(rsb);
<a name="l00780"></a>00780             <span class="keywordflow">return</span>;
<a name="l00781"></a>00781         }
<a name="l00782"></a>00782 
<a name="l00783"></a>00783         <a class="code" href="struct_flow_spec_obj__t.html">FlowSpecObj_t</a> req;
<a name="l00784"></a>00784         req.<a class="code" href="struct_sender_tspec_obj__t.html#afc6294fc62d00dd2e9182e318e61caa5">req_bandwidth</a> = 0.0;
<a name="l00785"></a>00785 
<a name="l00786"></a>00786         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> maxFlowIndex;
<a name="l00787"></a>00787         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; rsb-&gt;FlowDescriptor.size(); i++)
<a name="l00788"></a>00788         {
<a name="l00789"></a>00789             <span class="keywordflow">if</span> (rsb-&gt;FlowDescriptor[i].Flowspec_Object.req_bandwidth &gt; req.<a class="code" href="struct_sender_tspec_obj__t.html#afc6294fc62d00dd2e9182e318e61caa5">req_bandwidth</a>)
<a name="l00790"></a>00790             {
<a name="l00791"></a>00791                 req.<a class="code" href="struct_sender_tspec_obj__t.html#afc6294fc62d00dd2e9182e318e61caa5">req_bandwidth</a> = rsb-&gt;FlowDescriptor[i].Flowspec_Object.req_bandwidth;
<a name="l00792"></a>00792                 maxFlowIndex = i;
<a name="l00793"></a>00793             }
<a name="l00794"></a>00794         }
<a name="l00795"></a>00795 
<a name="l00796"></a>00796         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;currently required: &quot;</span> &lt;&lt; req &lt;&lt; endl;
<a name="l00797"></a>00797 
<a name="l00798"></a>00798         <span class="keywordtype">double</span> needed = req.<a class="code" href="struct_sender_tspec_obj__t.html#afc6294fc62d00dd2e9182e318e61caa5">req_bandwidth</a> - rsb-&gt;Flowspec_Object.req_bandwidth;
<a name="l00799"></a>00799 
<a name="l00800"></a>00800         <span class="keywordflow">if</span> (needed != 0.0)
<a name="l00801"></a>00801         {
<a name="l00802"></a>00802             <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#a58055c8fd6f3b98c57ef68adeaa009e3">allocateResource</a>(rsb-&gt;OI, rsb-&gt;Session_Object, needed))
<a name="l00803"></a>00803             {
<a name="l00804"></a>00804                 <span class="comment">// allocated (deallocated) successfully</span>
<a name="l00805"></a>00805 
<a name="l00806"></a>00806                 <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;additional bandwidth of &quot;</span> &lt;&lt; needed &lt;&lt; <span class="stringliteral">&quot; allocated sucessfully&quot;</span> &lt;&lt; endl;
<a name="l00807"></a>00807 
<a name="l00808"></a>00808                 rsb-&gt;Flowspec_Object.req_bandwidth += needed;
<a name="l00809"></a>00809             }
<a name="l00810"></a>00810             <span class="keywordflow">else</span>
<a name="l00811"></a>00811             {
<a name="l00812"></a>00812                 <span class="comment">// bandwidth not available</span>
<a name="l00813"></a>00813 
<a name="l00814"></a>00814                 ASSERT(rsb-&gt;inLabelVector.size() == rsb-&gt;FlowDescriptor.size());
<a name="l00815"></a>00815 
<a name="l00816"></a>00816                 <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;not enough bandwidth to accommodate this RSB&quot;</span> &lt;&lt; endl;
<a name="l00817"></a>00817 
<a name="l00818"></a>00818                 <span class="keywordtype">int</span> lspid = rsb-&gt;FlowDescriptor[maxFlowIndex].Filter_Spec_Object.Lsp_Id;
<a name="l00819"></a>00819                 <span class="keywordtype">int</span> oldInLabel = rsb-&gt;inLabelVector[maxFlowIndex];
<a name="l00820"></a>00820                 PathStateBlock_t *psb = <a class="code" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a>(rsb-&gt;Session_Object, (<a class="code" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a>&amp;)rsb-&gt;FlowDescriptor[maxFlowIndex].Filter_Spec_Object);
<a name="l00821"></a>00821 
<a name="l00822"></a>00822                 <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;removing filter lspid=&quot;</span> &lt;&lt; lspid &lt;&lt; <span class="stringliteral">&quot; (max. flow)&quot;</span> &lt;&lt; endl;
<a name="l00823"></a>00823 
<a name="l00824"></a>00824                 rsb-&gt;FlowDescriptor.erase(rsb-&gt;FlowDescriptor.begin() + maxFlowIndex);
<a name="l00825"></a>00825                 rsb-&gt;inLabelVector.erase(rsb-&gt;inLabelVector.begin() + maxFlowIndex);
<a name="l00826"></a>00826 
<a name="l00827"></a>00827                 <span class="keywordflow">if</span> (oldInLabel != -1)
<a name="l00828"></a>00828                 {
<a name="l00829"></a>00829                     <span class="comment">// path already existed, this must be preemption</span>
<a name="l00830"></a>00830 
<a name="l00831"></a>00831                     <a class="code" href="class_r_s_v_p.html#aede65339bca2fcd134158dd9784100e2">sendPathErrorMessage</a>(psb, <a class="code" href="_r_s_v_p_8cc.html#ade6fa078d09732210f77de2f6be3aba2">PATH_ERR_PREEMPTED</a>);
<a name="l00832"></a>00832 
<a name="l00833"></a>00833                     <a class="code" href="class_r_s_v_p.html#ad137623f6252e3398084176dc311885f">lt</a>-&gt;<a class="code" href="class_l_i_b_table.html#aeaf750f1e663ddd1a5a6e76406ad8a14">removeLibEntry</a>(oldInLabel);
<a name="l00834"></a>00834                 }
<a name="l00835"></a>00835                 <span class="keywordflow">else</span>
<a name="l00836"></a>00836                 {
<a name="l00837"></a>00837                     <span class="comment">// path not established yet, report as unfeasible</span>
<a name="l00838"></a>00838 
<a name="l00839"></a>00839                     <a class="code" href="class_r_s_v_p.html#aede65339bca2fcd134158dd9784100e2">sendPathErrorMessage</a>(psb, <a class="code" href="_r_s_v_p_8cc.html#aa99604209fc07fe495c4601f85ba8fae">PATH_ERR_UNFEASIBLE</a>);
<a name="l00840"></a>00840                 }
<a name="l00841"></a>00841 
<a name="l00842"></a>00842                 <span class="keywordflow">continue</span>;
<a name="l00843"></a>00843             }
<a name="l00844"></a>00844 
<a name="l00845"></a>00845         }
<a name="l00846"></a>00846 
<a name="l00847"></a>00847         <span class="keywordflow">break</span>;
<a name="l00848"></a>00848     }
<a name="l00849"></a>00849 
<a name="l00850"></a>00850     <span class="comment">// install labels into lib</span>
<a name="l00851"></a>00851 
<a name="l00852"></a>00852     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; rsb-&gt;FlowDescriptor.size(); i++)
<a name="l00853"></a>00853     {
<a name="l00854"></a>00854         <span class="keywordtype">int</span> lspid = rsb-&gt;FlowDescriptor[i].Filter_Spec_Object.Lsp_Id;
<a name="l00855"></a>00855 
<a name="l00856"></a>00856         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;processing lspid=&quot;</span> &lt;&lt; lspid &lt;&lt; endl;
<a name="l00857"></a>00857 
<a name="l00858"></a>00858         PathStateBlock_t *psb = <a class="code" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a>(rsb-&gt;Session_Object, rsb-&gt;FlowDescriptor[i].Filter_Spec_Object);
<a name="l00859"></a>00859 
<a name="l00860"></a>00860         <a class="code" href="_l_i_b_table_8h.html#a40d505abe4d03bca1c9776ebb1a874e5">LabelOpVector</a> outLabel;
<a name="l00861"></a>00861         std::string inInterface, outInterface;
<a name="l00862"></a>00862 
<a name="l00863"></a>00863         <span class="keywordtype">bool</span> IR = (psb-&gt;Previous_Hop_Address == <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>);
<a name="l00864"></a>00864         <span class="comment">//bool ER = psb-&gt;OutInterface.isUnspecified();</span>
<a name="l00865"></a>00865         <span class="keywordflow">if</span> (!IR)
<a name="l00866"></a>00866         {
<a name="l00867"></a>00867             <a class="code" href="class_i_p_address.html">IPAddress</a> localInf = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aa83e78954a200bcb27bb2404bb5b8b25">getInterfaceAddrByPeerAddress</a>(psb-&gt;Previous_Hop_Address);
<a name="l00868"></a>00868             inInterface = <a class="code" href="class_r_s_v_p.html#a9f89cdfc58368bf8e0c491b7da2dd113">rt</a>-&gt;<a class="code" href="class_i_routing_table.html#a57e790dfac86432f349e15116e5961d1">getInterfaceByAddress</a>(localInf)-&gt;getName();
<a name="l00869"></a>00869         }
<a name="l00870"></a>00870         <span class="keywordflow">else</span>
<a name="l00871"></a>00871             inInterface = <span class="stringliteral">&quot;any&quot;</span>;
<a name="l00872"></a>00872 
<a name="l00873"></a>00873         <span class="comment">// outlabel and outgoing interface</span>
<a name="l00874"></a>00874 
<a name="l00875"></a>00875         <a class="code" href="struct_label_op.html">LabelOp</a> lop;
<a name="l00876"></a>00876 
<a name="l00877"></a>00877         <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(psb-&gt;OutInterface))
<a name="l00878"></a>00878         {
<a name="l00879"></a>00879             <span class="comment">// regular next hop</span>
<a name="l00880"></a>00880 
<a name="l00881"></a>00881             lop.<a class="code" href="struct_label_op.html#a600bcf4f3fffd52d81b9bb0d414a48f6">optcode</a> = IR? <a class="code" href="_l_i_b_table_8h.html#a65b91ade86c62b52fbee5d49482c7e0d">PUSH_OPER</a>: <a class="code" href="_l_i_b_table_8h.html#a987e9fc2a7ff421450ac8779ccbd336f">SWAP_OPER</a>;
<a name="l00882"></a>00882             lop.<a class="code" href="struct_label_op.html#a80b1880188a87fb773e25cce4b7e3119">label</a> = rsb-&gt;FlowDescriptor[i].label;
<a name="l00883"></a>00883             outLabel.push_back(lop);
<a name="l00884"></a>00884 
<a name="l00885"></a>00885             outInterface = <a class="code" href="class_r_s_v_p.html#a9f89cdfc58368bf8e0c491b7da2dd113">rt</a>-&gt;<a class="code" href="class_i_routing_table.html#a57e790dfac86432f349e15116e5961d1">getInterfaceByAddress</a>(psb-&gt;OutInterface)-&gt;getName();
<a name="l00886"></a>00886         }
<a name="l00887"></a>00887         <span class="keywordflow">else</span>
<a name="l00888"></a>00888         {
<a name="l00889"></a>00889             <span class="comment">// egress router</span>
<a name="l00890"></a>00890 
<a name="l00891"></a>00891             lop.<a class="code" href="struct_label_op.html#a80b1880188a87fb773e25cce4b7e3119">label</a> = 0;
<a name="l00892"></a>00892             lop.<a class="code" href="struct_label_op.html#a600bcf4f3fffd52d81b9bb0d414a48f6">optcode</a> = <a class="code" href="_l_i_b_table_8h.html#ab10ea02f37621d1407e5fec0b9206ce6">POP_OPER</a>;
<a name="l00893"></a>00893             outLabel.push_back(lop);
<a name="l00894"></a>00894 
<a name="l00895"></a>00895             outInterface = <span class="stringliteral">&quot;lo0&quot;</span>;
<a name="l00896"></a>00896 
<a name="l00897"></a>00897             <span class="keywordflow">if</span> (!<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(psb-&gt;Session_Object.DestAddress))
<a name="l00898"></a>00898             {
<a name="l00899"></a>00899                 <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = <a class="code" href="class_r_s_v_p.html#a9f89cdfc58368bf8e0c491b7da2dd113">rt</a>-&gt;<a class="code" href="class_i_routing_table.html#a0dda4a87779a949284ccead75001fa30">getInterfaceForDestAddr</a>(psb-&gt;Session_Object.DestAddress);
<a name="l00900"></a>00900                 <span class="keywordflow">if</span> (ie)
<a name="l00901"></a>00901                     outInterface = ie-&gt;getName(); <span class="comment">// FIXME why use name to identify an interface?</span>
<a name="l00902"></a>00902             }
<a name="l00903"></a>00903         }
<a name="l00904"></a>00904 
<a name="l00905"></a>00905         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;installing label for &quot;</span> &lt;&lt; lspid &lt;&lt; <span class="stringliteral">&quot; outLabel=&quot;</span> &lt;&lt; outLabel &lt;&lt;
<a name="l00906"></a>00906             <span class="stringliteral">&quot; outInterface=&quot;</span> &lt;&lt; outInterface &lt;&lt; endl;
<a name="l00907"></a>00907 
<a name="l00908"></a>00908         ASSERT(rsb-&gt;inLabelVector.size() == rsb-&gt;FlowDescriptor.size());
<a name="l00909"></a>00909 
<a name="l00910"></a>00910         <span class="keywordtype">int</span> inLabel = <a class="code" href="class_r_s_v_p.html#ad137623f6252e3398084176dc311885f">lt</a>-&gt;<a class="code" href="class_l_i_b_table.html#a6599a694b9035a18dbc01bd0c52b54f7">installLibEntry</a>(rsb-&gt;inLabelVector[i], inInterface,
<a name="l00911"></a>00911                 outLabel, outInterface, psb-&gt;color);
<a name="l00912"></a>00912 
<a name="l00913"></a>00913         ASSERT(inLabel &gt;= 0);
<a name="l00914"></a>00914 
<a name="l00915"></a>00915         <span class="keywordflow">if</span> (IR &amp;&amp; rsb-&gt;inLabelVector[i] == -1)
<a name="l00916"></a>00916         {
<a name="l00917"></a>00917             <span class="comment">// path established</span>
<a name="l00918"></a>00918             <a class="code" href="class_r_s_v_p.html#a472ceb4e889ba0fc93649dff8e5d549a">sendPathNotify</a>(psb-&gt;handler, psb-&gt;Session_Object, psb-&gt;Sender_Template_Object, <a class="code" href="_signalling_msg__m_8h.html#a91955e28b6308bfc03be64aad88b721b">PATH_CREATED</a>, 0.0);
<a name="l00919"></a>00919         }
<a name="l00920"></a>00920 
<a name="l00921"></a>00921         <span class="keywordflow">if</span> (rsb-&gt;inLabelVector[i] != inLabel)
<a name="l00922"></a>00922         {
<a name="l00923"></a>00923             <span class="comment">// remember our current label</span>
<a name="l00924"></a>00924             rsb-&gt;inLabelVector[i] = inLabel;
<a name="l00925"></a>00925 
<a name="l00926"></a>00926             <span class="comment">// bind fec</span>
<a name="l00927"></a>00927             <a class="code" href="class_r_s_v_p.html#a44fd3dc334665b246ce0a555cb35e34f">rpct</a>-&gt;<a class="code" href="class_i_r_s_v_p_classifier.html#a4351df463434c522af578c9a66bac594">bind</a>(psb-&gt;Session_Object, psb-&gt;Sender_Template_Object, inLabel);
<a name="l00928"></a>00928         }
<a name="l00929"></a>00929 
<a name="l00930"></a>00930         <span class="comment">// schedule commit of merging backups too...</span>
<a name="l00931"></a>00931         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.size(); j++)
<a name="l00932"></a>00932         {
<a name="l00933"></a>00933             <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>[j].OI != lspid)
<a name="l00934"></a>00934                 <span class="keywordflow">continue</span>;
<a name="l00935"></a>00935 
<a name="l00936"></a>00936             <a class="code" href="class_r_s_v_p.html#a269cab6db09df7ab124076afe9515a6f">scheduleCommitTimer</a>(&amp;<a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>[j]);
<a name="l00937"></a>00937         }
<a name="l00938"></a>00938     }
<a name="l00939"></a>00939 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af34403ca300fb9425d67e609c7bbf9a3"></a><!-- doxytag: member="RSVP::createEgressRSB" ref="af34403ca300fb9425d67e609c7bbf9a3" args="(PathStateBlock_t *psb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">RSVP::ResvStateBlock_t</a> * RSVP::createEgressRSB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>psb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01283">1283</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01284"></a>01284 {
<a name="l01285"></a>01285     ResvStateBlock_t rsbEle;
<a name="l01286"></a>01286 
<a name="l01287"></a>01287     rsbEle.id = ++<a class="code" href="class_r_s_v_p.html#a8df043f6a88c29e65a22c37ec7294ff0">maxRsbId</a>;
<a name="l01288"></a>01288 
<a name="l01289"></a>01289     rsbEle.timeoutMsg = <span class="keyword">new</span> <a class="code" href="class_rsb_timeout_msg.html">RsbTimeoutMsg</a>(<span class="stringliteral">&quot;rsb timeout&quot;</span>);
<a name="l01290"></a>01290     rsbEle.timeoutMsg-&gt;setId(rsbEle.id);
<a name="l01291"></a>01291 
<a name="l01292"></a>01292     rsbEle.refreshTimerMsg = <span class="keyword">new</span> <a class="code" href="class_rsb_refresh_timer_msg.html">RsbRefreshTimerMsg</a>(<span class="stringliteral">&quot;rsb timer&quot;</span>);
<a name="l01293"></a>01293     rsbEle.refreshTimerMsg-&gt;setId(rsbEle.id);
<a name="l01294"></a>01294 
<a name="l01295"></a>01295     rsbEle.commitTimerMsg = <span class="keyword">new</span> <a class="code" href="class_rsb_commit_timer_msg.html">RsbCommitTimerMsg</a>(<span class="stringliteral">&quot;rsb commit&quot;</span>);
<a name="l01296"></a>01296     rsbEle.commitTimerMsg-&gt;setId(rsbEle.id);
<a name="l01297"></a>01297 
<a name="l01298"></a>01298     rsbEle.Session_Object = psb-&gt;Session_Object;
<a name="l01299"></a>01299     rsbEle.Next_Hop_Address = psb-&gt;Previous_Hop_Address;
<a name="l01300"></a>01300 
<a name="l01301"></a>01301     rsbEle.OI = psb-&gt;OutInterface;
<a name="l01302"></a>01302 
<a name="l01303"></a>01303     <a class="code" href="struct_flow_descriptor__t.html">FlowDescriptor_t</a> flow;
<a name="l01304"></a>01304     flow.<a class="code" href="struct_flow_descriptor__t.html#a66675069c50ee542c00bbeac43f51fbb">Flowspec_Object</a> = (<a class="code" href="struct_flow_spec_obj__t.html">FlowSpecObj_t</a>&amp;)psb-&gt;Sender_Tspec_Object;
<a name="l01305"></a>01305     flow.<a class="code" href="struct_flow_descriptor__t.html#a127df251ef2d7b9da5f28c96b5bfdfef">Filter_Spec_Object</a> = (<a class="code" href="struct_filter_spec_obj__t.html">FilterSpecObj_t</a>&amp;)psb-&gt;Sender_Template_Object;
<a name="l01306"></a>01306     flow.<a class="code" href="struct_flow_descriptor__t.html#a1c1607c17ed24a30b186f7648248fb58">label</a> = -1;
<a name="l01307"></a>01307 
<a name="l01308"></a>01308     rsbEle.FlowDescriptor.push_back(flow);
<a name="l01309"></a>01309     rsbEle.inLabelVector.push_back(-1);
<a name="l01310"></a>01310 
<a name="l01311"></a>01311     <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.push_back(rsbEle);
<a name="l01312"></a>01312     ResvStateBlock_t *rsb = &amp;(*(<a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.end() - 1));
<a name="l01313"></a>01313 
<a name="l01314"></a>01314     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;created new (egress) RSB &quot;</span> &lt;&lt; rsb-&gt;id &lt;&lt; endl;
<a name="l01315"></a>01315 
<a name="l01316"></a>01316     <span class="keywordflow">return</span> rsb;
<a name="l01317"></a>01317 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a46e933eb87d8a3b105a313a0e48403a3"></a><!-- doxytag: member="RSVP::createIngressPSB" ref="a46e933eb87d8a3b105a313a0e48403a3" args="(const traffic_session_t &amp;session, const traffic_path_t &amp;path)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">RSVP::PathStateBlock_t</a> * RSVP::createIngressPSB </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_r_s_v_p_1_1traffic__session__t.html">traffic_session_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_r_s_v_p_1_1traffic__path__t.html">traffic_path_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>path</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01235">1235</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00090">createPath()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01236"></a>01236 {
<a name="l01237"></a>01237     <a class="code" href="_int_serv__m_8h.html#aea4ecacf78719a59508153fbdbd5cc7b">EroVector</a> ERO = path.ERO;
<a name="l01238"></a>01238 
<a name="l01239"></a>01239     <span class="keywordflow">while</span>(ERO.size() &gt; 0 &amp;&amp; ERO[0].node == <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>)
<a name="l01240"></a>01240     {
<a name="l01241"></a>01241         <span class="comment">// remove ourselves from the beginning of the hop list</span>
<a name="l01242"></a>01242         ERO.erase(ERO.begin());
<a name="l01243"></a>01243     }
<a name="l01244"></a>01244 
<a name="l01245"></a>01245     <a class="code" href="class_i_p_address.html">IPAddress</a> OI;
<a name="l01246"></a>01246 
<a name="l01247"></a>01247     <span class="keywordflow">if</span> (!<a class="code" href="class_r_s_v_p.html#a74c8cb3303ae62d7e118cbacacf0c5e0">evalNextHopInterface</a>(session.sobj.DestAddress, ERO, OI))
<a name="l01248"></a>01248         <span class="keywordflow">return</span> NULL;
<a name="l01249"></a>01249 
<a name="l01250"></a>01250     <span class="keywordflow">if</span> (!<a class="code" href="class_r_s_v_p.html#a05e7433548bd2ecc502fa40210d85f46">doCACCheck</a>(session.sobj, path.tspec, OI))
<a name="l01251"></a>01251         <span class="keywordflow">return</span> NULL;
<a name="l01252"></a>01252 
<a name="l01253"></a>01253     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;CACCheck passed, creating PSB&quot;</span> &lt;&lt; endl;
<a name="l01254"></a>01254 
<a name="l01255"></a>01255     PathStateBlock_t psbEle;
<a name="l01256"></a>01256     psbEle.id = ++<a class="code" href="class_r_s_v_p.html#a18c51012884262a7a68bc2ef3fee90a1">maxPsbId</a>;
<a name="l01257"></a>01257 
<a name="l01258"></a>01258     psbEle.timeoutMsg = <span class="keyword">new</span> <a class="code" href="class_psb_timeout_msg.html">PsbTimeoutMsg</a>(<span class="stringliteral">&quot;psb timeout&quot;</span>);
<a name="l01259"></a>01259     psbEle.timeoutMsg-&gt;setId(psbEle.id);
<a name="l01260"></a>01260 
<a name="l01261"></a>01261     psbEle.timerMsg = <span class="keyword">new</span> <a class="code" href="class_psb_timer_msg.html">PsbTimerMsg</a>(<span class="stringliteral">&quot;psb timer&quot;</span>);
<a name="l01262"></a>01262     psbEle.timerMsg-&gt;setId(psbEle.id);
<a name="l01263"></a>01263 
<a name="l01264"></a>01264     psbEle.Session_Object = session.sobj;
<a name="l01265"></a>01265     psbEle.Sender_Template_Object = path.sender;
<a name="l01266"></a>01266     psbEle.Sender_Tspec_Object = path.tspec;
<a name="l01267"></a>01267 
<a name="l01268"></a>01268     psbEle.Previous_Hop_Address = <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>;
<a name="l01269"></a>01269 
<a name="l01270"></a>01270     psbEle.OutInterface = OI;
<a name="l01271"></a>01271     psbEle.ERO = ERO;
<a name="l01272"></a>01272     psbEle.color = path.color;
<a name="l01273"></a>01273 
<a name="l01274"></a>01274     psbEle.handler = path.owner;
<a name="l01275"></a>01275 
<a name="l01276"></a>01276     <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.push_back(psbEle);
<a name="l01277"></a>01277     PathStateBlock_t *cPSB = &amp;(*(<a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.end() - 1));
<a name="l01278"></a>01278 
<a name="l01279"></a>01279     <span class="keywordflow">return</span> cPSB;
<a name="l01280"></a>01280 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a820c09dd3002f2309aeaa1f30d092887"></a><!-- doxytag: member="RSVP::createPath" ref="a820c09dd3002f2309aeaa1f30d092887" args="(const SessionObj_t &amp;session, const SenderTemplateObj_t &amp;sender)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::createPath </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sender</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00090">90</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01809">processPATH_NOTIFY()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00091"></a>00091 {
<a name="l00092"></a>00092     <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a>(session, sender))
<a name="l00093"></a>00093     {
<a name="l00094"></a>00094         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;path (PSB) already exists, doing nothing&quot;</span> &lt;&lt; endl;
<a name="l00095"></a>00095         <span class="keywordflow">return</span>;
<a name="l00096"></a>00096     }
<a name="l00097"></a>00097 
<a name="l00098"></a>00098     <span class="comment">// find entry in traffic database</span>
<a name="l00099"></a>00099 
<a name="l00100"></a>00100     std::vector&lt;traffic_session_t&gt;::iterator sit;
<a name="l00101"></a>00101     sit = <a class="code" href="class_r_s_v_p.html#adbc9840e5bb15c37459aacb83385bdc0">findSession</a>(session);
<a name="l00102"></a>00102 
<a name="l00103"></a>00103     <span class="keywordflow">if</span> (sit == <a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>.end())
<a name="l00104"></a>00104     {
<a name="l00105"></a>00105         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;session not found in traffic database, path won&apos;t be created&quot;</span> &lt;&lt; endl;
<a name="l00106"></a>00106         <span class="keywordflow">return</span>;
<a name="l00107"></a>00107     }
<a name="l00108"></a>00108 
<a name="l00109"></a>00109     std::vector&lt;traffic_path_t&gt;::iterator pit;
<a name="l00110"></a>00110     pit = <a class="code" href="class_r_s_v_p.html#a92c0c4053e1f2d4a7fa85fed30d9a49d">findPath</a>(&amp;(*sit), sender);
<a name="l00111"></a>00111 
<a name="l00112"></a>00112     <span class="keywordflow">if</span> (pit == sit-&gt;paths.end())
<a name="l00113"></a>00113     {
<a name="l00114"></a>00114         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;path doesn&apos;t belong to this session according to our database, doing nothing&quot;</span> &lt;&lt; endl;
<a name="l00115"></a>00115         <span class="keywordflow">return</span>;
<a name="l00116"></a>00116     }
<a name="l00117"></a>00117 
<a name="l00118"></a>00118     PathStateBlock_t *psb = <a class="code" href="class_r_s_v_p.html#a46e933eb87d8a3b105a313a0e48403a3">createIngressPSB</a>(*sit, *pit);
<a name="l00119"></a>00119     <span class="keywordflow">if</span> (psb)
<a name="l00120"></a>00120     {
<a name="l00121"></a>00121         <span class="comment">// PSB successfully created, send path message downstream</span>
<a name="l00122"></a>00122         <a class="code" href="class_r_s_v_p.html#a130138413206f03179fc63d56f4937cd">scheduleRefreshTimer</a>(psb, 0.0);
<a name="l00123"></a>00123     }
<a name="l00124"></a>00124     <span class="keywordflow">else</span>
<a name="l00125"></a>00125     {
<a name="l00126"></a>00126         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;ingress PSB couln&apos;t be created&quot;</span> &lt;&lt; endl;
<a name="l00127"></a>00127 
<a name="l00128"></a>00128         <span class="comment">// inform the owner of this path</span>
<a name="l00129"></a>00129         <a class="code" href="class_r_s_v_p.html#a472ceb4e889ba0fc93649dff8e5d549a">sendPathNotify</a>(pit-&gt;owner, sit-&gt;sobj, pit-&gt;sender, <a class="code" href="_signalling_msg__m_8h.html#af8046a7e229395d6607659b1c8cc4722">PATH_UNFEASIBLE</a>, 0.0);
<a name="l00130"></a>00130 
<a name="l00131"></a>00131         <span class="comment">// remove non-permanent path</span>
<a name="l00132"></a>00132         <span class="keywordflow">if</span> (!pit-&gt;permanent)
<a name="l00133"></a>00133         {
<a name="l00134"></a>00134             <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;removing path from traffic database&quot;</span> &lt;&lt; endl;
<a name="l00135"></a>00135 
<a name="l00136"></a>00136             sit-&gt;paths.erase(pit--);
<a name="l00137"></a>00137         }
<a name="l00138"></a>00138         <span class="keywordflow">else</span>
<a name="l00139"></a>00139         {
<a name="l00140"></a>00140             <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;path is permanent, we will try again later&quot;</span> &lt;&lt; endl;
<a name="l00141"></a>00141 
<a name="l00142"></a>00142             <a class="code" href="class_r_s_v_p.html#a472ceb4e889ba0fc93649dff8e5d549a">sendPathNotify</a>(getId(), sit-&gt;sobj, pit-&gt;sender, <a class="code" href="_signalling_msg__m_8h.html#a1a8eebfa348f4e4c0d1103c924f967ac">PATH_RETRY</a>, <a class="code" href="class_r_s_v_p.html#a469e284ac5acfa70db603d70691b06ef">retryInterval</a>);
<a name="l00143"></a>00143         }
<a name="l00144"></a>00144     }
<a name="l00145"></a>00145 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4c582acc45b47942f56a34aa35fcfc70"></a><!-- doxytag: member="RSVP::createPSB" ref="a4c582acc45b47942f56a34aa35fcfc70" args="(RSVPPathMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">RSVP::PathStateBlock_t</a> * RSVP::createPSB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_path_msg.html">RSVPPathMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01189">1189</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01190"></a>01190 {
<a name="l01191"></a>01191     <span class="keyword">const</span> <a class="code" href="_int_serv__m_8h.html#aea4ecacf78719a59508153fbdbd5cc7b">EroVector</a>&amp; ERO = msg-&gt;<a class="code" href="class_r_s_v_p_path_msg___base.html#ade0b6740b8fed5f38f2de4fd8a8037b7">getERO</a>();
<a name="l01192"></a>01192     <a class="code" href="class_i_p_address.html">IPAddress</a> destAddr = msg-&gt;<a class="code" href="class_r_s_v_p_packet.html#ac30adeaa0be09e94f37f017a60659ce0">getDestAddress</a>();
<a name="l01193"></a>01193 
<a name="l01194"></a>01194     <span class="comment">//</span>
<a name="l01195"></a>01195 
<a name="l01196"></a>01196     <a class="code" href="class_i_p_address.html">IPAddress</a> OI;
<a name="l01197"></a>01197 
<a name="l01198"></a>01198     <span class="keywordflow">if</span> (!<a class="code" href="class_r_s_v_p.html#a74c8cb3303ae62d7e118cbacacf0c5e0">evalNextHopInterface</a>(destAddr, ERO, OI))
<a name="l01199"></a>01199         <span class="keywordflow">return</span> NULL;
<a name="l01200"></a>01200 
<a name="l01201"></a>01201     <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(OI) &amp;&amp; !<a class="code" href="class_r_s_v_p.html#a05e7433548bd2ecc502fa40210d85f46">doCACCheck</a>(msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#ab333a8fa8e37b8ec3c6976e46587db4d">getSession</a>(), msg-&gt;<a class="code" href="class_r_s_v_p_path_msg.html#ae076819f0798afd76bd5ab68453fcdb4">getSenderTspec</a>(), OI))
<a name="l01202"></a>01202         <span class="keywordflow">return</span> NULL; <span class="comment">// not enough resources</span>
<a name="l01203"></a>01203 
<a name="l01204"></a>01204     PathStateBlock_t psbEle;
<a name="l01205"></a>01205 
<a name="l01206"></a>01206     psbEle.id = ++<a class="code" href="class_r_s_v_p.html#a18c51012884262a7a68bc2ef3fee90a1">maxPsbId</a>;
<a name="l01207"></a>01207 
<a name="l01208"></a>01208     psbEle.timeoutMsg = <span class="keyword">new</span> <a class="code" href="class_psb_timeout_msg.html">PsbTimeoutMsg</a>(<span class="stringliteral">&quot;psb timeout&quot;</span>);
<a name="l01209"></a>01209     psbEle.timeoutMsg-&gt;setId(psbEle.id);
<a name="l01210"></a>01210 
<a name="l01211"></a>01211     psbEle.timerMsg = <span class="keyword">new</span> <a class="code" href="class_psb_timer_msg.html">PsbTimerMsg</a>(<span class="stringliteral">&quot;psb timer&quot;</span>);
<a name="l01212"></a>01212     psbEle.timerMsg-&gt;setId(psbEle.id);
<a name="l01213"></a>01213 
<a name="l01214"></a>01214     psbEle.Session_Object = msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#ab333a8fa8e37b8ec3c6976e46587db4d">getSession</a>();
<a name="l01215"></a>01215     psbEle.Sender_Template_Object = msg-&gt;<a class="code" href="class_r_s_v_p_path_msg.html#a464ac49e22b9c21e971bf15634ea0626">getSenderTemplate</a>();
<a name="l01216"></a>01216     psbEle.Sender_Tspec_Object = msg-&gt;<a class="code" href="class_r_s_v_p_path_msg.html#ae076819f0798afd76bd5ab68453fcdb4">getSenderTspec</a>();
<a name="l01217"></a>01217 
<a name="l01218"></a>01218     psbEle.Previous_Hop_Address = msg-&gt;<a class="code" href="class_r_s_v_p_path_msg.html#a3c732fc83aa501ffd914cc1294d2caf0">getNHOP</a>();
<a name="l01219"></a>01219     <span class="comment">//psbEle.LIH = msg-&gt;getLIH();</span>
<a name="l01220"></a>01220 
<a name="l01221"></a>01221     psbEle.OutInterface = OI;
<a name="l01222"></a>01222     psbEle.ERO = ERO;
<a name="l01223"></a>01223 
<a name="l01224"></a>01224     psbEle.color = msg-&gt;<a class="code" href="class_r_s_v_p_path_msg___base.html#a70a42552a35513df77e8f9da9eee3dbf">getColor</a>();
<a name="l01225"></a>01225     psbEle.handler = -1;
<a name="l01226"></a>01226 
<a name="l01227"></a>01227     <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.push_back(psbEle);
<a name="l01228"></a>01228     PathStateBlock_t *cPSB = &amp;(*(<a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.end() - 1));
<a name="l01229"></a>01229 
<a name="l01230"></a>01230     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;created new PSB &quot;</span> &lt;&lt; cPSB-&gt;id &lt;&lt; endl;
<a name="l01231"></a>01231 
<a name="l01232"></a>01232     <span class="keywordflow">return</span> cPSB;
<a name="l01233"></a>01233 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad53a7a49e12f3cc0ff339e20624406fe"></a><!-- doxytag: member="RSVP::createRSB" ref="ad53a7a49e12f3cc0ff339e20624406fe" args="(RSVPResvMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">RSVP::ResvStateBlock_t</a> * RSVP::createRSB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_resv_msg.html">RSVPResvMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00941">941</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01636">processResvMsg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00942"></a>00942 {
<a name="l00943"></a>00943     ResvStateBlock_t rsbEle;
<a name="l00944"></a>00944 
<a name="l00945"></a>00945     rsbEle.id = ++<a class="code" href="class_r_s_v_p.html#a8df043f6a88c29e65a22c37ec7294ff0">maxRsbId</a>;
<a name="l00946"></a>00946 
<a name="l00947"></a>00947     rsbEle.timeoutMsg = <span class="keyword">new</span> <a class="code" href="class_rsb_timeout_msg.html">RsbTimeoutMsg</a>(<span class="stringliteral">&quot;rsb timeout&quot;</span>);
<a name="l00948"></a>00948     rsbEle.timeoutMsg-&gt;setId(rsbEle.id);
<a name="l00949"></a>00949 
<a name="l00950"></a>00950     rsbEle.refreshTimerMsg = <span class="keyword">new</span> <a class="code" href="class_rsb_refresh_timer_msg.html">RsbRefreshTimerMsg</a>(<span class="stringliteral">&quot;rsb timer&quot;</span>);
<a name="l00951"></a>00951     rsbEle.refreshTimerMsg-&gt;setId(rsbEle.id);
<a name="l00952"></a>00952 
<a name="l00953"></a>00953     rsbEle.commitTimerMsg = <span class="keyword">new</span> <a class="code" href="class_rsb_commit_timer_msg.html">RsbCommitTimerMsg</a>(<span class="stringliteral">&quot;rsb commit&quot;</span>);
<a name="l00954"></a>00954     rsbEle.commitTimerMsg-&gt;setId(rsbEle.id);
<a name="l00955"></a>00955 
<a name="l00956"></a>00956     rsbEle.Session_Object = msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#ab333a8fa8e37b8ec3c6976e46587db4d">getSession</a>();
<a name="l00957"></a>00957     rsbEle.Next_Hop_Address = msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg.html#acba305cab60cbda25aabda67c227e8f1">getNHOP</a>();
<a name="l00958"></a>00958     rsbEle.OI = msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg.html#a256dcad2154833acf6b0658aef2a9541">getLIH</a>();
<a name="l00959"></a>00959 
<a name="l00960"></a>00960     ASSERT(rsbEle.inLabelVector.size() == rsbEle.FlowDescriptor.size());
<a name="l00961"></a>00961 
<a name="l00962"></a>00962     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>().size(); i++)
<a name="l00963"></a>00963     {
<a name="l00964"></a>00964         <a class="code" href="struct_flow_descriptor__t.html">FlowDescriptor_t</a> flow = msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>()[i];
<a name="l00965"></a>00965         rsbEle.FlowDescriptor.push_back(flow);
<a name="l00966"></a>00966         rsbEle.inLabelVector.push_back(-1);
<a name="l00967"></a>00967     }
<a name="l00968"></a>00968 
<a name="l00969"></a>00969     <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.push_back(rsbEle);
<a name="l00970"></a>00970     ResvStateBlock_t *rsb = &amp;(*(<a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.end() - 1));
<a name="l00971"></a>00971 
<a name="l00972"></a>00972     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;created new RSB &quot;</span> &lt;&lt; rsb-&gt;id &lt;&lt; endl;
<a name="l00973"></a>00973 
<a name="l00974"></a>00974     <span class="keywordflow">return</span> rsb;
<a name="l00975"></a>00975 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1578adc0aa64e000a877ab117a3e9060"></a><!-- doxytag: member="RSVP::delSession" ref="a1578adc0aa64e000a877ab117a3e9060" args="(const cXMLElement &amp;node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::delSession </td>
          <td>(</td>
          <td class="paramtype">const cXMLElement &amp;&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01861">1861</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01937">processCommand()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01862"></a>01862 {
<a name="l01863"></a>01863     Enter_Method_Silent();
<a name="l01864"></a>01864 
<a name="l01865"></a>01865     <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(&amp;node, <span class="stringliteral">&quot;tunnel_id extended_tunnel_id endpoint paths&quot;</span>);
<a name="l01866"></a>01866 
<a name="l01867"></a>01867     <a class="code" href="struct_session_obj__t.html">SessionObj_t</a> sobj;
<a name="l01868"></a>01868 
<a name="l01869"></a>01869     sobj.<a class="code" href="struct_session_obj__t.html#ae0956441a03914d28ef82a4398aaf30b">Tunnel_Id</a> = <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(&amp;node, <span class="stringliteral">&quot;tunnel_id&quot;</span>);
<a name="l01870"></a>01870     sobj.<a class="code" href="struct_session_obj__t.html#a0f79277c757c9d629eef8f0a7bf39ca5">Extended_Tunnel_Id</a> = <a class="code" href="_x_m_l_utils_8cc.html#abc530a666bb91e5d1305f0d0fc5525c7">getParameterIPAddressValue</a>(&amp;node, <span class="stringliteral">&quot;extended_tunnel_id&quot;</span>, <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>).<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>();
<a name="l01871"></a>01871     sobj.<a class="code" href="struct_session_obj__t.html#a864c419c0c90b94148924c7457d262bd">DestAddress</a> = <a class="code" href="_x_m_l_utils_8cc.html#abc530a666bb91e5d1305f0d0fc5525c7">getParameterIPAddressValue</a>(&amp;node, <span class="stringliteral">&quot;endpoint&quot;</span>);
<a name="l01872"></a>01872 
<a name="l01873"></a>01873     std::vector&lt;traffic_session_t&gt;::iterator sit = <a class="code" href="class_r_s_v_p.html#adbc9840e5bb15c37459aacb83385bdc0">findSession</a>(sobj);
<a name="l01874"></a>01874     ASSERT(sit != <a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>.end());
<a name="l01875"></a>01875     traffic_session_t *session = &amp;(*sit);
<a name="l01876"></a>01876 
<a name="l01877"></a>01877     <span class="keyword">const</span> cXMLElement *paths = <a class="code" href="_x_m_l_utils_8cc.html#a354dec476d4b54e6a7d45e7c02dfdab3">getUniqueChildIfExists</a>(&amp;node, <span class="stringliteral">&quot;paths&quot;</span>);
<a name="l01878"></a>01878     cXMLElementList pathList;
<a name="l01879"></a>01879     <span class="keywordflow">if</span> (paths)
<a name="l01880"></a>01880     {
<a name="l01881"></a>01881         <span class="comment">// only specified paths will be removed, session remains</span>
<a name="l01882"></a>01882 
<a name="l01883"></a>01883         <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(paths, <span class="stringliteral">&quot;path&quot;</span>);
<a name="l01884"></a>01884         pathList = paths-&gt;getChildrenByTagName(<span class="stringliteral">&quot;path&quot;</span>);
<a name="l01885"></a>01885     }
<a name="l01886"></a>01886 
<a name="l01887"></a>01887     std::vector&lt;traffic_path_t&gt;::iterator it;
<a name="l01888"></a>01888     <span class="keywordflow">for</span> (it = session-&gt;paths.begin(); it != session-&gt;paths.end(); it++)
<a name="l01889"></a>01889     {
<a name="l01890"></a>01890         <span class="keywordtype">bool</span> <span class="keyword">remove</span>;
<a name="l01891"></a>01891 
<a name="l01892"></a>01892         <span class="keywordflow">if</span> (paths)
<a name="l01893"></a>01893         {
<a name="l01894"></a>01894             <span class="keyword">remove</span> = <span class="keyword">false</span>;
<a name="l01895"></a>01895 
<a name="l01896"></a>01896             <span class="keywordflow">for</span> (cXMLElementList::iterator p=pathList.begin(); p != pathList.end(); p++)
<a name="l01897"></a>01897             {
<a name="l01898"></a>01898                 <span class="keywordflow">if</span> (it-&gt;sender.Lsp_Id != <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(*p, <span class="stringliteral">&quot;lspid&quot;</span>))
<a name="l01899"></a>01899                     <span class="keywordflow">continue</span>;
<a name="l01900"></a>01900 
<a name="l01901"></a>01901                 <span class="comment">// remove path from session</span>
<a name="l01902"></a>01902 
<a name="l01903"></a>01903                 <span class="keyword">remove</span> = <span class="keyword">true</span>;
<a name="l01904"></a>01904                 <span class="keywordflow">break</span>;
<a name="l01905"></a>01905             }
<a name="l01906"></a>01906         }
<a name="l01907"></a>01907         <span class="keywordflow">else</span>
<a name="l01908"></a>01908         {
<a name="l01909"></a>01909             <span class="comment">// remove all paths</span>
<a name="l01910"></a>01910 
<a name="l01911"></a>01911             <span class="keyword">remove</span> = <span class="keyword">true</span>;
<a name="l01912"></a>01912         }
<a name="l01913"></a>01913 
<a name="l01914"></a>01914         <span class="keywordflow">if</span> (<span class="keyword">remove</span>)
<a name="l01915"></a>01915         {
<a name="l01916"></a>01916             PathStateBlock_t *psb = <a class="code" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a>(session-&gt;sobj, it-&gt;sender);
<a name="l01917"></a>01917             <span class="keywordflow">if</span> (psb)
<a name="l01918"></a>01918             {
<a name="l01919"></a>01919                 ASSERT(psb-&gt;ERO.size() &gt; 0);
<a name="l01920"></a>01920 
<a name="l01921"></a>01921                 <a class="code" href="class_r_s_v_p.html#ab1e3e1ec1c7be3d59e249a147f3f3862">sendPathTearMessage</a>(psb-&gt;ERO[0].node, psb-&gt;Session_Object, psb-&gt;Sender_Template_Object,
<a name="l01922"></a>01922                         <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aa83e78954a200bcb27bb2404bb5b8b25">getInterfaceAddrByPeerAddress</a>(psb-&gt;ERO[0].node), <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>, <span class="keyword">true</span>);
<a name="l01923"></a>01923 
<a name="l01924"></a>01924                 <a class="code" href="class_r_s_v_p.html#a43b1c666eee1f02f7070d7b39e3dea0f">removePSB</a>(psb);
<a name="l01925"></a>01925             }
<a name="l01926"></a>01926 
<a name="l01927"></a>01927             session-&gt;paths.erase(it--);
<a name="l01928"></a>01928         }
<a name="l01929"></a>01929     }
<a name="l01930"></a>01930 
<a name="l01931"></a>01931     <span class="keywordflow">if</span> (!paths)
<a name="l01932"></a>01932     {
<a name="l01933"></a>01933         <a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>.erase(sit);
<a name="l01934"></a>01934     }
<a name="l01935"></a>01935 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a05e7433548bd2ecc502fa40210d85f46"></a><!-- doxytag: member="RSVP::doCACCheck" ref="a05e7433548bd2ecc502fa40210d85f46" args="(const SessionObj_t &amp;session, const SenderTspecObj_t &amp;tspec, IPAddress OI)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RSVP::doCACCheck </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sender_tspec_obj__t.html">SenderTspecObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>tspec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>OI</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00534">534</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01235">createIngressPSB()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01189">createPSB()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00535"></a>00535 {
<a name="l00536"></a>00536     ASSERT(<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(OI));
<a name="l00537"></a>00537 
<a name="l00538"></a>00538     <span class="keywordtype">int</span> k = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aff4add6e86b7bc9ea84079aae0bb3e51">linkIndex</a>(OI);
<a name="l00539"></a>00539 
<a name="l00540"></a>00540     <span class="keywordtype">double</span> sharedBW = 0.0;
<a name="l00541"></a>00541 
<a name="l00542"></a>00542     <span class="keywordflow">for</span> (RSBVector::iterator it = <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.end(); it++)
<a name="l00543"></a>00543     {
<a name="l00544"></a>00544         <span class="keywordflow">if</span> (it-&gt;Session_Object != session)
<a name="l00545"></a>00545             <span class="keywordflow">continue</span>;
<a name="l00546"></a>00546 
<a name="l00547"></a>00547         <span class="keywordflow">if</span> (it-&gt;Flowspec_Object.req_bandwidth &lt;= sharedBW)
<a name="l00548"></a>00548             <span class="keywordflow">continue</span>;
<a name="l00549"></a>00549 
<a name="l00550"></a>00550         sharedBW = it-&gt;Flowspec_Object.req_bandwidth;
<a name="l00551"></a>00551     }
<a name="l00552"></a>00552 
<a name="l00553"></a>00553     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;CACCheck: link=&quot;</span> &lt;&lt; OI &lt;&lt;
<a name="l00554"></a>00554         <span class="stringliteral">&quot; requested=&quot;</span> &lt;&lt; tspec.<a class="code" href="struct_sender_tspec_obj__t.html#afc6294fc62d00dd2e9182e318e61caa5">req_bandwidth</a> &lt;&lt;
<a name="l00555"></a>00555         <span class="stringliteral">&quot; shared=&quot;</span> &lt;&lt; sharedBW &lt;&lt;
<a name="l00556"></a>00556         <span class="stringliteral">&quot; available (immediately)=&quot;</span> &lt;&lt; <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[k].UnResvBandwidth[7] &lt;&lt;
<a name="l00557"></a>00557         <span class="stringliteral">&quot; available (preemptible)=&quot;</span> &lt;&lt; <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[k].UnResvBandwidth[session.<a class="code" href="struct_session_obj__t.html#a805e6edce026e0f8ba0b57cc3424baa9">setupPri</a>] &lt;&lt; endl;
<a name="l00558"></a>00558 
<a name="l00559"></a>00559     <span class="keywordflow">return</span> (<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[k].UnResvBandwidth[session.<a class="code" href="struct_session_obj__t.html#a805e6edce026e0f8ba0b57cc3424baa9">setupPri</a>] + sharedBW &gt;= tspec.<a class="code" href="struct_sender_tspec_obj__t.html#afc6294fc62d00dd2e9182e318e61caa5">req_bandwidth</a>);
<a name="l00560"></a>00560 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a74c8cb3303ae62d7e118cbacacf0c5e0"></a><!-- doxytag: member="RSVP::evalNextHopInterface" ref="a74c8cb3303ae62d7e118cbacacf0c5e0" args="(IPAddress destAddr, const EroVector &amp;ERO, IPAddress &amp;OI)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RSVP::evalNextHopInterface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>destAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_int_serv__m_8h.html#aea4ecacf78719a59508153fbdbd5cc7b">EroVector</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>ERO</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>OI</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01113">1113</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01235">createIngressPSB()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01189">createPSB()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01114"></a>01114 {
<a name="l01115"></a>01115     <span class="keywordflow">if</span> (ERO.size() &gt; 0)
<a name="l01116"></a>01116     {
<a name="l01117"></a>01117         <span class="comment">// explicit routing</span>
<a name="l01118"></a>01118 
<a name="l01119"></a>01119         <span class="keywordflow">if</span> (ERO[0].L)
<a name="l01120"></a>01120         {
<a name="l01121"></a>01121             <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = <a class="code" href="class_r_s_v_p.html#a9f89cdfc58368bf8e0c491b7da2dd113">rt</a>-&gt;<a class="code" href="class_i_routing_table.html#a0dda4a87779a949284ccead75001fa30">getInterfaceForDestAddr</a>(ERO[0].node);
<a name="l01122"></a>01122 
<a name="l01123"></a>01123             <span class="keywordflow">if</span> (!ie)
<a name="l01124"></a>01124             {
<a name="l01125"></a>01125                 <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;next (loose) hop address &quot;</span> &lt;&lt; ERO[0].node &lt;&lt; <span class="stringliteral">&quot; is currently unroutable&quot;</span> &lt;&lt; endl;
<a name="l01126"></a>01126                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01127"></a>01127             }
<a name="l01128"></a>01128 
<a name="l01129"></a>01129             OI = ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>();
<a name="l01130"></a>01130 
<a name="l01131"></a>01131         }
<a name="l01132"></a>01132         <span class="keywordflow">else</span>
<a name="l01133"></a>01133         {
<a name="l01134"></a>01134             OI = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aa83e78954a200bcb27bb2404bb5b8b25">getInterfaceAddrByPeerAddress</a>(ERO[0].node);
<a name="l01135"></a>01135         }
<a name="l01136"></a>01136 
<a name="l01137"></a>01137         <a class="code" href="class_i_p_address.html">IPAddress</a> peer = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#ab55f38433f365eb6411ce8d0caf20ca7">getPeerByLocalAddress</a>(OI);
<a name="l01138"></a>01138         HelloState_t *h = <a class="code" href="class_r_s_v_p.html#a04c45fcf64189ff23bc0233639956459">findHello</a>(peer);
<a name="l01139"></a>01139         <span class="keywordflow">if</span> (!h)
<a name="l01140"></a>01140             error(<span class="stringliteral">&quot;Peer %s on interface %s is not an RSVP peer&quot;</span>, peer.<a class="code" href="class_i_p_address.html#a50f58febbf2ded78b9f6e32e579f5d2b">str</a>().c_str(), OI.<a class="code" href="class_i_p_address.html#a50f58febbf2ded78b9f6e32e579f5d2b">str</a>().c_str());
<a name="l01141"></a>01141 
<a name="l01142"></a>01142         <span class="comment">// ok, only if next hop is up and running</span>
<a name="l01143"></a>01143 
<a name="l01144"></a>01144         <span class="keywordflow">return</span> h-&gt;ok;
<a name="l01145"></a>01145     }
<a name="l01146"></a>01146     <span class="keywordflow">else</span>
<a name="l01147"></a>01147     {
<a name="l01148"></a>01148         <span class="comment">// hop-by-hop routing</span>
<a name="l01149"></a>01149 
<a name="l01150"></a>01150         <span class="keywordflow">if</span> (!<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(destAddr))
<a name="l01151"></a>01151         {
<a name="l01152"></a>01152             <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = <a class="code" href="class_r_s_v_p.html#a9f89cdfc58368bf8e0c491b7da2dd113">rt</a>-&gt;<a class="code" href="class_i_routing_table.html#a0dda4a87779a949284ccead75001fa30">getInterfaceForDestAddr</a>(destAddr);
<a name="l01153"></a>01153 
<a name="l01154"></a>01154             <span class="keywordflow">if</span> (!ie)
<a name="l01155"></a>01155             {
<a name="l01156"></a>01156                 <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;destination address &quot;</span> &lt;&lt; destAddr &lt;&lt; <span class="stringliteral">&quot; is currently unroutable&quot;</span> &lt;&lt; endl;
<a name="l01157"></a>01157                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l01158"></a>01158             }
<a name="l01159"></a>01159 
<a name="l01160"></a>01160             OI = ie-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>();
<a name="l01161"></a>01161 
<a name="l01162"></a>01162             HelloState_t *h = <a class="code" href="class_r_s_v_p.html#a04c45fcf64189ff23bc0233639956459">findHello</a>(<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#ab55f38433f365eb6411ce8d0caf20ca7">getPeerByLocalAddress</a>(OI));
<a name="l01163"></a>01163             <span class="keywordflow">if</span> (!h)
<a name="l01164"></a>01164             {
<a name="l01165"></a>01165                 <span class="comment">// outgoing interface is not LSR, we are egress router</span>
<a name="l01166"></a>01166 
<a name="l01167"></a>01167                 OI = <a class="code" href="class_i_p_address.html">IPAddress</a>();
<a name="l01168"></a>01168 
<a name="l01169"></a>01169                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01170"></a>01170             }
<a name="l01171"></a>01171             <span class="keywordflow">else</span>
<a name="l01172"></a>01172             {
<a name="l01173"></a>01173                 <span class="comment">// outgoing interface is LSR</span>
<a name="l01174"></a>01174 
<a name="l01175"></a>01175                 ASSERT(h-&gt;ok); <span class="comment">// rt-&gt;getInterfaceForDestAddr() wouldn&apos;t choose this entry</span>
<a name="l01176"></a>01176 
<a name="l01177"></a>01177                 <span class="keywordflow">return</span> h-&gt;ok;
<a name="l01178"></a>01178             }
<a name="l01179"></a>01179         }
<a name="l01180"></a>01180         <span class="keywordflow">else</span>
<a name="l01181"></a>01181         {
<a name="l01182"></a>01182             <span class="comment">// destAddress is ours, we&apos;re egress</span>
<a name="l01183"></a>01183 
<a name="l01184"></a>01184             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l01185"></a>01185         }
<a name="l01186"></a>01186     }
<a name="l01187"></a>01187 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a04c45fcf64189ff23bc0233639956459"></a><!-- doxytag: member="RSVP::findHello" ref="a04c45fcf64189ff23bc0233639956459" args="(IPAddress peer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_s_v_p_1_1_hello_state__t.html">RSVP::HelloState_t</a> * RSVP::findHello </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>peer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02135">2135</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01113">evalNextHopInterface()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00409">processHELLO_TIMEOUT()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00441">processHELLO_TIMER()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01368">processHelloMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00368">startHello()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02136"></a>02136 {
<a name="l02137"></a>02137     <span class="keywordflow">for</span> (HelloVector::iterator it = <a class="code" href="class_r_s_v_p.html#a1070041b2d075e1d4c8cbf18f0fe2faf">HelloList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#a1070041b2d075e1d4c8cbf18f0fe2faf">HelloList</a>.end(); it++)
<a name="l02138"></a>02138     {
<a name="l02139"></a>02139         <span class="keywordflow">if</span> (it-&gt;peer != peer)
<a name="l02140"></a>02140             <span class="keywordflow">continue</span>;
<a name="l02141"></a>02141 
<a name="l02142"></a>02142         <span class="keywordflow">return</span> &amp;(*it);
<a name="l02143"></a>02143     }
<a name="l02144"></a>02144     <span class="keywordflow">return</span> NULL;
<a name="l02145"></a>02145 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a92c0c4053e1f2d4a7fa85fed30d9a49d"></a><!-- doxytag: member="RSVP::findPath" ref="a92c0c4053e1f2d4a7fa85fed30d9a49d" args="(traffic_session_t *session, const SenderTemplateObj_t &amp;sender)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="struct_r_s_v_p_1_1traffic__path__t.html">RSVP::traffic_path_t</a> &gt;::iterator RSVP::findPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1traffic__session__t.html">traffic_session_t</a> *&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sender</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00310">310</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00090">createPath()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01766">pathProblem()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00186">readTrafficSessionFromXML()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00311"></a>00311 {
<a name="l00312"></a>00312     std::vector&lt;traffic_path_t&gt;::iterator it;
<a name="l00313"></a>00313     <span class="keywordflow">for</span> (it = session-&gt;paths.begin(); it != session-&gt;paths.end(); it++)
<a name="l00314"></a>00314     {
<a name="l00315"></a>00315         <span class="keywordflow">if</span> (it-&gt;sender != sender)
<a name="l00316"></a>00316             <span class="keywordflow">continue</span>;
<a name="l00317"></a>00317 
<a name="l00318"></a>00318         <span class="keywordflow">break</span>;
<a name="l00319"></a>00319     }
<a name="l00320"></a>00320     <span class="keywordflow">return</span> it;
<a name="l00321"></a>00321 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adda3d6bf44e6f8181f0f2083f243474d"></a><!-- doxytag: member="RSVP::findPSB" ref="adda3d6bf44e6f8181f0f2083f243474d" args="(const SessionObj_t &amp;session, const SenderTemplateObj_t &amp;sender)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">RSVP::PathStateBlock_t</a> * RSVP::findPSB </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sender</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02091">2091</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00090">createPath()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01861">delSession()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01809">processPATH_NOTIFY()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01461">processPathErrMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01510">processPathTearMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01636">processResvMsg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02092"></a>02092 {
<a name="l02093"></a>02093     PSBVector::iterator it;
<a name="l02094"></a>02094     <span class="keywordflow">for</span> (it = <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.end(); it++)
<a name="l02095"></a>02095     {
<a name="l02096"></a>02096         <span class="keywordflow">if</span> (it-&gt;Session_Object != session)
<a name="l02097"></a>02097             <span class="keywordflow">continue</span>;
<a name="l02098"></a>02098 
<a name="l02099"></a>02099         <span class="keywordflow">if</span> (it-&gt;Sender_Template_Object != sender)
<a name="l02100"></a>02100             <span class="keywordflow">continue</span>;
<a name="l02101"></a>02101 
<a name="l02102"></a>02102         <span class="keywordflow">return</span> &amp;(*it);
<a name="l02103"></a>02103     }
<a name="l02104"></a>02104 
<a name="l02105"></a>02105     <span class="keywordflow">return</span> NULL;
<a name="l02106"></a>02106 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a15d8d2605257b63906833bf6dcb7e7f9"></a><!-- doxytag: member="RSVP::findPsbById" ref="a15d8d2605257b63906833bf6dcb7e7f9" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">RSVP::PathStateBlock_t</a> * RSVP::findPsbById </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02108">2108</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00479">processPSB_TIMEOUT()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00470">processPSB_TIMER()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02109"></a>02109 {
<a name="l02110"></a>02110     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.size(); i++)
<a name="l02111"></a>02111     {
<a name="l02112"></a>02112         <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>[i].<span class="keywordtype">id</span> != <span class="keywordtype">id</span>)
<a name="l02113"></a>02113             <span class="keywordflow">continue</span>;
<a name="l02114"></a>02114 
<a name="l02115"></a>02115         <span class="keywordflow">return</span> &amp;<a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>[i];
<a name="l02116"></a>02116     }
<a name="l02117"></a>02117     ASSERT(<span class="keyword">false</span>);
<a name="l02118"></a>02118     <span class="keywordflow">return</span> NULL; <span class="comment">// prevent warning</span>
<a name="l02119"></a>02119 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7741a01ced48d4fbf371cb7b846a27aa"></a><!-- doxytag: member="RSVP::findRSB" ref="a7741a01ced48d4fbf371cb7b846a27aa" args="(const SessionObj_t &amp;session, const SenderTemplateObj_t &amp;sender, unsigned int &amp;index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">RSVP::ResvStateBlock_t</a> * RSVP::findRSB </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02064">2064</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00080">getInLabel()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01075">removePSB()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02065"></a>02065 {
<a name="l02066"></a>02066     RSBVector::iterator it;
<a name="l02067"></a>02067 
<a name="l02068"></a>02068     <span class="keywordflow">for</span> (it = <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.end(); it++)
<a name="l02069"></a>02069     {
<a name="l02070"></a>02070         <span class="keywordflow">if</span> (it-&gt;Session_Object != session)
<a name="l02071"></a>02071             <span class="keywordflow">continue</span>;
<a name="l02072"></a>02072 
<a name="l02073"></a>02073         FlowDescriptorVector::iterator fit;
<a name="l02074"></a>02074         index = 0;
<a name="l02075"></a>02075         <span class="keywordflow">for</span> (fit = it-&gt;FlowDescriptor.begin(); fit != it-&gt;FlowDescriptor.end(); fit++)
<a name="l02076"></a>02076         {
<a name="l02077"></a>02077             <span class="keywordflow">if</span> ((<a class="code" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a>&amp;)fit-&gt;Filter_Spec_Object != sender)
<a name="l02078"></a>02078             {
<a name="l02079"></a>02079                 ++index;
<a name="l02080"></a>02080                 <span class="keywordflow">continue</span>;
<a name="l02081"></a>02081             }
<a name="l02082"></a>02082 
<a name="l02083"></a>02083             <span class="keywordflow">return</span> &amp;(*it);
<a name="l02084"></a>02084         }
<a name="l02085"></a>02085 
<a name="l02086"></a>02086         <span class="comment">// don&apos;t break here, may be in different (if outInterface is different)</span>
<a name="l02087"></a>02087     }
<a name="l02088"></a>02088     <span class="keywordflow">return</span> NULL;
<a name="l02089"></a>02089 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a96e4fae87f154aec8efed1f306864d81"></a><!-- doxytag: member="RSVP::findRsbById" ref="a96e4fae87f154aec8efed1f306864d81" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">RSVP::ResvStateBlock_t</a> * RSVP::findRsbById </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02122">2122</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00512">processRSB_COMMIT_TIMER()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00496">processRSB_REFRESH_TIMER()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00518">processRSB_TIMEOUT()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02123"></a>02123 {
<a name="l02124"></a>02124     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.size(); i++)
<a name="l02125"></a>02125     {
<a name="l02126"></a>02126         <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>[i].<span class="keywordtype">id</span> != <span class="keywordtype">id</span>)
<a name="l02127"></a>02127             <span class="keywordflow">continue</span>;
<a name="l02128"></a>02128 
<a name="l02129"></a>02129         <span class="keywordflow">return</span> &amp;<a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>[i];
<a name="l02130"></a>02130     }
<a name="l02131"></a>02131     ASSERT(<span class="keyword">false</span>);
<a name="l02132"></a>02132     <span class="keywordflow">return</span> NULL; <span class="comment">// prevent warning</span>
<a name="l02133"></a>02133 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adbc9840e5bb15c37459aacb83385bdc0"></a><!-- doxytag: member="RSVP::findSession" ref="adbc9840e5bb15c37459aacb83385bdc0" args="(const SessionObj_t &amp;session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="struct_r_s_v_p_1_1traffic__session__t.html">RSVP::traffic_session_t</a> &gt;::iterator RSVP::findSession </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01840">1840</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00090">createPath()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01861">delSession()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01766">pathProblem()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00186">readTrafficSessionFromXML()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01841"></a>01841 {
<a name="l01842"></a>01842     std::vector&lt;traffic_session_t&gt;::iterator it;
<a name="l01843"></a>01843     <span class="keywordflow">for</span> (it = <a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>.end(); it++)
<a name="l01844"></a>01844     {
<a name="l01845"></a>01845         <span class="keywordflow">if</span> (it-&gt;sobj != session)
<a name="l01846"></a>01846             <span class="keywordflow">continue</span>;
<a name="l01847"></a>01847 
<a name="l01848"></a>01848         <span class="keywordflow">break</span>;
<a name="l01849"></a>01849     }
<a name="l01850"></a>01850 
<a name="l01851"></a>01851     <span class="keywordflow">return</span> it;
<a name="l01852"></a>01852 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a09621c3f70738316d5cc1380ed54212b"></a><!-- doxytag: member="RSVP::getInLabel" ref="a09621c3f70738316d5cc1380ed54212b" args="(const SessionObj_t &amp;session, const SenderTemplateObj_t &amp;sender)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int RSVP::getInLabel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sender</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00080">80</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_simple_classifier_8cc_source.html#l00133">SimpleClassifier::readItemFromXML()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00081"></a>00081 {
<a name="l00082"></a>00082     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index;
<a name="l00083"></a>00083     ResvStateBlock_t *rsb = <a class="code" href="class_r_s_v_p.html#a7741a01ced48d4fbf371cb7b846a27aa">findRSB</a>(session, sender, index);
<a name="l00084"></a>00084     <span class="keywordflow">if</span> (!rsb)
<a name="l00085"></a>00085         <span class="keywordflow">return</span> -1;
<a name="l00086"></a>00086 
<a name="l00087"></a>00087     <span class="keywordflow">return</span> rsb-&gt;inLabelVector[index];
<a name="l00088"></a>00088 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4772469f02e97f0d99a3c00f298322dd"></a><!-- doxytag: member="RSVP::handleMessage" ref="a4772469f02e97f0d99a3c00f298322dd" args="(cMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::handleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01319">1319</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01320"></a>01320 {
<a name="l01321"></a>01321     <a class="code" href="class_signalling_msg.html">SignallingMsg</a> *sMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_signalling_msg.html">SignallingMsg</a>*<span class="keyword">&gt;</span>(msg);
<a name="l01322"></a>01322     <a class="code" href="class_r_s_v_p_message.html">RSVPMessage</a> *rMsg = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_r_s_v_p_message.html">RSVPMessage</a>*<span class="keyword">&gt;</span>(msg);
<a name="l01323"></a>01323 
<a name="l01324"></a>01324     <span class="keywordflow">if</span> (sMsg)
<a name="l01325"></a>01325     {
<a name="l01326"></a>01326         <a class="code" href="class_r_s_v_p.html#a6393538e367792874a6e1a9d9a245ded">processSignallingMessage</a>(sMsg);
<a name="l01327"></a>01327         <span class="keywordflow">return</span>;
<a name="l01328"></a>01328     }
<a name="l01329"></a>01329     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rMsg)
<a name="l01330"></a>01330     {
<a name="l01331"></a>01331         <a class="code" href="class_r_s_v_p.html#a604c7cdcbec35b1c1facf476ddc27eb9">processRSVPMessage</a>(rMsg);
<a name="l01332"></a>01332         <span class="keywordflow">return</span>;
<a name="l01333"></a>01333     }
<a name="l01334"></a>01334     <span class="keywordflow">else</span>
<a name="l01335"></a>01335         ASSERT(<span class="keyword">false</span>);
<a name="l01336"></a>01336 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad55ae7e15d484d73cdfe053442f345ad"></a><!-- doxytag: member="RSVP::initialize" ref="ad55ae7e15d484d73cdfe053442f345ad" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::initialize </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00050">50</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00051"></a>00051 {
<a name="l00052"></a>00052     <span class="comment">// we have to wait for stage 2 until interfaces get registered (stage 0)</span>
<a name="l00053"></a>00053     <span class="comment">// and get their auto-assigned IP addresses (stage 2); routerId gets</span>
<a name="l00054"></a>00054     <span class="comment">// assigned in state 3</span>
<a name="l00055"></a>00055     <span class="keywordflow">if</span> (stage==4)
<a name="l00056"></a>00056     {
<a name="l00057"></a>00057         <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a> = <a class="code" href="class_t_e_d_access.html">TEDAccess</a>().get();
<a name="l00058"></a>00058         <a class="code" href="class_r_s_v_p.html#a9f89cdfc58368bf8e0c491b7da2dd113">rt</a> = <a class="code" href="class_routing_table_access.html">RoutingTableAccess</a>().get();
<a name="l00059"></a>00059         <a class="code" href="class_r_s_v_p.html#a52533534d5e3afbfc42030440071a5d3">ift</a> = <a class="code" href="class_interface_table_access.html">InterfaceTableAccess</a>().get();
<a name="l00060"></a>00060         <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a> = <a class="code" href="class_r_s_v_p.html#a9f89cdfc58368bf8e0c491b7da2dd113">rt</a>-&gt;<a class="code" href="class_i_routing_table.html#a64a9a5b1414f4da0b7b0a3e079091f62">getRouterId</a>();
<a name="l00061"></a>00061         <a class="code" href="class_r_s_v_p.html#ad137623f6252e3398084176dc311885f">lt</a> = <a class="code" href="class_l_i_b_table_access.html">LIBTableAccess</a>().get();
<a name="l00062"></a>00062         <a class="code" href="class_r_s_v_p.html#a0f1e35ac657ccaeca38a235d1b4a3414">nb</a> = <a class="code" href="class_notification_board_access.html">NotificationBoardAccess</a>().get();
<a name="l00063"></a>00063 
<a name="l00064"></a>00064         <a class="code" href="class_r_s_v_p.html#a44fd3dc334665b246ce0a555cb35e34f">rpct</a> = check_and_cast&lt;<a class="code" href="class_i_r_s_v_p_classifier.html">IRSVPClassifier</a>*&gt;(getParentModule()-&gt;getSubmodule(<span class="stringliteral">&quot;classifier&quot;</span>));
<a name="l00065"></a>00065 
<a name="l00066"></a>00066         <a class="code" href="class_r_s_v_p.html#a18c51012884262a7a68bc2ef3fee90a1">maxPsbId</a> = 0;
<a name="l00067"></a>00067         <a class="code" href="class_r_s_v_p.html#a8df043f6a88c29e65a22c37ec7294ff0">maxRsbId</a> = 0;
<a name="l00068"></a>00068         <a class="code" href="class_r_s_v_p.html#a9cd7607aca27a1351bb82ddc7f37937f">maxSrcInstance</a> = 0;
<a name="l00069"></a>00069 
<a name="l00070"></a>00070         <a class="code" href="class_r_s_v_p.html#a469e284ac5acfa70db603d70691b06ef">retryInterval</a> = 1.0;
<a name="l00071"></a>00071 
<a name="l00072"></a>00072         <span class="comment">// setup hello</span>
<a name="l00073"></a>00073         <a class="code" href="class_r_s_v_p.html#a56c68314c8b1e8b82370416d2b2f4785">setupHello</a>();
<a name="l00074"></a>00074 
<a name="l00075"></a>00075         <span class="comment">// process traffic configuration</span>
<a name="l00076"></a>00076         <a class="code" href="class_r_s_v_p.html#a7afe215d5b5f46066a7d2db44ac93369">readTrafficFromXML</a>(par(<span class="stringliteral">&quot;traffic&quot;</span>).xmlValue());
<a name="l00077"></a>00077     }
<a name="l00078"></a>00078 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4c9e7e6120185700741ea3394ae65c0a"></a><!-- doxytag: member="RSVP::numInitStages" ref="a4c9e7e6120185700741ea3394ae65c0a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int RSVP::numInitStages </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00284">284</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00284"></a>00284 {<span class="keywordflow">return</span> 5;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa1c0596a9dfde9005405cbdebbd3a6a9"></a><!-- doxytag: member="RSVP::pathProblem" ref="aa1c0596a9dfde9005405cbdebbd3a6a9" args="(PathStateBlock_t *psb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::pathProblem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>psb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01766">1766</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01809">processPATH_NOTIFY()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01767"></a>01767 {
<a name="l01768"></a>01768     ASSERT(psb);
<a name="l01769"></a>01769     ASSERT(!psb-&gt;OutInterface.isUnspecified());
<a name="l01770"></a>01770 
<a name="l01771"></a>01771     <a class="code" href="class_i_p_address.html">IPAddress</a> nextHop = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#ab55f38433f365eb6411ce8d0caf20ca7">getPeerByLocalAddress</a>(psb-&gt;OutInterface);
<a name="l01772"></a>01772 
<a name="l01773"></a>01773     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;sending PathTear to &quot;</span> &lt;&lt; nextHop &lt;&lt; endl;
<a name="l01774"></a>01774 
<a name="l01775"></a>01775     <a class="code" href="class_r_s_v_p.html#ab1e3e1ec1c7be3d59e249a147f3f3862">sendPathTearMessage</a>(nextHop, psb-&gt;Session_Object, psb-&gt;Sender_Template_Object,
<a name="l01776"></a>01776                         <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aa83e78954a200bcb27bb2404bb5b8b25">getInterfaceAddrByPeerAddress</a>(nextHop), <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>, <span class="keyword">true</span>);
<a name="l01777"></a>01777 
<a name="l01778"></a>01778     <span class="comment">// schedule re-creation if path is permanent</span>
<a name="l01779"></a>01779 
<a name="l01780"></a>01780     std::vector&lt;traffic_session_t&gt;::iterator sit = <a class="code" href="class_r_s_v_p.html#adbc9840e5bb15c37459aacb83385bdc0">findSession</a>(psb-&gt;Session_Object);
<a name="l01781"></a>01781     ASSERT(sit != <a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>.end());
<a name="l01782"></a>01782     traffic_session_t *s = &amp;(*sit);
<a name="l01783"></a>01783 
<a name="l01784"></a>01784     std::vector&lt;traffic_path_t&gt;::iterator pit = <a class="code" href="class_r_s_v_p.html#a92c0c4053e1f2d4a7fa85fed30d9a49d">findPath</a>(s, psb-&gt;Sender_Template_Object);
<a name="l01785"></a>01785     ASSERT(pit != s-&gt;paths.end());
<a name="l01786"></a>01786     traffic_path_t *p = &amp;(*pit);
<a name="l01787"></a>01787 
<a name="l01788"></a>01788     <span class="keywordflow">if</span> (p-&gt;permanent)
<a name="l01789"></a>01789     {
<a name="l01790"></a>01790         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;this path is permanent, we will try to re-create it later&quot;</span> &lt;&lt; endl;
<a name="l01791"></a>01791 
<a name="l01792"></a>01792         <a class="code" href="class_r_s_v_p.html#a472ceb4e889ba0fc93649dff8e5d549a">sendPathNotify</a>(getId(), psb-&gt;Session_Object, psb-&gt;Sender_Template_Object, <a class="code" href="_signalling_msg__m_8h.html#a1a8eebfa348f4e4c0d1103c924f967ac">PATH_RETRY</a>, <a class="code" href="class_r_s_v_p.html#a469e284ac5acfa70db603d70691b06ef">retryInterval</a>);
<a name="l01793"></a>01793 
<a name="l01794"></a>01794     }
<a name="l01795"></a>01795     <span class="keywordflow">else</span>
<a name="l01796"></a>01796     {
<a name="l01797"></a>01797         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;removing path from traffic database&quot;</span> &lt;&lt; endl;
<a name="l01798"></a>01798 
<a name="l01799"></a>01799         sit-&gt;paths.erase(pit);
<a name="l01800"></a>01800     }
<a name="l01801"></a>01801 
<a name="l01802"></a>01802     <span class="comment">// remove path</span>
<a name="l01803"></a>01803 
<a name="l01804"></a>01804     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;removing PSB&quot;</span> &lt;&lt; endl;
<a name="l01805"></a>01805 
<a name="l01806"></a>01806     <a class="code" href="class_r_s_v_p.html#a43b1c666eee1f02f7070d7b39e3dea0f">removePSB</a>(psb);
<a name="l01807"></a>01807 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a933ffa437ba9f3cef9efdfc5f1ac18a9"></a><!-- doxytag: member="RSVP::preempt" ref="a933ffa437ba9f3cef9efdfc5f1ac18a9" args="(IPAddress OI, int priority, double bandwidth)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::preempt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>OI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&nbsp;</td>
          <td class="paramname"> <em>bandwidth</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00686">686</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00720">allocateResource()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00687"></a>00687 {
<a name="l00688"></a>00688     ASSERT(<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(OI));
<a name="l00689"></a>00689 
<a name="l00690"></a>00690     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aff4add6e86b7bc9ea84079aae0bb3e51">linkIndex</a>(OI);
<a name="l00691"></a>00691 
<a name="l00692"></a>00692     <span class="keywordflow">for</span> (RSBVector::iterator it = <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.end(); it++)
<a name="l00693"></a>00693     {
<a name="l00694"></a>00694         <span class="keywordflow">if</span> (it-&gt;OI != OI)
<a name="l00695"></a>00695             <span class="keywordflow">continue</span>;
<a name="l00696"></a>00696 
<a name="l00697"></a>00697         <span class="keywordflow">if</span> (it-&gt;Session_Object.holdingPri != priority)
<a name="l00698"></a>00698             <span class="keywordflow">continue</span>;
<a name="l00699"></a>00699 
<a name="l00700"></a>00700         <span class="keywordflow">if</span> (it-&gt;Flowspec_Object.req_bandwidth == 0.0)
<a name="l00701"></a>00701             <span class="keywordflow">continue</span>;
<a name="l00702"></a>00702 
<a name="l00703"></a>00703         <span class="comment">// preempt RSB</span>
<a name="l00704"></a>00704 
<a name="l00705"></a>00705         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = priority; i &lt; 8; i++)
<a name="l00706"></a>00706             <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].UnResvBandwidth[i] += it-&gt;Flowspec_Object.req_bandwidth;
<a name="l00707"></a>00707 
<a name="l00708"></a>00708         bandwidth -= it-&gt;Flowspec_Object.req_bandwidth;
<a name="l00709"></a>00709         it-&gt;Flowspec_Object.req_bandwidth = 0.0;
<a name="l00710"></a>00710 
<a name="l00711"></a>00711         <a class="code" href="class_r_s_v_p.html#a269cab6db09df7ab124076afe9515a6f">scheduleCommitTimer</a>(&amp;(*it));
<a name="l00712"></a>00712 
<a name="l00713"></a>00713         <span class="comment">//</span>
<a name="l00714"></a>00714 
<a name="l00715"></a>00715         <span class="keywordflow">if</span> (bandwidth &lt;= 0.0)
<a name="l00716"></a>00716             <span class="keywordflow">break</span>;
<a name="l00717"></a>00717     }
<a name="l00718"></a>00718 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a90209c6a16793748ba35624d55ec167e"></a><!-- doxytag: member="RSVP::print" ref="a90209c6a16793748ba35624d55ec167e" args="(RSVPResvMsg *r)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_resv_msg.html">RSVPResvMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>r</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02205">2205</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02206"></a>02206 {
<a name="l02207"></a>02207     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;RESV_MESSAGE: &quot;</span> &lt;&lt; endl;
<a name="l02208"></a>02208     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; r-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>().size(); i++)
<a name="l02209"></a>02209     {
<a name="l02210"></a>02210         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot; lspid &quot;</span> &lt;&lt; r-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>()[i].Filter_Spec_Object.Lsp_Id &lt;&lt;
<a name="l02211"></a>02211             <span class="stringliteral">&quot; label &quot;</span> &lt;&lt; r-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>()[i].label &lt;&lt; endl;
<a name="l02212"></a>02212     }
<a name="l02213"></a>02213 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a95acc5695ef5d439aec6996abfb98a0c"></a><!-- doxytag: member="RSVP::print" ref="a95acc5695ef5d439aec6996abfb98a0c" args="(RSVPPathMsg *p)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_path_msg.html">RSVPPathMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>p</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02200">2200</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01636">processResvMsg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02201"></a>02201 {
<a name="l02202"></a>02202     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;PATH_MESSAGE: lspid &quot;</span> &lt;&lt; p-&gt;<a class="code" href="class_r_s_v_p_path_msg.html#aca22e0fb8de172b46a76a7eff4c46773">getLspId</a>() &lt;&lt; <span class="stringliteral">&quot; ERO &quot;</span> &lt;&lt; <a class="code" href="common_8cc.html#a91f0d11e7f76b141cb75b84c14d15e93">vectorToString</a>(p-&gt;<a class="code" href="class_r_s_v_p_path_msg___base.html#ade0b6740b8fed5f38f2de4fd8a8037b7">getERO</a>()) &lt;&lt; endl;
<a name="l02203"></a>02203 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a33de1da9c058e57354d8c76a026ce036"></a><!-- doxytag: member="RSVP::processCommand" ref="a33de1da9c058e57354d8c76a026ce036" args="(const cXMLElement &amp;node)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processCommand </td>
          <td>(</td>
          <td class="paramtype">const cXMLElement &amp;&nbsp;</td>
          <td class="paramname"> <em>node</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called by <a class="el" href="class_scenario_manager.html">ScenarioManager</a> whenever a script command needs to be carried out by the module.</p>
<p>The command is represented by the XML element or element tree. The command name can be obtained as:</p>
<pre>
 const char *command = node-&gt;getTagName()
 </pre><p>Parameters are XML attributes, e.g. a "neighbour" parameter can be retrieved as:</p>
<pre>
 const char *attr = node-&gt;getAttribute("neighbour")
 </pre><p>More complex input can be passed in child elements.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>cXMLElement </dd></dl>

<p>Implements <a class="el" href="class_i_scriptable.html#a8bb88a1ef72797e9e9c9f30f72f9dafe">IScriptable</a>.</p>

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01937">1937</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01938"></a>01938 {
<a name="l01939"></a>01939     <span class="keywordflow">if</span> (!strcmp(node.getTagName(), <span class="stringliteral">&quot;add-session&quot;</span>))
<a name="l01940"></a>01940     {
<a name="l01941"></a>01941         <a class="code" href="class_r_s_v_p.html#aa8c17ae4390aeedc6b6d1bc6e0743c5f">addSession</a>(node);
<a name="l01942"></a>01942     }
<a name="l01943"></a>01943     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(node.getTagName(), <span class="stringliteral">&quot;del-session&quot;</span>))
<a name="l01944"></a>01944     {
<a name="l01945"></a>01945         <a class="code" href="class_r_s_v_p.html#a1578adc0aa64e000a877ab117a3e9060">delSession</a>(node);
<a name="l01946"></a>01946     }
<a name="l01947"></a>01947     <span class="keywordflow">else</span>
<a name="l01948"></a>01948         ASSERT(<span class="keyword">false</span>);
<a name="l01949"></a>01949 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a41999b24ba006f359ce2ee9b4638ee96"></a><!-- doxytag: member="RSVP::processHELLO_TIMEOUT" ref="a41999b24ba006f359ce2ee9b4638ee96" args="(HelloTimeoutMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processHELLO_TIMEOUT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_hello_timeout_msg.html">HelloTimeoutMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00409">409</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01724">processSignallingMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00410"></a>00410 {
<a name="l00411"></a>00411     <a class="code" href="class_i_p_address.html">IPAddress</a> peer = msg-&gt;<a class="code" href="class_hello_timeout_msg.html#a0be97c72fff7399df8dd04d23305d065">getPeer</a>();
<a name="l00412"></a>00412 
<a name="l00413"></a>00413     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;hello timeout, considering &quot;</span> &lt;&lt; peer &lt;&lt; <span class="stringliteral">&quot; failed&quot;</span> &lt;&lt; endl;
<a name="l00414"></a>00414 
<a name="l00415"></a>00415     <span class="comment">// update hello state (set to failed and turn hello off)</span>
<a name="l00416"></a>00416 
<a name="l00417"></a>00417     HelloState_t *hello = <a class="code" href="class_r_s_v_p.html#a04c45fcf64189ff23bc0233639956459">findHello</a>(peer);
<a name="l00418"></a>00418     ASSERT(hello);
<a name="l00419"></a>00419     hello-&gt;ok = <span class="keyword">false</span>;
<a name="l00420"></a>00420     ASSERT(!hello-&gt;timeout-&gt;isScheduled());
<a name="l00421"></a>00421     cancelEvent(hello-&gt;timer);
<a name="l00422"></a>00422 
<a name="l00423"></a>00423     <span class="comment">// update TED and routing table</span>
<a name="l00424"></a>00424 
<a name="l00425"></a>00425     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aff4add6e86b7bc9ea84079aae0bb3e51">linkIndex</a>(<a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>, peer);
<a name="l00426"></a>00426     <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].state = <span class="keyword">false</span>;
<a name="l00427"></a>00427     <a class="code" href="class_r_s_v_p.html#ab63d5bdece74e8218d703ca07604dbe6">announceLinkChange</a>(index);
<a name="l00428"></a>00428     <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a20dbae0b12fb78bc9771eba4e11f0edc">rebuildRoutingTable</a>();
<a name="l00429"></a>00429 
<a name="l00430"></a>00430     <span class="comment">// send PATH_ERROR for existing paths</span>
<a name="l00431"></a>00431 
<a name="l00432"></a>00432     <span class="keywordflow">for</span> (PSBVector::iterator it = <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.end(); it++)
<a name="l00433"></a>00433     {
<a name="l00434"></a>00434         <span class="keywordflow">if</span> (it-&gt;OutInterface != <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].local)
<a name="l00435"></a>00435             <span class="keywordflow">continue</span>;
<a name="l00436"></a>00436 
<a name="l00437"></a>00437         <a class="code" href="class_r_s_v_p.html#aede65339bca2fcd134158dd9784100e2">sendPathErrorMessage</a>(&amp;(*it), <a class="code" href="_r_s_v_p_8cc.html#ac45d25ecca4b9be780471dde70968a11">PATH_ERR_NEXTHOP_FAILED</a>);
<a name="l00438"></a>00438     }
<a name="l00439"></a>00439 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5c7ef8c3f1f0a9b7061f499891a82ad6"></a><!-- doxytag: member="RSVP::processHELLO_TIMER" ref="a5c7ef8c3f1f0a9b7061f499891a82ad6" args="(HelloTimerMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processHELLO_TIMER </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_hello_timer_msg.html">HelloTimerMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00441">441</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01724">processSignallingMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00442"></a>00442 {
<a name="l00443"></a>00443     <a class="code" href="class_i_p_address.html">IPAddress</a> peer = msg-&gt;<a class="code" href="class_hello_timer_msg.html#a847e78ec3db1b06ef692d9da85ea87a2">getPeer</a>();
<a name="l00444"></a>00444 
<a name="l00445"></a>00445     HelloState_t *h = <a class="code" href="class_r_s_v_p.html#a04c45fcf64189ff23bc0233639956459">findHello</a>(peer);
<a name="l00446"></a>00446     ASSERT(h);
<a name="l00447"></a>00447 
<a name="l00448"></a>00448     <a class="code" href="class_r_s_v_p_hello_msg.html">RSVPHelloMsg</a> *hMsg = <span class="keyword">new</span> <a class="code" href="class_r_s_v_p_hello_msg.html">RSVPHelloMsg</a>(<span class="stringliteral">&quot;hello message&quot;</span>);
<a name="l00449"></a>00449 
<a name="l00450"></a>00450     hMsg-&gt;<a class="code" href="class_r_s_v_p_hello_msg___base.html#af1ad1d5fefb20009daa69b3380624472">setSrcInstance</a>(h-&gt;srcInstance);
<a name="l00451"></a>00451     hMsg-&gt;<a class="code" href="class_r_s_v_p_hello_msg___base.html#a8a940c1b98c9600e1b286b6052fe3b81">setDstInstance</a>(h-&gt;dstInstance);
<a name="l00452"></a>00452 
<a name="l00453"></a>00453     hMsg-&gt;<a class="code" href="class_r_s_v_p_hello_msg___base.html#ada8c4724bbda9f204135ccddbcb33f7a">setRequest</a>(h-&gt;request);
<a name="l00454"></a>00454     hMsg-&gt;<a class="code" href="class_r_s_v_p_hello_msg___base.html#a9a4acb41b74a1b87f2571b82c58924b4">setAck</a>(h-&gt;ack);
<a name="l00455"></a>00455 
<a name="l00456"></a>00456     <span class="keywordtype">int</span> length = 10;
<a name="l00457"></a>00457 
<a name="l00458"></a>00458     <span class="comment">// see comment elsewhere (in TED.cc)</span>
<a name="l00459"></a>00459     length /= 10;
<a name="l00460"></a>00460 
<a name="l00461"></a>00461     hMsg-&gt;setByteLength(length);
<a name="l00462"></a>00462 
<a name="l00463"></a>00463     <a class="code" href="class_r_s_v_p.html#afe54ffd483063082234277edce5e792d">sendToIP</a>(hMsg, peer);
<a name="l00464"></a>00464 
<a name="l00465"></a>00465     h-&gt;ack = <span class="keyword">false</span>;
<a name="l00466"></a>00466 
<a name="l00467"></a>00467     scheduleAt(simTime() + <a class="code" href="class_r_s_v_p.html#af5bdcd75e4a984969f22119c8cb4d89b">helloInterval</a>, msg);
<a name="l00468"></a>00468 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4248b4a0ff4175b4be496ec30aee8672"></a><!-- doxytag: member="RSVP::processHelloMsg" ref="a4248b4a0ff4175b4be496ec30aee8672" args="(RSVPHelloMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processHelloMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_hello_msg.html">RSVPHelloMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01368">1368</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01338">processRSVPMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01369"></a>01369 {
<a name="l01370"></a>01370     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Received RSVP_HELLO&quot;</span> &lt;&lt; endl;
<a name="l01371"></a>01371     <span class="comment">//print(msg);</span>
<a name="l01372"></a>01372 
<a name="l01373"></a>01373     <a class="code" href="class_i_p_control_info.html">IPControlInfo</a> *controlInfo = check_and_cast&lt;<a class="code" href="class_i_p_control_info.html">IPControlInfo</a>*&gt;(msg-&gt;getControlInfo());
<a name="l01374"></a>01374     <a class="code" href="class_i_p_address.html">IPAddress</a> sender = controlInfo-&gt;<a class="code" href="class_i_p_control_info___base.html#abce308b6991a47be70ecb4aca43acbcf">getSrcAddr</a>();
<a name="l01375"></a>01375     <a class="code" href="class_i_p_address.html">IPAddress</a> peer = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aae88ed1b8900a569352c44f142cbc5a7">primaryAddress</a>(sender);
<a name="l01376"></a>01376 
<a name="l01377"></a>01377     <span class="keywordtype">bool</span> request = msg-&gt;<a class="code" href="class_r_s_v_p_hello_msg___base.html#a7c67a6bc8ad05afaa379de084880cb02">getRequest</a>();
<a name="l01378"></a>01378     <span class="keywordtype">bool</span> ack = msg-&gt;<a class="code" href="class_r_s_v_p_hello_msg___base.html#a6a906c8f204fed210d00be85e5483f09">getAck</a>();
<a name="l01379"></a>01379 
<a name="l01380"></a>01380     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;hello sender &quot;</span> &lt;&lt; peer;
<a name="l01381"></a>01381     <span class="keywordflow">if</span> (request) <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot; REQ&quot;</span>;
<a name="l01382"></a>01382     <span class="keywordflow">if</span> (ack) <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot; ACK&quot;</span>;
<a name="l01383"></a>01383     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; endl;
<a name="l01384"></a>01384 
<a name="l01385"></a>01385     <span class="keywordtype">int</span> rcvSrcInstance = msg-&gt;<a class="code" href="class_r_s_v_p_hello_msg___base.html#a50aac60b82f791acacf2b06fb60e886f">getSrcInstance</a>();
<a name="l01386"></a>01386     <span class="keywordtype">int</span> rcvDstInstance = msg-&gt;<a class="code" href="class_r_s_v_p_hello_msg___base.html#a460338b49166ef4fc7e001977f1e69dc">getDstInstance</a>();
<a name="l01387"></a>01387 
<a name="l01388"></a>01388     <span class="keyword">delete</span> msg;
<a name="l01389"></a>01389 
<a name="l01390"></a>01390     HelloState_t *h = <a class="code" href="class_r_s_v_p.html#a04c45fcf64189ff23bc0233639956459">findHello</a>(peer);
<a name="l01391"></a>01391     ASSERT(h);
<a name="l01392"></a>01392 
<a name="l01393"></a>01393     ASSERT(h-&gt;srcInstance);
<a name="l01394"></a>01394     ASSERT(rcvSrcInstance);
<a name="l01395"></a>01395 
<a name="l01396"></a>01396     <span class="keywordtype">bool</span> failure = <span class="keyword">false</span>;
<a name="l01397"></a>01397 
<a name="l01398"></a>01398     <span class="keywordflow">if</span> (h-&gt;srcInstance != rcvDstInstance)
<a name="l01399"></a>01399     {
<a name="l01400"></a>01400         <span class="keywordflow">if</span> (rcvDstInstance != 0)
<a name="l01401"></a>01401         {
<a name="l01402"></a>01402             failure = <span class="keyword">true</span>;
<a name="l01403"></a>01403         }
<a name="l01404"></a>01404         <span class="keywordflow">else</span>
<a name="l01405"></a>01405         {
<a name="l01406"></a>01406             ASSERT(request);
<a name="l01407"></a>01407         }
<a name="l01408"></a>01408     }
<a name="l01409"></a>01409 
<a name="l01410"></a>01410     <span class="keywordflow">if</span> (h-&gt;dstInstance != rcvSrcInstance)
<a name="l01411"></a>01411     {
<a name="l01412"></a>01412         <span class="keywordflow">if</span> (h-&gt;dstInstance != 0)
<a name="l01413"></a>01413         {
<a name="l01414"></a>01414             failure = <span class="keyword">true</span>;
<a name="l01415"></a>01415         }
<a name="l01416"></a>01416         h-&gt;dstInstance = rcvSrcInstance;
<a name="l01417"></a>01417     }
<a name="l01418"></a>01418 
<a name="l01419"></a>01419     <span class="keywordflow">if</span> (failure)
<a name="l01420"></a>01420     {
<a name="l01421"></a>01421         <span class="comment">// mismatch encountered</span>
<a name="l01422"></a>01422         h-&gt;srcInstance = ++<a class="code" href="class_r_s_v_p.html#a9cd7607aca27a1351bb82ddc7f37937f">maxSrcInstance</a>;
<a name="l01423"></a>01423     }
<a name="l01424"></a>01424 
<a name="l01425"></a>01425     <span class="keywordflow">if</span> (failure || !h-&gt;ok)
<a name="l01426"></a>01426     {
<a name="l01427"></a>01427         h-&gt;ok = <span class="keyword">true</span>;
<a name="l01428"></a>01428 
<a name="l01429"></a>01429         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;local peer &quot;</span> &lt;&lt; peer &lt;&lt; <span class="stringliteral">&quot; is now considered up and running&quot;</span> &lt;&lt; endl;
<a name="l01430"></a>01430 
<a name="l01431"></a>01431         <a class="code" href="class_r_s_v_p.html#a771e852915d4521e65a3d243bdf1a82c">recoveryEvent</a>(peer);
<a name="l01432"></a>01432 
<a name="l01433"></a>01433         <span class="comment">// if peer was considered down, we have stopped sending hellos: resume now</span>
<a name="l01434"></a>01434         <span class="keywordflow">if</span> (!h-&gt;timer-&gt;isScheduled())
<a name="l01435"></a>01435             scheduleAt(simTime(), h-&gt;timer);
<a name="l01436"></a>01436     }
<a name="l01437"></a>01437 
<a name="l01438"></a>01438     <span class="keywordflow">if</span> (request)
<a name="l01439"></a>01439     {
<a name="l01440"></a>01440         <span class="comment">// immediately respond to a request with an ack</span>
<a name="l01441"></a>01441         h-&gt;ack = <span class="keyword">true</span>;
<a name="l01442"></a>01442         h-&gt;request = <span class="keyword">false</span>;
<a name="l01443"></a>01443 
<a name="l01444"></a>01444         cancelEvent(h-&gt;timer);
<a name="l01445"></a>01445         scheduleAt(simTime(), h-&gt;timer);
<a name="l01446"></a>01446     }
<a name="l01447"></a>01447     <span class="keywordflow">else</span>
<a name="l01448"></a>01448     {
<a name="l01449"></a>01449         <span class="comment">// next message will be regular</span>
<a name="l01450"></a>01450 
<a name="l01451"></a>01451         h-&gt;ack = <span class="keyword">false</span>;
<a name="l01452"></a>01452         h-&gt;request = <span class="keyword">false</span>;
<a name="l01453"></a>01453 
<a name="l01454"></a>01454         ASSERT(h-&gt;timer-&gt;isScheduled());
<a name="l01455"></a>01455     }
<a name="l01456"></a>01456 
<a name="l01457"></a>01457     cancelEvent(h-&gt;timeout);
<a name="l01458"></a>01458     scheduleAt(simTime() + <a class="code" href="class_r_s_v_p.html#a5873d10d15860ed9e24e941f851f4b71">helloTimeout</a>, h-&gt;timeout);
<a name="l01459"></a>01459 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a046faf4019fa1dd31f24ee445236236b"></a><!-- doxytag: member="RSVP::processPATH_NOTIFY" ref="a046faf4019fa1dd31f24ee445236236b" args="(PathNotifyMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processPATH_NOTIFY </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_path_notify_msg.html">PathNotifyMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01809">1809</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01724">processSignallingMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01810"></a>01810 {
<a name="l01811"></a>01811     PathStateBlock_t *psb;
<a name="l01812"></a>01812 
<a name="l01813"></a>01813     <span class="keywordflow">switch</span>(msg-&gt;<a class="code" href="class_path_notify_msg.html#a7ab68dfef81ece183a685adb69122154">getStatus</a>())
<a name="l01814"></a>01814     {
<a name="l01815"></a>01815         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#a1a8eebfa348f4e4c0d1103c924f967ac">PATH_RETRY</a>:
<a name="l01816"></a>01816             <a class="code" href="class_r_s_v_p.html#a820c09dd3002f2309aeaa1f30d092887">createPath</a>(msg-&gt;<a class="code" href="class_path_notify_msg.html#ada89959ec960e987083eae8d8f3ac8bf">getSession</a>(), msg-&gt;<a class="code" href="class_path_notify_msg.html#a1b8969c398c764f402fa78b52e45bec6">getSender</a>());
<a name="l01817"></a>01817             <span class="keywordflow">break</span>;
<a name="l01818"></a>01818 
<a name="l01819"></a>01819         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#af8046a7e229395d6607659b1c8cc4722">PATH_UNFEASIBLE</a>:
<a name="l01820"></a>01820         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#aa73f9e507d3ad07d6a127a6a6802ec2e">PATH_PREEMPTED</a>:
<a name="l01821"></a>01821         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#ae3f14304337d8936dc07bb951fd7061d">PATH_FAILED</a>:
<a name="l01822"></a>01822             psb = <a class="code" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a>(msg-&gt;<a class="code" href="class_path_notify_msg.html#ada89959ec960e987083eae8d8f3ac8bf">getSession</a>(), msg-&gt;<a class="code" href="class_path_notify_msg.html#a1b8969c398c764f402fa78b52e45bec6">getSender</a>());
<a name="l01823"></a>01823             <span class="keywordflow">if</span> (psb)
<a name="l01824"></a>01824                 <a class="code" href="class_r_s_v_p.html#aa1c0596a9dfde9005405cbdebbd3a6a9">pathProblem</a>(psb);
<a name="l01825"></a>01825             <span class="keywordflow">break</span>;
<a name="l01826"></a>01826 
<a name="l01827"></a>01827         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#a91955e28b6308bfc03be64aad88b721b">PATH_CREATED</a>:
<a name="l01828"></a>01828             <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Path successfully established&quot;</span> &lt;&lt; endl;
<a name="l01829"></a>01829             <span class="keywordflow">break</span>;
<a name="l01830"></a>01830 
<a name="l01831"></a>01831 
<a name="l01832"></a>01832         <span class="keywordflow">default</span>:
<a name="l01833"></a>01833             ASSERT(<span class="keyword">false</span>);
<a name="l01834"></a>01834     }
<a name="l01835"></a>01835 
<a name="l01836"></a>01836     <span class="keyword">delete</span> msg;
<a name="l01837"></a>01837 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aaa1b0102445119825a264bf187aca6e9"></a><!-- doxytag: member="RSVP::processPathErrMsg" ref="aaa1b0102445119825a264bf187aca6e9" args="(RSVPPathError *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processPathErrMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_path_error.html">RSVPPathError</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01461">1461</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01338">processRSVPMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01462"></a>01462 {
<a name="l01463"></a>01463     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Received PATH_ERROR&quot;</span> &lt;&lt; endl;
<a name="l01464"></a>01464     <span class="comment">//print(msg);</span>
<a name="l01465"></a>01465 
<a name="l01466"></a>01466     <span class="comment">//int lspid = msg-&gt;getLspId();</span>
<a name="l01467"></a>01467     <span class="keywordtype">int</span> errCode = msg-&gt;<a class="code" href="class_r_s_v_p_path_error___base.html#ab3c278a07ec843f20f7c57ba89693513">getErrorCode</a>();
<a name="l01468"></a>01468 
<a name="l01469"></a>01469     PathStateBlock_t *psb = <a class="code" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a>(msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#ab333a8fa8e37b8ec3c6976e46587db4d">getSession</a>(), msg-&gt;<a class="code" href="class_r_s_v_p_path_error.html#ac59648576f1942a8ec7ae2780c6a039d">getSenderTemplate</a>());
<a name="l01470"></a>01470     <span class="keywordflow">if</span> (!psb)
<a name="l01471"></a>01471     {
<a name="l01472"></a>01472         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;matching PSB not found, ignoring error message&quot;</span> &lt;&lt; endl;
<a name="l01473"></a>01473         <span class="keyword">delete</span> msg;
<a name="l01474"></a>01474         <span class="keywordflow">return</span>;
<a name="l01475"></a>01475     }
<a name="l01476"></a>01476 
<a name="l01477"></a>01477     <span class="keywordflow">if</span> (psb-&gt;Previous_Hop_Address != <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>)
<a name="l01478"></a>01478     {
<a name="l01479"></a>01479         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;forwarding error message to PHOP (&quot;</span> &lt;&lt; psb-&gt;Previous_Hop_Address &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;
<a name="l01480"></a>01480 
<a name="l01481"></a>01481         msg-&gt;removeControlInfo();
<a name="l01482"></a>01482         <a class="code" href="class_r_s_v_p.html#afe54ffd483063082234277edce5e792d">sendToIP</a>(msg, psb-&gt;Previous_Hop_Address);
<a name="l01483"></a>01483     }
<a name="l01484"></a>01484     <span class="keywordflow">else</span>
<a name="l01485"></a>01485     {
<a name="l01486"></a>01486         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;error reached ingress router&quot;</span> &lt;&lt; endl;
<a name="l01487"></a>01487 
<a name="l01488"></a>01488         <span class="keywordflow">switch</span>(errCode)
<a name="l01489"></a>01489         {
<a name="l01490"></a>01490             <span class="keywordflow">case</span> <a class="code" href="_r_s_v_p_8cc.html#ade6fa078d09732210f77de2f6be3aba2">PATH_ERR_PREEMPTED</a>:
<a name="l01491"></a>01491                 <a class="code" href="class_r_s_v_p.html#a472ceb4e889ba0fc93649dff8e5d549a">sendPathNotify</a>(psb-&gt;handler, psb-&gt;Session_Object, psb-&gt;Sender_Template_Object, <a class="code" href="_signalling_msg__m_8h.html#aa73f9e507d3ad07d6a127a6a6802ec2e">PATH_PREEMPTED</a>, 0.0);
<a name="l01492"></a>01492                 <span class="keywordflow">break</span>;
<a name="l01493"></a>01493 
<a name="l01494"></a>01494             <span class="keywordflow">case</span> <a class="code" href="_r_s_v_p_8cc.html#aa99604209fc07fe495c4601f85ba8fae">PATH_ERR_UNFEASIBLE</a>:
<a name="l01495"></a>01495                 <a class="code" href="class_r_s_v_p.html#a472ceb4e889ba0fc93649dff8e5d549a">sendPathNotify</a>(psb-&gt;handler, psb-&gt;Session_Object, psb-&gt;Sender_Template_Object, <a class="code" href="_signalling_msg__m_8h.html#af8046a7e229395d6607659b1c8cc4722">PATH_UNFEASIBLE</a>, 0.0);
<a name="l01496"></a>01496                 <span class="keywordflow">break</span>;
<a name="l01497"></a>01497 
<a name="l01498"></a>01498             <span class="keywordflow">case</span> <a class="code" href="_r_s_v_p_8cc.html#ac45d25ecca4b9be780471dde70968a11">PATH_ERR_NEXTHOP_FAILED</a>:
<a name="l01499"></a>01499                 <a class="code" href="class_r_s_v_p.html#a472ceb4e889ba0fc93649dff8e5d549a">sendPathNotify</a>(psb-&gt;handler, psb-&gt;Session_Object, psb-&gt;Sender_Template_Object, <a class="code" href="_signalling_msg__m_8h.html#ae3f14304337d8936dc07bb951fd7061d">PATH_FAILED</a>, 0.0);
<a name="l01500"></a>01500                 <span class="keywordflow">break</span>;
<a name="l01501"></a>01501 
<a name="l01502"></a>01502             <span class="keywordflow">default</span>:
<a name="l01503"></a>01503                 ASSERT(<span class="keyword">false</span>);
<a name="l01504"></a>01504         }
<a name="l01505"></a>01505 
<a name="l01506"></a>01506         <span class="keyword">delete</span> msg;
<a name="l01507"></a>01507     }
<a name="l01508"></a>01508 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3fa7b4ca1bf18d5afac7664f0ae3584a"></a><!-- doxytag: member="RSVP::processPathMsg" ref="a3fa7b4ca1bf18d5afac7664f0ae3584a" args="(RSVPPathMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processPathMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_path_msg.html">RSVPPathMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01571">1571</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01338">processRSVPMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01572"></a>01572 {
<a name="l01573"></a>01573     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Received PATH_MESSAGE&quot;</span> &lt;&lt; endl;
<a name="l01574"></a>01574     <a class="code" href="class_r_s_v_p.html#a95acc5695ef5d439aec6996abfb98a0c">print</a>(msg);
<a name="l01575"></a>01575 
<a name="l01576"></a>01576     <span class="comment">// process ERO *************************************************************</span>
<a name="l01577"></a>01577 
<a name="l01578"></a>01578     <a class="code" href="_int_serv__m_8h.html#aea4ecacf78719a59508153fbdbd5cc7b">EroVector</a> ERO = msg-&gt;<a class="code" href="class_r_s_v_p_path_msg___base.html#ade0b6740b8fed5f38f2de4fd8a8037b7">getERO</a>();
<a name="l01579"></a>01579 
<a name="l01580"></a>01580     <span class="keywordflow">while</span>(ERO.size() &gt; 0 &amp;&amp; ERO[0].node == <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>)
<a name="l01581"></a>01581     {
<a name="l01582"></a>01582         ERO.erase(ERO.begin());
<a name="l01583"></a>01583     }
<a name="l01584"></a>01584 
<a name="l01585"></a>01585     msg-&gt;<a class="code" href="class_r_s_v_p_path_msg___base.html#a1d797697040a1618950df7b1961f9074">setERO</a>(ERO);
<a name="l01586"></a>01586 
<a name="l01587"></a>01587     <span class="comment">// create PSB if doesn&apos;t exist yet *****************************************</span>
<a name="l01588"></a>01588 
<a name="l01589"></a>01589     PathStateBlock_t *psb = <a class="code" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a>(msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#ab333a8fa8e37b8ec3c6976e46587db4d">getSession</a>(), msg-&gt;<a class="code" href="class_r_s_v_p_path_msg.html#a464ac49e22b9c21e971bf15634ea0626">getSenderTemplate</a>());
<a name="l01590"></a>01590 
<a name="l01591"></a>01591     <span class="keywordflow">if</span> (!psb)
<a name="l01592"></a>01592     {
<a name="l01593"></a>01593         psb = <a class="code" href="class_r_s_v_p.html#a4c582acc45b47942f56a34aa35fcfc70">createPSB</a>(msg);
<a name="l01594"></a>01594         <span class="keywordflow">if</span> (!psb)
<a name="l01595"></a>01595         {
<a name="l01596"></a>01596             <a class="code" href="class_r_s_v_p.html#aede65339bca2fcd134158dd9784100e2">sendPathErrorMessage</a>(msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#ab333a8fa8e37b8ec3c6976e46587db4d">getSession</a>(), msg-&gt;<a class="code" href="class_r_s_v_p_path_msg.html#a464ac49e22b9c21e971bf15634ea0626">getSenderTemplate</a>(),
<a name="l01597"></a>01597                 msg-&gt;<a class="code" href="class_r_s_v_p_path_msg.html#ae076819f0798afd76bd5ab68453fcdb4">getSenderTspec</a>(), msg-&gt;<a class="code" href="class_r_s_v_p_path_msg.html#a3c732fc83aa501ffd914cc1294d2caf0">getNHOP</a>(), <a class="code" href="_r_s_v_p_8cc.html#aa99604209fc07fe495c4601f85ba8fae">PATH_ERR_UNFEASIBLE</a>);
<a name="l01598"></a>01598             <span class="keyword">delete</span> msg;
<a name="l01599"></a>01599             <span class="keywordflow">return</span>;
<a name="l01600"></a>01600         }
<a name="l01601"></a>01601         <a class="code" href="class_r_s_v_p.html#a130138413206f03179fc63d56f4937cd">scheduleRefreshTimer</a>(psb, 0.0);
<a name="l01602"></a>01602 
<a name="l01603"></a>01603         <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(psb-&gt;OutInterface))
<a name="l01604"></a>01604         {
<a name="l01605"></a>01605             <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aff4add6e86b7bc9ea84079aae0bb3e51">linkIndex</a>(psb-&gt;OutInterface);
<a name="l01606"></a>01606             <span class="keywordflow">if</span> (!<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].state)
<a name="l01607"></a>01607             {
<a name="l01608"></a>01608                 <a class="code" href="class_r_s_v_p.html#aede65339bca2fcd134158dd9784100e2">sendPathErrorMessage</a>(psb, <a class="code" href="_r_s_v_p_8cc.html#ac45d25ecca4b9be780471dde70968a11">PATH_ERR_NEXTHOP_FAILED</a>);
<a name="l01609"></a>01609             }
<a name="l01610"></a>01610         }
<a name="l01611"></a>01611     }
<a name="l01612"></a>01612 
<a name="l01613"></a>01613     <span class="comment">// schedule timer&amp;timeout **************************************************</span>
<a name="l01614"></a>01614 
<a name="l01615"></a>01615     <a class="code" href="class_r_s_v_p.html#ac4faa2c6f7a952138fb145bc948c79eb">scheduleTimeout</a>(psb);
<a name="l01616"></a>01616 
<a name="l01617"></a>01617     <span class="comment">// create RSB if we&apos;re egress and doesn&apos;t exist yet ************************</span>
<a name="l01618"></a>01618 
<a name="l01619"></a>01619     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index;
<a name="l01620"></a>01620     ResvStateBlock_t *rsb = <a class="code" href="class_r_s_v_p.html#a7741a01ced48d4fbf371cb7b846a27aa">findRSB</a>(msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#ab333a8fa8e37b8ec3c6976e46587db4d">getSession</a>(), msg-&gt;<a class="code" href="class_r_s_v_p_path_msg.html#a464ac49e22b9c21e971bf15634ea0626">getSenderTemplate</a>(), index);
<a name="l01621"></a>01621 
<a name="l01622"></a>01622     <span class="keywordflow">if</span> (!rsb &amp;&amp; psb-&gt;OutInterface.isUnspecified())
<a name="l01623"></a>01623     {
<a name="l01624"></a>01624         ASSERT(ERO.size() == 0);
<a name="l01625"></a>01625         rsb = <a class="code" href="class_r_s_v_p.html#af34403ca300fb9425d67e609c7bbf9a3">createEgressRSB</a>(psb);
<a name="l01626"></a>01626         ASSERT(rsb);
<a name="l01627"></a>01627         <a class="code" href="class_r_s_v_p.html#a269cab6db09df7ab124076afe9515a6f">scheduleCommitTimer</a>(rsb);
<a name="l01628"></a>01628     }
<a name="l01629"></a>01629 
<a name="l01630"></a>01630     <span class="keywordflow">if</span> (rsb)
<a name="l01631"></a>01631         <a class="code" href="class_r_s_v_p.html#a130138413206f03179fc63d56f4937cd">scheduleRefreshTimer</a>(rsb, 0.0);
<a name="l01632"></a>01632 
<a name="l01633"></a>01633     <span class="keyword">delete</span> msg;
<a name="l01634"></a>01634 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9d40c6ab5084f41b18645183f85fecc9"></a><!-- doxytag: member="RSVP::processPathTearMsg" ref="a9d40c6ab5084f41b18645183f85fecc9" args="(RSVPPathTear *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processPathTearMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_path_tear.html">RSVPPathTear</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01510">1510</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01338">processRSVPMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01511"></a>01511 {
<a name="l01512"></a>01512     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Received PATH_TEAR&quot;</span> &lt;&lt; endl;
<a name="l01513"></a>01513     <span class="comment">//print(msg);</span>
<a name="l01514"></a>01514 
<a name="l01515"></a>01515     <span class="keywordtype">int</span> lspid = msg-&gt;<a class="code" href="class_r_s_v_p_path_tear.html#a29c79a6f53d19934813fc600739b03db">getLspId</a>();
<a name="l01516"></a>01516 
<a name="l01517"></a>01517     PathStateBlock_t *psb = <a class="code" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a>(msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#ab333a8fa8e37b8ec3c6976e46587db4d">getSession</a>(), msg-&gt;<a class="code" href="class_r_s_v_p_path_tear___base.html#a4edaeb9cd8f06fe2e9ce90c2518c75b4">getSenderTemplate</a>());
<a name="l01518"></a>01518     <span class="keywordflow">if</span> (!psb)
<a name="l01519"></a>01519     {
<a name="l01520"></a>01520         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;received PATH_TEAR for nonexisting lspid=&quot;</span> &lt;&lt; lspid &lt;&lt; endl;
<a name="l01521"></a>01521         <span class="keyword">delete</span> msg;
<a name="l01522"></a>01522         <span class="keywordflow">return</span>;
<a name="l01523"></a>01523     }
<a name="l01524"></a>01524 
<a name="l01525"></a>01525     <span class="comment">// ignore message if backup exists and force flag is not set</span>
<a name="l01526"></a>01526 
<a name="l01527"></a>01527     <span class="keywordtype">bool</span> modified = <span class="keyword">false</span>;
<a name="l01528"></a>01528 
<a name="l01529"></a>01529     <span class="keywordflow">for</span> (PSBVector::iterator it = <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.end(); it++)
<a name="l01530"></a>01530     {
<a name="l01531"></a>01531         <span class="keywordflow">if</span> (it-&gt;OutInterface.getInt() != lspid)
<a name="l01532"></a>01532             <span class="keywordflow">continue</span>;
<a name="l01533"></a>01533 
<a name="l01534"></a>01534         <span class="comment">// merging backup exists</span>
<a name="l01535"></a>01535 
<a name="l01536"></a>01536         <span class="keywordflow">if</span> (!msg-&gt;<a class="code" href="class_r_s_v_p_path_tear___base.html#a0148d077429b9c2fea8d1f0090764071">getForce</a>())
<a name="l01537"></a>01537         {
<a name="l01538"></a>01538             <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;merging backup tunnel exists and force flag is not set, ignoring teardown&quot;</span> &lt;&lt; endl;
<a name="l01539"></a>01539             <span class="keyword">delete</span> msg;
<a name="l01540"></a>01540             <span class="keywordflow">return</span>;
<a name="l01541"></a>01541         }
<a name="l01542"></a>01542 
<a name="l01543"></a>01543         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;merging backup must be removed too&quot;</span> &lt;&lt; endl;
<a name="l01544"></a>01544 
<a name="l01545"></a>01545         <a class="code" href="class_r_s_v_p.html#a43b1c666eee1f02f7070d7b39e3dea0f">removePSB</a>(&amp;(*it));
<a name="l01546"></a>01546         --it;
<a name="l01547"></a>01547 
<a name="l01548"></a>01548         modified = <span class="keyword">true</span>;
<a name="l01549"></a>01549     }
<a name="l01550"></a>01550 
<a name="l01551"></a>01551     <span class="keywordflow">if</span> (modified)
<a name="l01552"></a>01552         psb = <a class="code" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a>(msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#ab333a8fa8e37b8ec3c6976e46587db4d">getSession</a>(), msg-&gt;<a class="code" href="class_r_s_v_p_path_tear___base.html#a4edaeb9cd8f06fe2e9ce90c2518c75b4">getSenderTemplate</a>());
<a name="l01553"></a>01553 
<a name="l01554"></a>01554     <span class="comment">// forward path teardown downstream</span>
<a name="l01555"></a>01555 
<a name="l01556"></a>01556     <span class="keywordflow">if</span> (psb-&gt;ERO.size() &gt; 0)
<a name="l01557"></a>01557     {
<a name="l01558"></a>01558         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;forward teardown downstream&quot;</span> &lt;&lt; endl;
<a name="l01559"></a>01559 
<a name="l01560"></a>01560         <a class="code" href="class_r_s_v_p.html#ab1e3e1ec1c7be3d59e249a147f3f3862">sendPathTearMessage</a>(psb-&gt;ERO[0].node, psb-&gt;Session_Object, psb-&gt;Sender_Template_Object,
<a name="l01561"></a>01561             <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aa83e78954a200bcb27bb2404bb5b8b25">getInterfaceAddrByPeerAddress</a>(psb-&gt;ERO[0].node), <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>, msg-&gt;<a class="code" href="class_r_s_v_p_path_tear___base.html#a0148d077429b9c2fea8d1f0090764071">getForce</a>());
<a name="l01562"></a>01562     }
<a name="l01563"></a>01563 
<a name="l01564"></a>01564     <span class="comment">// remove path state block</span>
<a name="l01565"></a>01565 
<a name="l01566"></a>01566     <a class="code" href="class_r_s_v_p.html#a43b1c666eee1f02f7070d7b39e3dea0f">removePSB</a>(psb);
<a name="l01567"></a>01567 
<a name="l01568"></a>01568     <span class="keyword">delete</span> msg;
<a name="l01569"></a>01569 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5bc9ab7d3a8b3db1c563d7e7adddb8d6"></a><!-- doxytag: member="RSVP::processPSB_TIMEOUT" ref="a5bc9ab7d3a8b3db1c563d7e7adddb8d6" args="(PsbTimeoutMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processPSB_TIMEOUT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_psb_timeout_msg.html">PsbTimeoutMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00479">479</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01724">processSignallingMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00480"></a>00480 {
<a name="l00481"></a>00481     PathStateBlock_t *psb = <a class="code" href="class_r_s_v_p.html#a15d8d2605257b63906833bf6dcb7e7f9">findPsbById</a>(msg-&gt;<a class="code" href="class_psb_timeout_msg.html#abc9394fc8a0dfeca89f68399e04bb279">getId</a>());
<a name="l00482"></a>00482     ASSERT(psb);
<a name="l00483"></a>00483 
<a name="l00484"></a>00484     <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(psb-&gt;OutInterface))
<a name="l00485"></a>00485     {
<a name="l00486"></a>00486         ASSERT(psb-&gt;OutInterface == <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aa83e78954a200bcb27bb2404bb5b8b25">getInterfaceAddrByPeerAddress</a>(psb-&gt;ERO[0].node));
<a name="l00487"></a>00487 
<a name="l00488"></a>00488         <a class="code" href="class_r_s_v_p.html#ab1e3e1ec1c7be3d59e249a147f3f3862">sendPathTearMessage</a>(psb-&gt;ERO[0].node, psb-&gt;Session_Object,
<a name="l00489"></a>00489             psb-&gt;Sender_Template_Object, psb-&gt;OutInterface, <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>, <span class="keyword">false</span>);
<a name="l00490"></a>00490     }
<a name="l00491"></a>00491 
<a name="l00492"></a>00492     <a class="code" href="class_r_s_v_p.html#a43b1c666eee1f02f7070d7b39e3dea0f">removePSB</a>(psb);
<a name="l00493"></a>00493 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a18f4a987254edd684d0d57345c818c81"></a><!-- doxytag: member="RSVP::processPSB_TIMER" ref="a18f4a987254edd684d0d57345c818c81" args="(PsbTimerMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processPSB_TIMER </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_psb_timer_msg.html">PsbTimerMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00470">470</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01724">processSignallingMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00471"></a>00471 {
<a name="l00472"></a>00472     PathStateBlock_t *psb = <a class="code" href="class_r_s_v_p.html#a15d8d2605257b63906833bf6dcb7e7f9">findPsbById</a>(msg-&gt;<a class="code" href="class_psb_timer_msg.html#a3bdc095fac252bfa74f8459f664f028a">getId</a>());
<a name="l00473"></a>00473     ASSERT(psb);
<a name="l00474"></a>00474 
<a name="l00475"></a>00475     <a class="code" href="class_r_s_v_p.html#acc0978a512bc47c6cbeea226904a4e51">refreshPath</a>(psb);
<a name="l00476"></a>00476     <a class="code" href="class_r_s_v_p.html#a130138413206f03179fc63d56f4937cd">scheduleRefreshTimer</a>(psb, <a class="code" href="_r_s_v_p_8cc.html#ac11c8def891747729c9d70aa24c51dd6">PSB_REFRESH_INTERVAL</a>);
<a name="l00477"></a>00477 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aaebd61f0dcf0f517e95c4b1e81fea967"></a><!-- doxytag: member="RSVP::processResvMsg" ref="aaebd61f0dcf0f517e95c4b1e81fea967" args="(RSVPResvMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processResvMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_resv_msg.html">RSVPResvMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01636">1636</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01338">processRSVPMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01637"></a>01637 {
<a name="l01638"></a>01638     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Received RESV_MESSAGE&quot;</span> &lt;&lt; endl;
<a name="l01639"></a>01639     <a class="code" href="class_r_s_v_p.html#a95acc5695ef5d439aec6996abfb98a0c">print</a>(msg);
<a name="l01640"></a>01640 
<a name="l01641"></a>01641     <a class="code" href="class_i_p_address.html">IPAddress</a> OI = msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg.html#a256dcad2154833acf6b0658aef2a9541">getLIH</a>();
<a name="l01642"></a>01642 
<a name="l01643"></a>01643     <span class="comment">// find matching PSB for every flow ****************************************</span>
<a name="l01644"></a>01644 
<a name="l01645"></a>01645     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m = 0; m &lt; msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>().size(); m++)
<a name="l01646"></a>01646     {
<a name="l01647"></a>01647 
<a name="l01648"></a>01648         PathStateBlock_t *psb = <a class="code" href="class_r_s_v_p.html#adda3d6bf44e6f8181f0f2083f243474d">findPSB</a>(msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#ab333a8fa8e37b8ec3c6976e46587db4d">getSession</a>(), (<a class="code" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a>&amp;)msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>()[m].Filter_Spec_Object);
<a name="l01649"></a>01649         <span class="keywordflow">if</span> (!psb)
<a name="l01650"></a>01650         {
<a name="l01651"></a>01651             <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;matching PSB not found for lspid=&quot;</span> &lt;&lt; msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>()[m].Filter_Spec_Object.Lsp_Id &lt;&lt; endl;
<a name="l01652"></a>01652 
<a name="l01653"></a>01653             <span class="comment">// remove descriptor from message</span>
<a name="l01654"></a>01654             msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>().erase(msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>().begin() + m);
<a name="l01655"></a>01655             --m;
<a name="l01656"></a>01656         }
<a name="l01657"></a>01657     }
<a name="l01658"></a>01658 
<a name="l01659"></a>01659     <span class="keywordflow">if</span> (msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>().size() == 0)
<a name="l01660"></a>01660     {
<a name="l01661"></a>01661         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;no matching PSB found&quot;</span> &lt;&lt; endl;
<a name="l01662"></a>01662         <span class="keyword">delete</span> msg;
<a name="l01663"></a>01663         <span class="keywordflow">return</span>;
<a name="l01664"></a>01664     }
<a name="l01665"></a>01665 
<a name="l01666"></a>01666     <span class="comment">// find matching RSB *******************************************************</span>
<a name="l01667"></a>01667 
<a name="l01668"></a>01668     ResvStateBlock_t *rsb = NULL;
<a name="l01669"></a>01669     <span class="keywordflow">for</span> (RSBVector::iterator it = <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.end(); it++)
<a name="l01670"></a>01670     {
<a name="l01671"></a>01671         <span class="keywordflow">if</span> (!(msg-&gt;<a class="code" href="class_r_s_v_p_packet.html#a5b095f28be55b893682ae080064d7714">isInSession</a>(&amp;it-&gt;Session_Object)))
<a name="l01672"></a>01672             <span class="keywordflow">continue</span>;
<a name="l01673"></a>01673 
<a name="l01674"></a>01674         <span class="keywordflow">if</span> (it-&gt;Next_Hop_Address != msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg.html#acba305cab60cbda25aabda67c227e8f1">getNHOP</a>())
<a name="l01675"></a>01675             <span class="keywordflow">continue</span>;
<a name="l01676"></a>01676 
<a name="l01677"></a>01677         <span class="keywordflow">if</span> (it-&gt;OI != msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg.html#a256dcad2154833acf6b0658aef2a9541">getLIH</a>())
<a name="l01678"></a>01678             <span class="keywordflow">continue</span>;
<a name="l01679"></a>01679 
<a name="l01680"></a>01680         rsb = &amp;(*it);
<a name="l01681"></a>01681         <span class="keywordflow">break</span>;
<a name="l01682"></a>01682     }
<a name="l01683"></a>01683 
<a name="l01684"></a>01684     <span class="keywordflow">if</span> (!rsb)
<a name="l01685"></a>01685     {
<a name="l01686"></a>01686         rsb = <a class="code" href="class_r_s_v_p.html#ad53a7a49e12f3cc0ff339e20624406fe">createRSB</a>(msg);
<a name="l01687"></a>01687 
<a name="l01688"></a>01688         <a class="code" href="class_r_s_v_p.html#a269cab6db09df7ab124076afe9515a6f">scheduleCommitTimer</a>(rsb);
<a name="l01689"></a>01689 
<a name="l01690"></a>01690         <span class="comment">// reservation is new, propagate upstream immediately</span>
<a name="l01691"></a>01691         <a class="code" href="class_r_s_v_p.html#a130138413206f03179fc63d56f4937cd">scheduleRefreshTimer</a>(rsb, 0.0);
<a name="l01692"></a>01692     }
<a name="l01693"></a>01693     <span class="keywordflow">else</span>
<a name="l01694"></a>01694         <a class="code" href="class_r_s_v_p.html#a2d374e27ad177a0e0e0500deaf1affb7">updateRSB</a>(rsb, msg);
<a name="l01695"></a>01695 
<a name="l01696"></a>01696     <a class="code" href="class_r_s_v_p.html#ac4faa2c6f7a952138fb145bc948c79eb">scheduleTimeout</a>(rsb);
<a name="l01697"></a>01697 
<a name="l01698"></a>01698     <span class="keyword">delete</span> msg;
<a name="l01699"></a>01699 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7e760e4263df7614b1dfbea8e39cc8f3"></a><!-- doxytag: member="RSVP::processRSB_COMMIT_TIMER" ref="a7e760e4263df7614b1dfbea8e39cc8f3" args="(RsbCommitTimerMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processRSB_COMMIT_TIMER </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_rsb_commit_timer_msg.html">RsbCommitTimerMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00512">512</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01724">processSignallingMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00513"></a>00513 {
<a name="l00514"></a>00514     ResvStateBlock_t *rsb = <a class="code" href="class_r_s_v_p.html#a96e4fae87f154aec8efed1f306864d81">findRsbById</a>(msg-&gt;<a class="code" href="class_rsb_commit_timer_msg.html#a4a8bd9429ab7eb153185be30dc14cfe6">getId</a>());
<a name="l00515"></a>00515     <a class="code" href="class_r_s_v_p.html#a5418c3bcb4cf57a5965c6a7067b7f678">commitResv</a>(rsb);
<a name="l00516"></a>00516 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7b967a2ab4a53edc0bdd12c8ad3a4c99"></a><!-- doxytag: member="RSVP::processRSB_REFRESH_TIMER" ref="a7b967a2ab4a53edc0bdd12c8ad3a4c99" args="(RsbRefreshTimerMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processRSB_REFRESH_TIMER </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_rsb_refresh_timer_msg.html">RsbRefreshTimerMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00496">496</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01724">processSignallingMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00497"></a>00497 {
<a name="l00498"></a>00498     ResvStateBlock_t *rsb = <a class="code" href="class_r_s_v_p.html#a96e4fae87f154aec8efed1f306864d81">findRsbById</a>(msg-&gt;<a class="code" href="class_rsb_refresh_timer_msg.html#a302d22d8711705ad12276199bc294bfb">getId</a>());
<a name="l00499"></a>00499     <span class="keywordflow">if</span> (rsb-&gt;commitTimerMsg-&gt;isScheduled())
<a name="l00500"></a>00500     {
<a name="l00501"></a>00501         <span class="comment">// reschedule after commit</span>
<a name="l00502"></a>00502         <a class="code" href="class_r_s_v_p.html#a130138413206f03179fc63d56f4937cd">scheduleRefreshTimer</a>(rsb, 0.0);
<a name="l00503"></a>00503     }
<a name="l00504"></a>00504     <span class="keywordflow">else</span>
<a name="l00505"></a>00505     {
<a name="l00506"></a>00506         <a class="code" href="class_r_s_v_p.html#a8745c357a38f4ab3b5c39668b5498820">refreshResv</a>(rsb);
<a name="l00507"></a>00507 
<a name="l00508"></a>00508         <a class="code" href="class_r_s_v_p.html#a130138413206f03179fc63d56f4937cd">scheduleRefreshTimer</a>(rsb, <a class="code" href="_r_s_v_p_8cc.html#a456bf6eeba2ebcdda8a28d900ae59ddb">RSB_REFRESH_INTERVAL</a>);
<a name="l00509"></a>00509     }
<a name="l00510"></a>00510 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2fc38252a7b31028e80b360fc8dc7af3"></a><!-- doxytag: member="RSVP::processRSB_TIMEOUT" ref="a2fc38252a7b31028e80b360fc8dc7af3" args="(RsbTimeoutMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processRSB_TIMEOUT </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_rsb_timeout_msg.html">RsbTimeoutMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00518">518</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01724">processSignallingMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00519"></a>00519 {
<a name="l00520"></a>00520     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;RSB TIMEOUT RSB &quot;</span> &lt;&lt; msg-&gt;<a class="code" href="class_rsb_timeout_msg.html#a3a09ed48e2c6a650488af89301d163b6">getId</a>() &lt;&lt; endl;
<a name="l00521"></a>00521 
<a name="l00522"></a>00522     ResvStateBlock_t *rsb = <a class="code" href="class_r_s_v_p.html#a96e4fae87f154aec8efed1f306864d81">findRsbById</a>(msg-&gt;<a class="code" href="class_rsb_timeout_msg.html#a3a09ed48e2c6a650488af89301d163b6">getId</a>());
<a name="l00523"></a>00523 
<a name="l00524"></a>00524     ASSERT(rsb);
<a name="l00525"></a>00525     ASSERT(<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(rsb-&gt;OI));
<a name="l00526"></a>00526 
<a name="l00527"></a>00527     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; rsb-&gt;FlowDescriptor.size(); i++)
<a name="l00528"></a>00528     {
<a name="l00529"></a>00529         <a class="code" href="class_r_s_v_p.html#a0a010c3a16c0b7fbc37dec6368d9ad03">removeRsbFilter</a>(rsb, 0);
<a name="l00530"></a>00530     }
<a name="l00531"></a>00531     <a class="code" href="class_r_s_v_p.html#af0469af2686bf9440e3d7320c57bfb6f">removeRSB</a>(rsb);
<a name="l00532"></a>00532 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a604c7cdcbec35b1c1facf476ddc27eb9"></a><!-- doxytag: member="RSVP::processRSVPMessage" ref="a604c7cdcbec35b1c1facf476ddc27eb9" args="(RSVPMessage *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processRSVPMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_message.html">RSVPMessage</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01338">1338</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01319">handleMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01339"></a>01339 {
<a name="l01340"></a>01340     <span class="keywordtype">int</span> kind = msg-&gt;<a class="code" href="class_r_s_v_p_message.html#acb2684e687c472b46d089d38ff64ef6d">getRsvpKind</a>();
<a name="l01341"></a>01341     <span class="keywordflow">switch</span>(kind)
<a name="l01342"></a>01342     {
<a name="l01343"></a>01343         <span class="keywordflow">case</span> <a class="code" href="_r_s_v_p_packet__m_8h.html#ad4817cd7538c73ea00307a01acf9f087">PATH_MESSAGE</a>:
<a name="l01344"></a>01344             <a class="code" href="class_r_s_v_p.html#a3fa7b4ca1bf18d5afac7664f0ae3584a">processPathMsg</a>(check_and_cast&lt;RSVPPathMsg*&gt;(msg));
<a name="l01345"></a>01345             <span class="keywordflow">break</span>;
<a name="l01346"></a>01346 
<a name="l01347"></a>01347         <span class="keywordflow">case</span> <a class="code" href="_r_s_v_p_packet__m_8h.html#a1c00595f44a5598ae9e8911bce3a804e">RESV_MESSAGE</a>:
<a name="l01348"></a>01348             <a class="code" href="class_r_s_v_p.html#aaebd61f0dcf0f517e95c4b1e81fea967">processResvMsg</a>(check_and_cast&lt;RSVPResvMsg*&gt;(msg));
<a name="l01349"></a>01349             <span class="keywordflow">break</span>;
<a name="l01350"></a>01350 
<a name="l01351"></a>01351         <span class="keywordflow">case</span> <a class="code" href="_r_s_v_p_packet__m_8h.html#a76d754a2cd45f71337ab4982f05df5a9">PTEAR_MESSAGE</a>:
<a name="l01352"></a>01352             <a class="code" href="class_r_s_v_p.html#a9d40c6ab5084f41b18645183f85fecc9">processPathTearMsg</a>(check_and_cast&lt;RSVPPathTear*&gt;(msg));
<a name="l01353"></a>01353             <span class="keywordflow">break</span>;
<a name="l01354"></a>01354 
<a name="l01355"></a>01355         <span class="keywordflow">case</span> <a class="code" href="_r_s_v_p_packet__m_8h.html#aa4a46d331cb27bae41c1d1f5a37ce6e0">HELLO_MESSAGE</a>:
<a name="l01356"></a>01356             <a class="code" href="class_r_s_v_p.html#a4248b4a0ff4175b4be496ec30aee8672">processHelloMsg</a>(check_and_cast&lt;RSVPHelloMsg*&gt;(msg));
<a name="l01357"></a>01357             <span class="keywordflow">break</span>;
<a name="l01358"></a>01358 
<a name="l01359"></a>01359         <span class="keywordflow">case</span> <a class="code" href="_r_s_v_p_packet__m_8h.html#ae9d472ade59b844e552f9ea0ee0815c8">PERROR_MESSAGE</a>:
<a name="l01360"></a>01360             <a class="code" href="class_r_s_v_p.html#aaa1b0102445119825a264bf187aca6e9">processPathErrMsg</a>(check_and_cast&lt;RSVPPathError*&gt;(msg));
<a name="l01361"></a>01361             <span class="keywordflow">break</span>;
<a name="l01362"></a>01362 
<a name="l01363"></a>01363         <span class="keywordflow">default</span>:
<a name="l01364"></a>01364             ASSERT(<span class="keyword">false</span>);
<a name="l01365"></a>01365     }
<a name="l01366"></a>01366 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6393538e367792874a6e1a9d9a245ded"></a><!-- doxytag: member="RSVP::processSignallingMessage" ref="a6393538e367792874a6e1a9d9a245ded" args="(SignallingMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::processSignallingMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_signalling_msg.html">SignallingMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01724">1724</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01319">handleMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01725"></a>01725 {
<a name="l01726"></a>01726     <span class="keywordtype">int</span> command = msg-&gt;<a class="code" href="class_signalling_msg.html#aad33e72fb11556e30046873da50b844d">getCommand</a>();
<a name="l01727"></a>01727     <span class="keywordflow">switch</span>(command)
<a name="l01728"></a>01728     {
<a name="l01729"></a>01729         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#a4a7edaad4b85440b83cd2340afc09f30">MSG_PSB_TIMER</a>:
<a name="l01730"></a>01730             <a class="code" href="class_r_s_v_p.html#a18f4a987254edd684d0d57345c818c81">processPSB_TIMER</a>(check_and_cast&lt;PsbTimerMsg*&gt;(msg));
<a name="l01731"></a>01731             <span class="keywordflow">break</span>;
<a name="l01732"></a>01732 
<a name="l01733"></a>01733         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#ad2a5b0932c74033ca0907b2312717308">MSG_PSB_TIMEOUT</a>:
<a name="l01734"></a>01734             <a class="code" href="class_r_s_v_p.html#a5bc9ab7d3a8b3db1c563d7e7adddb8d6">processPSB_TIMEOUT</a>(check_and_cast&lt;PsbTimeoutMsg*&gt;(msg));
<a name="l01735"></a>01735             <span class="keywordflow">break</span>;
<a name="l01736"></a>01736 
<a name="l01737"></a>01737         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#af10e4c3853227458fb72fbe27ecaf4d5">MSG_RSB_REFRESH_TIMER</a>:
<a name="l01738"></a>01738             <a class="code" href="class_r_s_v_p.html#a7b967a2ab4a53edc0bdd12c8ad3a4c99">processRSB_REFRESH_TIMER</a>(check_and_cast&lt;RsbRefreshTimerMsg*&gt;(msg));
<a name="l01739"></a>01739             <span class="keywordflow">break</span>;
<a name="l01740"></a>01740 
<a name="l01741"></a>01741         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#afd8ec586052c2e0d2ed4c1d8005adca8">MSG_RSB_COMMIT_TIMER</a>:
<a name="l01742"></a>01742             <a class="code" href="class_r_s_v_p.html#a7e760e4263df7614b1dfbea8e39cc8f3">processRSB_COMMIT_TIMER</a>(check_and_cast&lt;RsbCommitTimerMsg*&gt;(msg));
<a name="l01743"></a>01743             <span class="keywordflow">break</span>;
<a name="l01744"></a>01744 
<a name="l01745"></a>01745         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#a85521f435543cafd95fd3a480cc69d4b">MSG_RSB_TIMEOUT</a>:
<a name="l01746"></a>01746             <a class="code" href="class_r_s_v_p.html#a2fc38252a7b31028e80b360fc8dc7af3">processRSB_TIMEOUT</a>(check_and_cast&lt;RsbTimeoutMsg*&gt;(msg));
<a name="l01747"></a>01747             <span class="keywordflow">break</span>;
<a name="l01748"></a>01748 
<a name="l01749"></a>01749         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#a9a301e6abf79d810bc59a6240985d599">MSG_HELLO_TIMER</a>:
<a name="l01750"></a>01750             <a class="code" href="class_r_s_v_p.html#a5c7ef8c3f1f0a9b7061f499891a82ad6">processHELLO_TIMER</a>(check_and_cast&lt;HelloTimerMsg*&gt;(msg));
<a name="l01751"></a>01751             <span class="keywordflow">break</span>;
<a name="l01752"></a>01752 
<a name="l01753"></a>01753         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#a7181ca8323feb1aa6d19ce9e254a8cf4">MSG_HELLO_TIMEOUT</a>:
<a name="l01754"></a>01754             <a class="code" href="class_r_s_v_p.html#a41999b24ba006f359ce2ee9b4638ee96">processHELLO_TIMEOUT</a>(check_and_cast&lt;HelloTimeoutMsg*&gt;(msg));
<a name="l01755"></a>01755             <span class="keywordflow">break</span>;
<a name="l01756"></a>01756 
<a name="l01757"></a>01757         <span class="keywordflow">case</span> <a class="code" href="_signalling_msg__m_8h.html#a263a8216cd47d92316470864ecb1854a">MSG_PATH_NOTIFY</a>:
<a name="l01758"></a>01758             <a class="code" href="class_r_s_v_p.html#a046faf4019fa1dd31f24ee445236236b">processPATH_NOTIFY</a>(check_and_cast&lt;PathNotifyMsg*&gt;(msg));
<a name="l01759"></a>01759             <span class="keywordflow">break</span>;
<a name="l01760"></a>01760 
<a name="l01761"></a>01761         <span class="keywordflow">default</span>:
<a name="l01762"></a>01762             ASSERT(<span class="keyword">false</span>);
<a name="l01763"></a>01763     }
<a name="l01764"></a>01764 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a7afe215d5b5f46066a7d2db44ac93369"></a><!-- doxytag: member="RSVP::readTrafficFromXML" ref="a7afe215d5b5f46066a7d2db44ac93369" args="(const cXMLElement *traffic)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::readTrafficFromXML </td>
          <td>(</td>
          <td class="paramtype">const cXMLElement *&nbsp;</td>
          <td class="paramname"> <em>traffic</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00147">147</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00148"></a>00148 {
<a name="l00149"></a>00149     ASSERT(<a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>);
<a name="l00150"></a>00150     ASSERT(!strcmp(<a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>-&gt;getTagName(), <span class="stringliteral">&quot;sessions&quot;</span>));
<a name="l00151"></a>00151     <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(<a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>, <span class="stringliteral">&quot;session&quot;</span>);
<a name="l00152"></a>00152     cXMLElementList list = <a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>-&gt;getChildrenByTagName(<span class="stringliteral">&quot;session&quot;</span>);
<a name="l00153"></a>00153     <span class="keywordflow">for</span> (cXMLElementList::iterator it=list.begin(); it != list.end(); it++)
<a name="l00154"></a>00154         <a class="code" href="class_r_s_v_p.html#adada9d53651da0e8c535e7ed47f931fd">readTrafficSessionFromXML</a>(*it);
<a name="l00155"></a>00155 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a14bfd32e0426538ba9b59a18037bb57a"></a><!-- doxytag: member="RSVP::readTrafficRouteFromXML" ref="a14bfd32e0426538ba9b59a18037bb57a" args="(const cXMLElement *route)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_int_serv__m_8h.html#aea4ecacf78719a59508153fbdbd5cc7b">EroVector</a> RSVP::readTrafficRouteFromXML </td>
          <td>(</td>
          <td class="paramtype">const cXMLElement *&nbsp;</td>
          <td class="paramname"> <em>route</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00157">157</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00186">readTrafficSessionFromXML()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00158"></a>00158 {
<a name="l00159"></a>00159     <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(route, <span class="stringliteral">&quot;node lnode&quot;</span>);
<a name="l00160"></a>00160 
<a name="l00161"></a>00161     <a class="code" href="_int_serv__m_8h.html#aea4ecacf78719a59508153fbdbd5cc7b">EroVector</a> ERO;
<a name="l00162"></a>00162 
<a name="l00163"></a>00163     <span class="keywordflow">for</span> (cXMLElement *hop = route-&gt;getFirstChild(); hop; hop = hop-&gt;getNextSibling())
<a name="l00164"></a>00164     {
<a name="l00165"></a>00165         <a class="code" href="struct_ero_obj__t.html">EroObj_t</a> h;
<a name="l00166"></a>00166         <span class="keywordflow">if</span> (!strcmp(hop-&gt;getTagName(), <span class="stringliteral">&quot;node&quot;</span>))
<a name="l00167"></a>00167         {
<a name="l00168"></a>00168             h.<a class="code" href="struct_ero_obj__t.html#a89603253681255ecea111b092b07ca7b">L</a> = <span class="keyword">false</span>;
<a name="l00169"></a>00169             h.<a class="code" href="struct_ero_obj__t.html#a697b7a0cd929d6cc6cf38cec56d8399c">node</a> = <a class="code" href="class_i_p_address_resolver.html">IPAddressResolver</a>().resolve(hop-&gt;getNodeValue()).get4();
<a name="l00170"></a>00170         }
<a name="l00171"></a>00171         <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!strcmp(hop-&gt;getTagName(), <span class="stringliteral">&quot;lnode&quot;</span>))
<a name="l00172"></a>00172         {
<a name="l00173"></a>00173             h.<a class="code" href="struct_ero_obj__t.html#a89603253681255ecea111b092b07ca7b">L</a> = <span class="keyword">true</span>;
<a name="l00174"></a>00174             h.<a class="code" href="struct_ero_obj__t.html#a697b7a0cd929d6cc6cf38cec56d8399c">node</a> = <a class="code" href="class_i_p_address_resolver.html">IPAddressResolver</a>().resolve(hop-&gt;getNodeValue()).get4();
<a name="l00175"></a>00175         }
<a name="l00176"></a>00176         <span class="keywordflow">else</span>
<a name="l00177"></a>00177         {
<a name="l00178"></a>00178             ASSERT(<span class="keyword">false</span>);
<a name="l00179"></a>00179         }
<a name="l00180"></a>00180         ERO.push_back(h);
<a name="l00181"></a>00181     }
<a name="l00182"></a>00182 
<a name="l00183"></a>00183     <span class="keywordflow">return</span> ERO;
<a name="l00184"></a>00184 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adada9d53651da0e8c535e7ed47f931fd"></a><!-- doxytag: member="RSVP::readTrafficSessionFromXML" ref="adada9d53651da0e8c535e7ed47f931fd" args="(const cXMLElement *session)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::readTrafficSessionFromXML </td>
          <td>(</td>
          <td class="paramtype">const cXMLElement *&nbsp;</td>
          <td class="paramname"> <em>session</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00186">186</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01854">addSession()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00147">readTrafficFromXML()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00187"></a>00187 {
<a name="l00188"></a>00188     <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(session, <span class="stringliteral">&quot;tunnel_id endpoint setup_pri holding_pri paths&quot;</span>);
<a name="l00189"></a>00189 
<a name="l00190"></a>00190     traffic_session_t newSession;
<a name="l00191"></a>00191 
<a name="l00192"></a>00192     newSession.sobj.Tunnel_Id = <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(session, <span class="stringliteral">&quot;tunnel_id&quot;</span>);
<a name="l00193"></a>00193     newSession.sobj.Extended_Tunnel_Id = <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>.<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>();
<a name="l00194"></a>00194     newSession.sobj.DestAddress = <a class="code" href="_x_m_l_utils_8cc.html#abc530a666bb91e5d1305f0d0fc5525c7">getParameterIPAddressValue</a>(session, <span class="stringliteral">&quot;endpoint&quot;</span>);
<a name="l00195"></a>00195 
<a name="l00196"></a>00196     std::vector&lt;traffic_session_t&gt;::iterator sit = <a class="code" href="class_r_s_v_p.html#adbc9840e5bb15c37459aacb83385bdc0">findSession</a>(newSession.sobj);
<a name="l00197"></a>00197 
<a name="l00198"></a>00198     <span class="keywordtype">bool</span> merge;
<a name="l00199"></a>00199 
<a name="l00200"></a>00200     <span class="keywordflow">if</span> (sit != <a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>.end())
<a name="l00201"></a>00201     {
<a name="l00202"></a>00202         <span class="comment">// session already exits, add new paths</span>
<a name="l00203"></a>00203 
<a name="l00204"></a>00204         merge = <span class="keyword">true</span>;
<a name="l00205"></a>00205 
<a name="l00206"></a>00206         ASSERT(!<a class="code" href="_x_m_l_utils_8cc.html#a354dec476d4b54e6a7d45e7c02dfdab3">getUniqueChildIfExists</a>(session, <span class="stringliteral">&quot;holding_pri&quot;</span>) || <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(session, <span class="stringliteral">&quot;holding_pri&quot;</span>) == sit-&gt;sobj.holdingPri);
<a name="l00207"></a>00207         ASSERT(!<a class="code" href="_x_m_l_utils_8cc.html#a354dec476d4b54e6a7d45e7c02dfdab3">getUniqueChildIfExists</a>(session, <span class="stringliteral">&quot;setup_pri&quot;</span>) || <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(session, <span class="stringliteral">&quot;setup_pri&quot;</span>) == sit-&gt;sobj.setupPri);
<a name="l00208"></a>00208 
<a name="l00209"></a>00209         newSession.sobj.setupPri = sit-&gt;sobj.setupPri;
<a name="l00210"></a>00210         newSession.sobj.holdingPri = sit-&gt;sobj.holdingPri;
<a name="l00211"></a>00211 
<a name="l00212"></a>00212         sit-&gt;sobj = newSession.sobj;
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214     <span class="keywordflow">else</span>
<a name="l00215"></a>00215     {
<a name="l00216"></a>00216         <span class="comment">// session not found, create new</span>
<a name="l00217"></a>00217 
<a name="l00218"></a>00218         merge = <span class="keyword">false</span>;
<a name="l00219"></a>00219 
<a name="l00220"></a>00220         newSession.sobj.setupPri = <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(session, <span class="stringliteral">&quot;setup_pri&quot;</span>, 7);
<a name="l00221"></a>00221         newSession.sobj.holdingPri = <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(session, <span class="stringliteral">&quot;holding_pri&quot;</span>, 7);
<a name="l00222"></a>00222     }
<a name="l00223"></a>00223 
<a name="l00224"></a>00224     <span class="keyword">const</span> cXMLElement *paths = <a class="code" href="_x_m_l_utils_8cc.html#a8a79ce4f5f5c6998172d2234877ca4ca">getUniqueChild</a>(session, <span class="stringliteral">&quot;paths&quot;</span>);
<a name="l00225"></a>00225     <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(paths, <span class="stringliteral">&quot;path&quot;</span>);
<a name="l00226"></a>00226 
<a name="l00227"></a>00227     cXMLElementList list = paths-&gt;getChildrenByTagName(<span class="stringliteral">&quot;path&quot;</span>);
<a name="l00228"></a>00228     <span class="keywordflow">for</span> (cXMLElementList::iterator it=list.begin(); it != list.end(); it++)
<a name="l00229"></a>00229     {
<a name="l00230"></a>00230         cXMLElement *path = *it;
<a name="l00231"></a>00231         <a class="code" href="_x_m_l_utils_8cc.html#a10d193d56ab9828e48d984d940cc30c0">checkTags</a>(path, <span class="stringliteral">&quot;sender lspid bandwidth max_delay route permanent owner color&quot;</span>);
<a name="l00232"></a>00232 
<a name="l00233"></a>00233         <span class="keywordtype">int</span> lspid = <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(path, <span class="stringliteral">&quot;lspid&quot;</span>);;
<a name="l00234"></a>00234 
<a name="l00235"></a>00235         std::vector&lt;traffic_path_t&gt;::iterator pit;
<a name="l00236"></a>00236 
<a name="l00237"></a>00237         traffic_path_t newPath;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239         newPath.sender.SrcAddress = <a class="code" href="_x_m_l_utils_8cc.html#abc530a666bb91e5d1305f0d0fc5525c7">getParameterIPAddressValue</a>(path, <span class="stringliteral">&quot;sender&quot;</span>, <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>);
<a name="l00240"></a>00240         newPath.sender.Lsp_Id = lspid;
<a name="l00241"></a>00241 
<a name="l00242"></a>00242         <span class="comment">// make sure path doesn&apos;t exist yet</span>
<a name="l00243"></a>00243 
<a name="l00244"></a>00244         <span class="keywordflow">if</span> (merge)
<a name="l00245"></a>00245         {
<a name="l00246"></a>00246             pit = <a class="code" href="class_r_s_v_p.html#a92c0c4053e1f2d4a7fa85fed30d9a49d">findPath</a>(&amp;(*sit), newPath.sender);
<a name="l00247"></a>00247             <span class="keywordflow">if</span> (pit != sit-&gt;paths.end())
<a name="l00248"></a>00248             {
<a name="l00249"></a>00249                 <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;path &quot;</span> &lt;&lt; lspid &lt;&lt; <span class="stringliteral">&quot; already exists in this session, doing nothing&quot;</span> &lt;&lt; endl;
<a name="l00250"></a>00250                 <span class="keywordflow">continue</span>;
<a name="l00251"></a>00251             }
<a name="l00252"></a>00252         }
<a name="l00253"></a>00253         <span class="keywordflow">else</span>
<a name="l00254"></a>00254         {
<a name="l00255"></a>00255             pit = <a class="code" href="class_r_s_v_p.html#a92c0c4053e1f2d4a7fa85fed30d9a49d">findPath</a>(&amp;newSession, newPath.sender);
<a name="l00256"></a>00256             <span class="keywordflow">if</span> (pit != newSession.paths.end())
<a name="l00257"></a>00257             {
<a name="l00258"></a>00258                 <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;path &quot;</span> &lt;&lt; lspid &lt;&lt; <span class="stringliteral">&quot; already exists in this session, doing nothing&quot;</span> &lt;&lt; endl;
<a name="l00259"></a>00259                 <span class="keywordflow">continue</span>;
<a name="l00260"></a>00260             }
<a name="l00261"></a>00261         }
<a name="l00262"></a>00262 
<a name="l00263"></a>00263         <span class="keyword">const</span> <span class="keywordtype">char</span> *str = <a class="code" href="_x_m_l_utils_8cc.html#af497e46a3d73dc71fc4dffbe2b07ad1b">getParameterStrValue</a>(path, <span class="stringliteral">&quot;owner&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);
<a name="l00264"></a>00264         <span class="keywordflow">if</span> (strlen(str))
<a name="l00265"></a>00265         {
<a name="l00266"></a>00266             cModule *mod = simulation.getModuleByPath(str);
<a name="l00267"></a>00267             newPath.owner = mod-&gt;getId();
<a name="l00268"></a>00268         }
<a name="l00269"></a>00269         <span class="keywordflow">else</span>
<a name="l00270"></a>00270         {
<a name="l00271"></a>00271             newPath.owner = getId();
<a name="l00272"></a>00272         }
<a name="l00273"></a>00273 
<a name="l00274"></a>00274         newPath.permanent = <a class="code" href="_x_m_l_utils_8cc.html#a5245590987c556092552c2e25fafc964">getParameterBoolValue</a>(path, <span class="stringliteral">&quot;permanent&quot;</span>, <span class="keyword">true</span>);
<a name="l00275"></a>00275         newPath.color = <a class="code" href="_x_m_l_utils_8cc.html#a904310d712761c82c65e7975800e817b">getParameterIntValue</a>(path, <span class="stringliteral">&quot;color&quot;</span>, 0);
<a name="l00276"></a>00276 
<a name="l00277"></a>00277         newPath.tspec.req_bandwidth = <a class="code" href="_x_m_l_utils_8cc.html#a0de17fc8d544d2ea831eff7d563e787f">getParameterDoubleValue</a>(path, <span class="stringliteral">&quot;bandwidth&quot;</span>, 0.0);
<a name="l00278"></a>00278         newPath.max_delay = <a class="code" href="_x_m_l_utils_8cc.html#a0de17fc8d544d2ea831eff7d563e787f">getParameterDoubleValue</a>(path, <span class="stringliteral">&quot;max_delay&quot;</span>, 0.0);
<a name="l00279"></a>00279 
<a name="l00280"></a>00280         <span class="keyword">const</span> cXMLElement *route = <a class="code" href="_x_m_l_utils_8cc.html#a354dec476d4b54e6a7d45e7c02dfdab3">getUniqueChildIfExists</a>(path, <span class="stringliteral">&quot;route&quot;</span>);
<a name="l00281"></a>00281         <span class="keywordflow">if</span> (route)
<a name="l00282"></a>00282             newPath.ERO = <a class="code" href="class_r_s_v_p.html#a14bfd32e0426538ba9b59a18037bb57a">readTrafficRouteFromXML</a>(route);
<a name="l00283"></a>00283 
<a name="l00284"></a>00284         <span class="keywordflow">if</span> (merge)
<a name="l00285"></a>00285         {
<a name="l00286"></a>00286             <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;adding new path into an existing session&quot;</span> &lt;&lt; endl;
<a name="l00287"></a>00287 
<a name="l00288"></a>00288             sit-&gt;paths.push_back(newPath);
<a name="l00289"></a>00289         }
<a name="l00290"></a>00290         <span class="keywordflow">else</span>
<a name="l00291"></a>00291         {
<a name="l00292"></a>00292             <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;adding new path into new session&quot;</span> &lt;&lt; endl;
<a name="l00293"></a>00293 
<a name="l00294"></a>00294             newSession.paths.push_back(newPath);
<a name="l00295"></a>00295         }
<a name="l00296"></a>00296 
<a name="l00297"></a>00297         <span class="comment">// schedule path creation</span>
<a name="l00298"></a>00298 
<a name="l00299"></a>00299         <a class="code" href="class_r_s_v_p.html#a472ceb4e889ba0fc93649dff8e5d549a">sendPathNotify</a>(getId(), newSession.sobj, newPath.sender, <a class="code" href="_signalling_msg__m_8h.html#a1a8eebfa348f4e4c0d1103c924f967ac">PATH_RETRY</a>, 0.0);
<a name="l00300"></a>00300     }
<a name="l00301"></a>00301 
<a name="l00302"></a>00302     <span class="keywordflow">if</span> (!merge)
<a name="l00303"></a>00303     {
<a name="l00304"></a>00304         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;adding new session into database&quot;</span> &lt;&lt; endl;
<a name="l00305"></a>00305 
<a name="l00306"></a>00306         <a class="code" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">traffic</a>.push_back(newSession);
<a name="l00307"></a>00307     }
<a name="l00308"></a>00308 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a771e852915d4521e65a3d243bdf1a82c"></a><!-- doxytag: member="RSVP::recoveryEvent" ref="a771e852915d4521e65a3d243bdf1a82c" args="(IPAddress peer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::recoveryEvent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>peer</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01701">1701</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01368">processHelloMsg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01702"></a>01702 {
<a name="l01703"></a>01703     <span class="comment">// called when peer&apos;s operation is restored</span>
<a name="l01704"></a>01704 
<a name="l01705"></a>01705     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> index = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#aff4add6e86b7bc9ea84079aae0bb3e51">linkIndex</a>(<a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>, peer);
<a name="l01706"></a>01706     <span class="keywordtype">bool</span> rtmodified = !<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].state;
<a name="l01707"></a>01707     <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].state = <span class="keyword">true</span>;
<a name="l01708"></a>01708     <a class="code" href="class_r_s_v_p.html#ab63d5bdece74e8218d703ca07604dbe6">announceLinkChange</a>(index);
<a name="l01709"></a>01709 
<a name="l01710"></a>01710     <span class="comment">// rebuild routing table if link state changed</span>
<a name="l01711"></a>01711     <span class="keywordflow">if</span> (rtmodified)
<a name="l01712"></a>01712         <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a20dbae0b12fb78bc9771eba4e11f0edc">rebuildRoutingTable</a>();
<a name="l01713"></a>01713 
<a name="l01714"></a>01714     <span class="comment">// refresh all paths towards this neighbour</span>
<a name="l01715"></a>01715     <span class="keywordflow">for</span> (PSBVector::iterator it = <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.end(); it++)
<a name="l01716"></a>01716     {
<a name="l01717"></a>01717         <span class="keywordflow">if</span> (it-&gt;OutInterface != <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a8ab5c356644784262be0ae484395441e">ted</a>[index].local)
<a name="l01718"></a>01718             <span class="keywordflow">continue</span>;
<a name="l01719"></a>01719 
<a name="l01720"></a>01720         <a class="code" href="class_r_s_v_p.html#a130138413206f03179fc63d56f4937cd">scheduleRefreshTimer</a>(&amp;(*it), 0.0);
<a name="l01721"></a>01721     }
<a name="l01722"></a>01722 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acc0978a512bc47c6cbeea226904a4e51"></a><!-- doxytag: member="RSVP::refreshPath" ref="acc0978a512bc47c6cbeea226904a4e51" args="(PathStateBlock_t *psbEle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::refreshPath </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>psbEle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00562">562</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00470">processPSB_TIMER()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00563"></a>00563 {
<a name="l00564"></a>00564     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;refresh path (PSB &quot;</span> &lt;&lt; psbEle-&gt;id &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;
<a name="l00565"></a>00565 
<a name="l00566"></a>00566     <a class="code" href="class_i_p_address.html">IPAddress</a>&amp; OI = psbEle-&gt;OutInterface;
<a name="l00567"></a>00567     <a class="code" href="_int_serv__m_8h.html#aea4ecacf78719a59508153fbdbd5cc7b">EroVector</a>&amp; ERO = psbEle-&gt;ERO;
<a name="l00568"></a>00568 
<a name="l00569"></a>00569     ASSERT(!OI.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>());
<a name="l00570"></a>00570     ASSERT(<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(OI));
<a name="l00571"></a>00571 
<a name="l00572"></a>00572     <a class="code" href="class_r_s_v_p_path_msg.html">RSVPPathMsg</a> *pm = <span class="keyword">new</span> <a class="code" href="class_r_s_v_p_path_msg.html">RSVPPathMsg</a>(<span class="stringliteral">&quot;Path&quot;</span>);
<a name="l00573"></a>00573 
<a name="l00574"></a>00574     pm-&gt;setSession(psbEle-&gt;Session_Object);
<a name="l00575"></a>00575     pm-&gt;setSenderTemplate(psbEle-&gt;Sender_Template_Object);
<a name="l00576"></a>00576     pm-&gt;setSenderTspec(psbEle-&gt;Sender_Tspec_Object);
<a name="l00577"></a>00577 
<a name="l00578"></a>00578     <a class="code" href="struct_rsvp_hop_obj__t.html">RsvpHopObj_t</a> hop;
<a name="l00579"></a>00579     hop.<a class="code" href="struct_rsvp_hop_obj__t.html#a210e57bcf7bc0a3b0792271e538ba766">Logical_Interface_Handle</a> = OI;
<a name="l00580"></a>00580     hop.<a class="code" href="struct_rsvp_hop_obj__t.html#a663f10df0504d1ff6f8e6f9caa1ddf3f">Next_Hop_Address</a> = <a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>;
<a name="l00581"></a>00581     pm-&gt;setHop(hop);
<a name="l00582"></a>00582 
<a name="l00583"></a>00583     pm-&gt;setERO(ERO);
<a name="l00584"></a>00584     pm-&gt;setColor(psbEle-&gt;color);
<a name="l00585"></a>00585 
<a name="l00586"></a>00586     <span class="keywordtype">int</span> length = 85 + (ERO.size() * 5);
<a name="l00587"></a>00587 
<a name="l00588"></a>00588     pm-&gt;setByteLength(length);
<a name="l00589"></a>00589 
<a name="l00590"></a>00590     <a class="code" href="class_i_p_address.html">IPAddress</a> nextHop = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#ab55f38433f365eb6411ce8d0caf20ca7">getPeerByLocalAddress</a>(OI);
<a name="l00591"></a>00591 
<a name="l00592"></a>00592     ASSERT(ERO.size() == 0 ||ERO[0].node.equals(nextHop) || ERO[0].L);
<a name="l00593"></a>00593 
<a name="l00594"></a>00594     <a class="code" href="class_r_s_v_p.html#afe54ffd483063082234277edce5e792d">sendToIP</a>(pm, nextHop);
<a name="l00595"></a>00595 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af84a7ab872ddde72e4e6394c904285ab"></a><!-- doxytag: member="RSVP::refreshResv" ref="af84a7ab872ddde72e4e6394c904285ab" args="(ResvStateBlock_t *rsbEle, IPAddress PHOP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::refreshResv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rsbEle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>PHOP</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00625">625</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00626"></a>00626 {
<a name="l00627"></a>00627     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;refresh reservation (RSB &quot;</span> &lt;&lt; rsbEle-&gt;id &lt;&lt; <span class="stringliteral">&quot;) PHOP &quot;</span> &lt;&lt; PHOP &lt;&lt; endl;
<a name="l00628"></a>00628 
<a name="l00629"></a>00629     <a class="code" href="class_r_s_v_p_resv_msg.html">RSVPResvMsg</a> *msg = <span class="keyword">new</span> <a class="code" href="class_r_s_v_p_resv_msg.html">RSVPResvMsg</a>(<span class="stringliteral">&quot;    Resv&quot;</span>);
<a name="l00630"></a>00630 
<a name="l00631"></a>00631     <a class="code" href="_int_serv__m_8h.html#a4ff28796cce84a2b2c3c2f5db7f5e3ff">FlowDescriptorVector</a> flows;
<a name="l00632"></a>00632 
<a name="l00633"></a>00633     msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#abd2b435059f110007d9009c7751b86de">setSession</a>(rsbEle-&gt;Session_Object);
<a name="l00634"></a>00634 
<a name="l00635"></a>00635     <a class="code" href="struct_rsvp_hop_obj__t.html">RsvpHopObj_t</a> hop;
<a name="l00636"></a>00636     hop.<a class="code" href="struct_rsvp_hop_obj__t.html#a210e57bcf7bc0a3b0792271e538ba766">Logical_Interface_Handle</a> = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a2cbea20c740531cd560319d0e53c1ddf">peerRemoteInterface</a>(PHOP);
<a name="l00637"></a>00637     hop.<a class="code" href="struct_rsvp_hop_obj__t.html#a663f10df0504d1ff6f8e6f9caa1ddf3f">Next_Hop_Address</a> = PHOP;
<a name="l00638"></a>00638     msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a78934a725f5607deb82dc9355557d1cb">setHop</a>(hop);
<a name="l00639"></a>00639 
<a name="l00640"></a>00640     <span class="keywordflow">for</span> (PSBVector::iterator it = <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.end(); it++)
<a name="l00641"></a>00641     {
<a name="l00642"></a>00642         <span class="keywordflow">if</span> (it-&gt;Previous_Hop_Address != PHOP)
<a name="l00643"></a>00643             <span class="keywordflow">continue</span>;
<a name="l00644"></a>00644 
<a name="l00645"></a>00645         <span class="comment">//if (it-&gt;LIH != LIH)</span>
<a name="l00646"></a>00646         <span class="comment">//  continue;</span>
<a name="l00647"></a>00647 
<a name="l00648"></a>00648         <span class="keywordflow">if</span> (it-&gt;Session_Object != rsbEle-&gt;Session_Object)
<a name="l00649"></a>00649             <span class="keywordflow">continue</span>;
<a name="l00650"></a>00650 
<a name="l00651"></a>00651         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> c = 0; c &lt; rsbEle-&gt;FlowDescriptor.size(); c++)
<a name="l00652"></a>00652         {
<a name="l00653"></a>00653             <span class="keywordflow">if</span> ((<a class="code" href="struct_filter_spec_obj__t.html">FilterSpecObj_t</a>&amp;)it-&gt;Sender_Template_Object != rsbEle-&gt;FlowDescriptor[c].Filter_Spec_Object)
<a name="l00654"></a>00654                 <span class="keywordflow">continue</span>;
<a name="l00655"></a>00655 
<a name="l00656"></a>00656             ASSERT(rsbEle-&gt;inLabelVector.size() == rsbEle-&gt;FlowDescriptor.size());
<a name="l00657"></a>00657 
<a name="l00658"></a>00658             <a class="code" href="struct_flow_descriptor__t.html">FlowDescriptor_t</a> flow;
<a name="l00659"></a>00659             flow.Filter_Spec_Object = (<a class="code" href="struct_filter_spec_obj__t.html">FilterSpecObj_t</a>&amp;)it-&gt;Sender_Template_Object;
<a name="l00660"></a>00660             flow.Flowspec_Object = (<a class="code" href="struct_flow_spec_obj__t.html">FlowSpecObj_t</a>&amp;)it-&gt;Sender_Tspec_Object;
<a name="l00661"></a>00661             flow.RRO = rsbEle-&gt;FlowDescriptor[c].RRO;
<a name="l00662"></a>00662             flow.RRO.push_back(<a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>);
<a name="l00663"></a>00663             flow.label = rsbEle-&gt;inLabelVector[c];
<a name="l00664"></a>00664             flows.push_back(flow);
<a name="l00665"></a>00665 
<a name="l00666"></a>00666             <span class="keywordflow">break</span>;
<a name="l00667"></a>00667         }
<a name="l00668"></a>00668     }
<a name="l00669"></a>00669 
<a name="l00670"></a>00670     msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#af5b49444c96b4dc81e5dcff92aba0eab">setFlowDescriptor</a>(flows);
<a name="l00671"></a>00671 
<a name="l00672"></a>00672     <span class="keywordtype">int</span> fd_length = 0;
<a name="l00673"></a>00673     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; flows.size(); i++)
<a name="l00674"></a>00674         fd_length += 28 + (flows[i].RRO.size() * 4);
<a name="l00675"></a>00675 
<a name="l00676"></a>00676     <span class="keywordtype">int</span> length = 34 + fd_length;
<a name="l00677"></a>00677 
<a name="l00678"></a>00678     <span class="comment">// see comment elsewhere (in TED.cc)</span>
<a name="l00679"></a>00679     length /= 10;
<a name="l00680"></a>00680 
<a name="l00681"></a>00681     msg-&gt;setByteLength(length);
<a name="l00682"></a>00682 
<a name="l00683"></a>00683     <a class="code" href="class_r_s_v_p.html#afe54ffd483063082234277edce5e792d">sendToIP</a>(msg, PHOP);
<a name="l00684"></a>00684 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8745c357a38f4ab3b5c39668b5498820"></a><!-- doxytag: member="RSVP::refreshResv" ref="a8745c357a38f4ab3b5c39668b5498820" args="(ResvStateBlock_t *rsbEle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::refreshResv </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rsbEle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00597">597</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00496">processRSB_REFRESH_TIMER()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00598"></a>00598 {
<a name="l00599"></a>00599     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;refresh reservation (RSB &quot;</span> &lt;&lt; rsbEle-&gt;id &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;
<a name="l00600"></a>00600 
<a name="l00601"></a>00601     <a class="code" href="_int_serv__m_8h.html#a5a288b0560755f2dc3b29915cf366ff6">IPAddressVector</a> phops;
<a name="l00602"></a>00602 
<a name="l00603"></a>00603     <span class="keywordflow">for</span> (PSBVector::iterator it = <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.end(); it++)
<a name="l00604"></a>00604     {
<a name="l00605"></a>00605         <span class="keywordflow">if</span> (it-&gt;OutInterface != rsbEle-&gt;OI)
<a name="l00606"></a>00606             <span class="keywordflow">continue</span>;
<a name="l00607"></a>00607 
<a name="l00608"></a>00608         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)rsbEle-&gt;FlowDescriptor.size(); i++)
<a name="l00609"></a>00609         {
<a name="l00610"></a>00610             <span class="keywordflow">if</span> ((<a class="code" href="struct_filter_spec_obj__t.html">FilterSpecObj_t</a>&amp;)it-&gt;Sender_Template_Object != rsbEle-&gt;FlowDescriptor[i].Filter_Spec_Object)
<a name="l00611"></a>00611                 <span class="keywordflow">continue</span>;
<a name="l00612"></a>00612 
<a name="l00613"></a>00613             <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(it-&gt;Previous_Hop_Address))
<a name="l00614"></a>00614                 <span class="keywordflow">continue</span>; <span class="comment">// IR nothing to refresh</span>
<a name="l00615"></a>00615 
<a name="l00616"></a>00616             <span class="keywordflow">if</span> (!<a class="code" href="_utils_8cc.html#a33bdc8b2583dcc9d2a8bfe1ec578352d">find</a>(phops, it-&gt;Previous_Hop_Address))
<a name="l00617"></a>00617                 phops.push_back(it-&gt;Previous_Hop_Address);
<a name="l00618"></a>00618         }
<a name="l00619"></a>00619 
<a name="l00620"></a>00620         <span class="keywordflow">for</span> (IPAddressVector::iterator it = phops.begin(); it != phops.end(); it++)
<a name="l00621"></a>00621             <a class="code" href="class_r_s_v_p.html#a8745c357a38f4ab3b5c39668b5498820">refreshResv</a>(rsbEle, *it);
<a name="l00622"></a>00622     }
<a name="l00623"></a>00623 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a43b1c666eee1f02f7070d7b39e3dea0f"></a><!-- doxytag: member="RSVP::removePSB" ref="a43b1c666eee1f02f7070d7b39e3dea0f" args="(PathStateBlock_t *psb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::removePSB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>psb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01075">1075</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01861">delSession()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01766">pathProblem()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01510">processPathTearMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00479">processPSB_TIMEOUT()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01076"></a>01076 {
<a name="l01077"></a>01077     ASSERT(psb);
<a name="l01078"></a>01078 
<a name="l01079"></a>01079     <span class="keywordtype">int</span> lspid = psb-&gt;Sender_Template_Object.Lsp_Id;
<a name="l01080"></a>01080 
<a name="l01081"></a>01081     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;removing PSB &quot;</span> &lt;&lt; psb-&gt;id &lt;&lt; <span class="stringliteral">&quot; (lspid &quot;</span> &lt;&lt; lspid &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;
<a name="l01082"></a>01082 
<a name="l01083"></a>01083     <span class="comment">// remove reservation state if exists **************************************</span>
<a name="l01084"></a>01084 
<a name="l01085"></a>01085     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> filterIndex;
<a name="l01086"></a>01086     ResvStateBlock_t *rsb = <a class="code" href="class_r_s_v_p.html#a7741a01ced48d4fbf371cb7b846a27aa">findRSB</a>(psb-&gt;Session_Object, psb-&gt;Sender_Template_Object, filterIndex);
<a name="l01087"></a>01087     <span class="keywordflow">if</span> (rsb)
<a name="l01088"></a>01088     {
<a name="l01089"></a>01089         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;reservation state present, will be removed too&quot;</span> &lt;&lt; endl;
<a name="l01090"></a>01090 
<a name="l01091"></a>01091         <a class="code" href="class_r_s_v_p.html#a0a010c3a16c0b7fbc37dec6368d9ad03">removeRsbFilter</a>(rsb, filterIndex);
<a name="l01092"></a>01092     }
<a name="l01093"></a>01093 
<a name="l01094"></a>01094     <span class="comment">// proceed with actual removal *********************************************</span>
<a name="l01095"></a>01095 
<a name="l01096"></a>01096     cancelEvent(psb-&gt;timerMsg);
<a name="l01097"></a>01097     cancelEvent(psb-&gt;timeoutMsg);
<a name="l01098"></a>01098 
<a name="l01099"></a>01099     <span class="keyword">delete</span> psb-&gt;timerMsg;
<a name="l01100"></a>01100     <span class="keyword">delete</span> psb-&gt;timeoutMsg;
<a name="l01101"></a>01101 
<a name="l01102"></a>01102     <span class="keywordflow">for</span> (PSBVector::iterator it = <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.end(); it++)
<a name="l01103"></a>01103     {
<a name="l01104"></a>01104         <span class="keywordflow">if</span> (it-&gt;id != psb-&gt;id)
<a name="l01105"></a>01105             <span class="keywordflow">continue</span>;
<a name="l01106"></a>01106 
<a name="l01107"></a>01107         <a class="code" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">PSBList</a>.erase(it);
<a name="l01108"></a>01108         <span class="keywordflow">return</span>;
<a name="l01109"></a>01109     }
<a name="l01110"></a>01110     ASSERT(<span class="keyword">false</span>);
<a name="l01111"></a>01111 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af0469af2686bf9440e3d7320c57bfb6f"></a><!-- doxytag: member="RSVP::removeRSB" ref="af0469af2686bf9440e3d7320c57bfb6f" args="(ResvStateBlock_t *rsb)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::removeRSB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rsb</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01043">1043</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00518">processRSB_TIMEOUT()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01044"></a>01044 {
<a name="l01045"></a>01045     ASSERT(rsb);
<a name="l01046"></a>01046     ASSERT(rsb-&gt;FlowDescriptor.size() == 0);
<a name="l01047"></a>01047 
<a name="l01048"></a>01048     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;removing empty RSB &quot;</span> &lt;&lt; rsb-&gt;id &lt;&lt; endl;
<a name="l01049"></a>01049 
<a name="l01050"></a>01050     cancelEvent(rsb-&gt;refreshTimerMsg);
<a name="l01051"></a>01051     cancelEvent(rsb-&gt;commitTimerMsg);
<a name="l01052"></a>01052     cancelEvent(rsb-&gt;timeoutMsg);
<a name="l01053"></a>01053 
<a name="l01054"></a>01054     <span class="keyword">delete</span> rsb-&gt;refreshTimerMsg;
<a name="l01055"></a>01055     <span class="keyword">delete</span> rsb-&gt;commitTimerMsg;
<a name="l01056"></a>01056     <span class="keyword">delete</span> rsb-&gt;timeoutMsg;
<a name="l01057"></a>01057 
<a name="l01058"></a>01058     <span class="keywordflow">if</span> (rsb-&gt;Flowspec_Object.req_bandwidth &gt; 0)
<a name="l01059"></a>01059     {
<a name="l01060"></a>01060         <span class="comment">// deallocate resources</span>
<a name="l01061"></a>01061         <a class="code" href="class_r_s_v_p.html#a58055c8fd6f3b98c57ef68adeaa009e3">allocateResource</a>(rsb-&gt;OI, rsb-&gt;Session_Object, -rsb-&gt;Flowspec_Object.req_bandwidth);
<a name="l01062"></a>01062     }
<a name="l01063"></a>01063 
<a name="l01064"></a>01064     <span class="keywordflow">for</span> (RSBVector::iterator it = <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.begin(); it != <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.end(); it++)
<a name="l01065"></a>01065     {
<a name="l01066"></a>01066         <span class="keywordflow">if</span> (it-&gt;id != rsb-&gt;id)
<a name="l01067"></a>01067             <span class="keywordflow">continue</span>;
<a name="l01068"></a>01068 
<a name="l01069"></a>01069         <a class="code" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSBList</a>.erase(it);
<a name="l01070"></a>01070         <span class="keywordflow">return</span>;
<a name="l01071"></a>01071     }
<a name="l01072"></a>01072     ASSERT(<span class="keyword">false</span>);
<a name="l01073"></a>01073 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0a010c3a16c0b7fbc37dec6368d9ad03"></a><!-- doxytag: member="RSVP::removeRsbFilter" ref="a0a010c3a16c0b7fbc37dec6368d9ad03" args="(ResvStateBlock_t *rsb, unsigned int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::removeRsbFilter </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rsb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>index</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01023">1023</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00518">processRSB_TIMEOUT()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01075">removePSB()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01024"></a>01024 {
<a name="l01025"></a>01025     ASSERT(rsb);
<a name="l01026"></a>01026     ASSERT(index &lt; rsb-&gt;FlowDescriptor.size());
<a name="l01027"></a>01027     ASSERT(rsb-&gt;inLabelVector.size() == rsb-&gt;FlowDescriptor.size());
<a name="l01028"></a>01028 
<a name="l01029"></a>01029     <span class="keywordtype">int</span> lspid = rsb-&gt;FlowDescriptor[index].Filter_Spec_Object.Lsp_Id;
<a name="l01030"></a>01030     <span class="keywordtype">int</span> inLabel = rsb-&gt;inLabelVector[index];
<a name="l01031"></a>01031 
<a name="l01032"></a>01032     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;removing filter (lspid=&quot;</span> &lt;&lt; lspid &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;
<a name="l01033"></a>01033 
<a name="l01034"></a>01034     <span class="keywordflow">if</span> (inLabel != -1)
<a name="l01035"></a>01035         <a class="code" href="class_r_s_v_p.html#ad137623f6252e3398084176dc311885f">lt</a>-&gt;<a class="code" href="class_l_i_b_table.html#aeaf750f1e663ddd1a5a6e76406ad8a14">removeLibEntry</a>(inLabel);
<a name="l01036"></a>01036 
<a name="l01037"></a>01037     rsb-&gt;FlowDescriptor.erase(rsb-&gt;FlowDescriptor.begin() + index);
<a name="l01038"></a>01038     rsb-&gt;inLabelVector.erase(rsb-&gt;inLabelVector.begin() + index);
<a name="l01039"></a>01039 
<a name="l01040"></a>01040     <a class="code" href="class_r_s_v_p.html#a269cab6db09df7ab124076afe9515a6f">scheduleCommitTimer</a>(rsb);
<a name="l01041"></a>01041 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a269cab6db09df7ab124076afe9515a6f"></a><!-- doxytag: member="RSVP::scheduleCommitTimer" ref="a269cab6db09df7ab124076afe9515a6f" args="(ResvStateBlock_t *rsbEle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::scheduleCommitTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rsbEle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02054">2054</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00686">preempt()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01636">processResvMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01023">removeRsbFilter()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00977">updateRSB()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02055"></a>02055 {
<a name="l02056"></a>02056     ASSERT(rsbEle);
<a name="l02057"></a>02057 
<a name="l02058"></a>02058     <span class="keywordflow">if</span> (rsbEle-&gt;commitTimerMsg-&gt;isScheduled())
<a name="l02059"></a>02059         cancelEvent(rsbEle-&gt;commitTimerMsg);
<a name="l02060"></a>02060 
<a name="l02061"></a>02061     scheduleAt(simTime(), rsbEle-&gt;commitTimerMsg);
<a name="l02062"></a>02062 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a67c62268de3b1946288d7f2c451649b0"></a><!-- doxytag: member="RSVP::scheduleRefreshTimer" ref="a67c62268de3b1946288d7f2c451649b0" args="(ResvStateBlock_t *rsbEle, simtime_t delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::scheduleRefreshTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rsbEle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02044">2044</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02045"></a>02045 {
<a name="l02046"></a>02046     ASSERT(rsbEle);
<a name="l02047"></a>02047 
<a name="l02048"></a>02048     <span class="keywordflow">if</span> (rsbEle-&gt;refreshTimerMsg-&gt;isScheduled())
<a name="l02049"></a>02049         cancelEvent(rsbEle-&gt;refreshTimerMsg);
<a name="l02050"></a>02050 
<a name="l02051"></a>02051     scheduleAt(simTime() + delay, rsbEle-&gt;refreshTimerMsg);
<a name="l02052"></a>02052 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a130138413206f03179fc63d56f4937cd"></a><!-- doxytag: member="RSVP::scheduleRefreshTimer" ref="a130138413206f03179fc63d56f4937cd" args="(PathStateBlock_t *psbEle, simtime_t delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::scheduleRefreshTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>psbEle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02016">2016</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00090">createPath()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00470">processPSB_TIMER()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01636">processResvMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00496">processRSB_REFRESH_TIMER()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01701">recoveryEvent()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00977">updateRSB()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02017"></a>02017 {
<a name="l02018"></a>02018     ASSERT(psbEle);
<a name="l02019"></a>02019 
<a name="l02020"></a>02020     <span class="keywordflow">if</span> (psbEle-&gt;OutInterface.isUnspecified())
<a name="l02021"></a>02021         <span class="keywordflow">return</span>;
<a name="l02022"></a>02022 
<a name="l02023"></a>02023     <span class="keywordflow">if</span> (!<a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#a31051946d209ff61ec712905ffe805c3">isLocalAddress</a>(psbEle-&gt;OutInterface))
<a name="l02024"></a>02024         <span class="keywordflow">return</span>;
<a name="l02025"></a>02025 
<a name="l02026"></a>02026     <span class="keywordflow">if</span> (psbEle-&gt;timerMsg-&gt;isScheduled())
<a name="l02027"></a>02027         cancelEvent(psbEle-&gt;timerMsg);
<a name="l02028"></a>02028 
<a name="l02029"></a>02029     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;scheduling PSB &quot;</span> &lt;&lt; psbEle-&gt;id &lt;&lt; <span class="stringliteral">&quot; refresh &quot;</span> &lt;&lt; (simTime() + delay) &lt;&lt; endl;
<a name="l02030"></a>02030 
<a name="l02031"></a>02031     scheduleAt(simTime() + delay, psbEle-&gt;timerMsg);
<a name="l02032"></a>02032 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8d7428629dfacb146e7b6c6608ae21d8"></a><!-- doxytag: member="RSVP::scheduleTimeout" ref="a8d7428629dfacb146e7b6c6608ae21d8" args="(ResvStateBlock_t *rsbEle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::scheduleTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rsbEle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02034">2034</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02035"></a>02035 {
<a name="l02036"></a>02036     ASSERT(rsbEle);
<a name="l02037"></a>02037 
<a name="l02038"></a>02038     <span class="keywordflow">if</span> (rsbEle-&gt;timeoutMsg-&gt;isScheduled())
<a name="l02039"></a>02039         cancelEvent(rsbEle-&gt;timeoutMsg);
<a name="l02040"></a>02040 
<a name="l02041"></a>02041     scheduleAt(simTime() + <a class="code" href="_r_s_v_p_8cc.html#a5740607a8ddf9dc4102c41cc52e17c04">RSB_TIMEOUT_INTERVAL</a>, rsbEle-&gt;timeoutMsg);
<a name="l02042"></a>02042 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac4faa2c6f7a952138fb145bc948c79eb"></a><!-- doxytag: member="RSVP::scheduleTimeout" ref="ac4faa2c6f7a952138fb145bc948c79eb" args="(PathStateBlock_t *psbEle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::scheduleTimeout </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>psbEle</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l02006">2006</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01636">processResvMsg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l02007"></a>02007 {
<a name="l02008"></a>02008     ASSERT(psbEle);
<a name="l02009"></a>02009 
<a name="l02010"></a>02010     <span class="keywordflow">if</span> (psbEle-&gt;timeoutMsg-&gt;isScheduled())
<a name="l02011"></a>02011         cancelEvent(psbEle-&gt;timeoutMsg);
<a name="l02012"></a>02012 
<a name="l02013"></a>02013     scheduleAt(simTime() + <a class="code" href="_r_s_v_p_8cc.html#a7efb4d5a346397fc90771fe2f8a78418">PSB_TIMEOUT_INTERVAL</a>, psbEle-&gt;timeoutMsg);
<a name="l02014"></a>02014 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a39d87f7b6317e6a613fd0dee613ab34e"></a><!-- doxytag: member="RSVP::sendPathErrorMessage" ref="a39d87f7b6317e6a613fd0dee613ab34e" args="(SessionObj_t session, SenderTemplateObj_t sender, SenderTspecObj_t tspec, IPAddress nextHop, int errCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::sendPathErrorMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_session_obj__t.html">SessionObj_t</a>&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a>&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_sender_tspec_obj__t.html">SenderTspecObj_t</a>&nbsp;</td>
          <td class="paramname"> <em>tspec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>nextHop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>errCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01974">1974</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01975"></a>01975 {
<a name="l01976"></a>01976     <a class="code" href="class_r_s_v_p_path_error.html">RSVPPathError</a> *msg = <span class="keyword">new</span> <a class="code" href="class_r_s_v_p_path_error.html">RSVPPathError</a>(<span class="stringliteral">&quot;PathErr&quot;</span>);
<a name="l01977"></a>01977     msg-&gt;<a class="code" href="class_r_s_v_p_path_error___base.html#a6fa03e4ff28d7d229100154241c90a9f">setErrorCode</a>(errCode);
<a name="l01978"></a>01978     msg-&gt;<a class="code" href="class_r_s_v_p_path_error___base.html#af54687c29301e074234b81fcf717bb10">setErrorNode</a>(<a class="code" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">routerId</a>);
<a name="l01979"></a>01979     msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#abd2b435059f110007d9009c7751b86de">setSession</a>(session);
<a name="l01980"></a>01980     msg-&gt;<a class="code" href="class_r_s_v_p_path_error.html#a17794a1cc352ce3b51245b7d40d19809">setSenderTemplate</a>(sender);
<a name="l01981"></a>01981     msg-&gt;<a class="code" href="class_r_s_v_p_path_error.html#a3f681c6eec986afee423c8f144c16abe">setSenderTspec</a>(tspec);
<a name="l01982"></a>01982 
<a name="l01983"></a>01983     <span class="keywordtype">int</span> length = 52;
<a name="l01984"></a>01984 
<a name="l01985"></a>01985     <span class="comment">// see comment elsewhere (in TED.cc)</span>
<a name="l01986"></a>01986     length /= 10;
<a name="l01987"></a>01987 
<a name="l01988"></a>01988     msg-&gt;setByteLength(length);
<a name="l01989"></a>01989 
<a name="l01990"></a>01990     <a class="code" href="class_r_s_v_p.html#afe54ffd483063082234277edce5e792d">sendToIP</a>(msg, nextHop);
<a name="l01991"></a>01991 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aede65339bca2fcd134158dd9784100e2"></a><!-- doxytag: member="RSVP::sendPathErrorMessage" ref="aede65339bca2fcd134158dd9784100e2" args="(PathStateBlock_t *psb, int errCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::sendPathErrorMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_path_state_block__t.html">PathStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>psb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>errCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01969">1969</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00409">processHELLO_TIMEOUT()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01970"></a>01970 {
<a name="l01971"></a>01971     <a class="code" href="class_r_s_v_p.html#aede65339bca2fcd134158dd9784100e2">sendPathErrorMessage</a>(psb-&gt;Session_Object, psb-&gt;Sender_Template_Object, psb-&gt;Sender_Tspec_Object, psb-&gt;Previous_Hop_Address, errCode);
<a name="l01972"></a>01972 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a472ceb4e889ba0fc93649dff8e5d549a"></a><!-- doxytag: member="RSVP::sendPathNotify" ref="a472ceb4e889ba0fc93649dff8e5d549a" args="(int handler, const SessionObj_t &amp;session, const SenderTemplateObj_t &amp;sender, int status, simtime_t delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::sendPathNotify </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00387">387</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00090">createPath()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01766">pathProblem()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01461">processPathErrMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00186">readTrafficSessionFromXML()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00388"></a>00388 {
<a name="l00389"></a>00389     <span class="keywordflow">if</span> (handler &lt; 0)
<a name="l00390"></a>00390         <span class="keywordflow">return</span>; <span class="comment">// handler not specified</span>
<a name="l00391"></a>00391 
<a name="l00392"></a>00392     cModule *mod = simulation.getModule(handler);
<a name="l00393"></a>00393 
<a name="l00394"></a>00394     <span class="keywordflow">if</span> (!mod)
<a name="l00395"></a>00395         <span class="keywordflow">return</span>; <span class="comment">// handler no longer exists</span>
<a name="l00396"></a>00396 
<a name="l00397"></a>00397     <a class="code" href="class_path_notify_msg.html">PathNotifyMsg</a> *msg = <span class="keyword">new</span> <a class="code" href="class_path_notify_msg.html">PathNotifyMsg</a>(<span class="stringliteral">&quot;path notify&quot;</span>);
<a name="l00398"></a>00398 
<a name="l00399"></a>00399     msg-&gt;<a class="code" href="class_path_notify_msg.html#ae9893896b9fd6107607d288c999cf682">setSession</a>(session);
<a name="l00400"></a>00400     msg-&gt;<a class="code" href="class_path_notify_msg.html#a85adfe8dae5560dc0b01cfb43293fcca">setSender</a>(sender);
<a name="l00401"></a>00401     msg-&gt;<a class="code" href="class_path_notify_msg.html#aa1075e94a9e635356e6cc77495197d8c">setStatus</a>(status);
<a name="l00402"></a>00402 
<a name="l00403"></a>00403     <span class="keywordflow">if</span> (handler == getId())
<a name="l00404"></a>00404         scheduleAt(simTime() + delay, msg);
<a name="l00405"></a>00405     <span class="keywordflow">else</span>
<a name="l00406"></a>00406         sendDirect(msg, delay, 0, mod, <span class="stringliteral">&quot;from_rsvp&quot;</span>);
<a name="l00407"></a>00407 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab1e3e1ec1c7be3d59e249a147f3f3862"></a><!-- doxytag: member="RSVP::sendPathTearMessage" ref="ab1e3e1ec1c7be3d59e249a147f3f3862" args="(IPAddress peerIP, const SessionObj_t &amp;session, const SenderTemplateObj_t &amp;sender, IPAddress LIH, IPAddress NHOP, bool force)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::sendPathTearMessage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>peerIP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_session_obj__t.html">SessionObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>session</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_sender_template_obj__t.html">SenderTemplateObj_t</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>sender</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>LIH</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>NHOP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>force</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01951">1951</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01861">delSession()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01766">pathProblem()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01510">processPathTearMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00479">processPSB_TIMEOUT()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01952"></a>01952 {
<a name="l01953"></a>01953     <a class="code" href="class_r_s_v_p_path_tear.html">RSVPPathTear</a> *msg = <span class="keyword">new</span> <a class="code" href="class_r_s_v_p_path_tear.html">RSVPPathTear</a>(<span class="stringliteral">&quot;PathTear&quot;</span>);
<a name="l01954"></a>01954     msg-&gt;<a class="code" href="class_r_s_v_p_path_tear___base.html#a5f089e57e977289d364d7ce544bfc0b0">setSenderTemplate</a>(sender);
<a name="l01955"></a>01955     msg-&gt;<a class="code" href="class_r_s_v_p_packet___base.html#abd2b435059f110007d9009c7751b86de">setSession</a>(session);
<a name="l01956"></a>01956     <a class="code" href="struct_rsvp_hop_obj__t.html">RsvpHopObj_t</a> hop;
<a name="l01957"></a>01957     hop.<a class="code" href="struct_rsvp_hop_obj__t.html#a210e57bcf7bc0a3b0792271e538ba766">Logical_Interface_Handle</a> = LIH;
<a name="l01958"></a>01958     hop.<a class="code" href="struct_rsvp_hop_obj__t.html#a663f10df0504d1ff6f8e6f9caa1ddf3f">Next_Hop_Address</a> = NHOP;
<a name="l01959"></a>01959     msg-&gt;<a class="code" href="class_r_s_v_p_path_tear___base.html#a9941c5c1547413283b9cf0de2808ca9e">setHop</a>(hop);
<a name="l01960"></a>01960     msg-&gt;<a class="code" href="class_r_s_v_p_path_tear___base.html#af75a272ccf718d9171c2f2155e9535c4">setForce</a>(force);
<a name="l01961"></a>01961 
<a name="l01962"></a>01962     <span class="keywordtype">int</span> length = 44;
<a name="l01963"></a>01963 
<a name="l01964"></a>01964     msg-&gt;setByteLength(length);
<a name="l01965"></a>01965 
<a name="l01966"></a>01966     <a class="code" href="class_r_s_v_p.html#afe54ffd483063082234277edce5e792d">sendToIP</a>(msg, peerIP);
<a name="l01967"></a>01967 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afe54ffd483063082234277edce5e792d"></a><!-- doxytag: member="RSVP::sendToIP" ref="afe54ffd483063082234277edce5e792d" args="(cMessage *msg, IPAddress destAddr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::sendToIP </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>destAddr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l01994">1994</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00441">processHELLO_TIMER()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01461">processPathErrMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00562">refreshPath()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00625">refreshResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01974">sendPathErrorMessage()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01951">sendPathTearMessage()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01995"></a>01995 {
<a name="l01996"></a>01996     <a class="code" href="class_i_p_control_info.html">IPControlInfo</a> *controlInfo = <span class="keyword">new</span> <a class="code" href="class_i_p_control_info.html">IPControlInfo</a>();
<a name="l01997"></a>01997     controlInfo-&gt;<a class="code" href="class_i_p_control_info___base.html#a135b0ce268713460864e7291dbe6eb5c">setDestAddr</a>(destAddr);
<a name="l01998"></a>01998     controlInfo-&gt;<a class="code" href="class_i_p_control_info___base.html#ac2a2013d2125ebfcbdd6ea9943eabd41">setProtocol</a>(<a class="code" href="_i_p_protocol_id__m_8h.html#a4297c2f400ba53cf6866e6d45bc81b70a8f7b8dd704fec55906379821c2814f46">IP_PROT_RSVP</a>);
<a name="l01999"></a>01999     msg-&gt;setControlInfo(controlInfo);
<a name="l02000"></a>02000 
<a name="l02001"></a>02001     msg-&gt;addPar(<span class="stringliteral">&quot;color&quot;</span>) = <a class="code" href="_r_s_v_p_packet_8h.html#a332ea993b9048da86ef057aa6b307bce">RSVP_TRAFFIC</a>;
<a name="l02002"></a>02002 
<a name="l02003"></a>02003     send(msg, <span class="stringliteral">&quot;ipOut&quot;</span>);
<a name="l02004"></a>02004 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a56c68314c8b1e8b82370416d2b2f4785"></a><!-- doxytag: member="RSVP::setupHello" ref="a56c68314c8b1e8b82370416d2b2f4785" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::setupHello </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00323">323</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00324"></a>00324 {
<a name="l00325"></a>00325     <a class="code" href="class_r_s_v_p.html#af5bdcd75e4a984969f22119c8cb4d89b">helloInterval</a> = par(<span class="stringliteral">&quot;helloInterval&quot;</span>).doubleValue();
<a name="l00326"></a>00326     <a class="code" href="class_r_s_v_p.html#a5873d10d15860ed9e24e941f851f4b71">helloTimeout</a> = par(<span class="stringliteral">&quot;helloTimeout&quot;</span>).doubleValue();
<a name="l00327"></a>00327 
<a name="l00328"></a>00328     cStringTokenizer tokenizer(par(<span class="stringliteral">&quot;peers&quot;</span>));
<a name="l00329"></a>00329     <span class="keyword">const</span> <span class="keywordtype">char</span> *token;
<a name="l00330"></a>00330     <span class="keywordflow">while</span> ((token = tokenizer.nextToken())!=NULL)
<a name="l00331"></a>00331     {
<a name="l00332"></a>00332         ASSERT(<a class="code" href="class_r_s_v_p.html#a52533534d5e3afbfc42030440071a5d3">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a8ad86ee823d6200b4f558383b39af658">getInterfaceByName</a>(token));
<a name="l00333"></a>00333 
<a name="l00334"></a>00334         <a class="code" href="class_i_p_address.html">IPAddress</a> peer = <a class="code" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">tedmod</a>-&gt;<a class="code" href="class_t_e_d.html#ab55f38433f365eb6411ce8d0caf20ca7">getPeerByLocalAddress</a>(<a class="code" href="class_r_s_v_p.html#a52533534d5e3afbfc42030440071a5d3">ift</a>-&gt;<a class="code" href="class_i_interface_table.html#a8ad86ee823d6200b4f558383b39af658">getInterfaceByName</a>(token)-&gt;<a class="code" href="class_interface_entry.html#ad47857e772397cc2d00de3a8cf464993">ipv4Data</a>()-&gt;<a class="code" href="class_i_pv4_interface_data.html#aec8ebefd03acad479ac89d31d7228331">getIPAddress</a>());
<a name="l00335"></a>00335 
<a name="l00336"></a>00336         HelloState_t h;
<a name="l00337"></a>00337 
<a name="l00338"></a>00338         h.timer = <span class="keyword">new</span> <a class="code" href="class_hello_timer_msg.html">HelloTimerMsg</a>(<span class="stringliteral">&quot;hello timer&quot;</span>);
<a name="l00339"></a>00339         h.timer-&gt;setPeer(peer);
<a name="l00340"></a>00340 
<a name="l00341"></a>00341         h.timeout = <span class="keyword">new</span> <a class="code" href="class_hello_timeout_msg.html">HelloTimeoutMsg</a>(<span class="stringliteral">&quot;hello timeout&quot;</span>);
<a name="l00342"></a>00342         h.timeout-&gt;setPeer(peer);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344         h.peer = peer;
<a name="l00345"></a>00345 
<a name="l00346"></a>00346         <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#af5bdcd75e4a984969f22119c8cb4d89b">helloInterval</a> &gt; 0.0)
<a name="l00347"></a>00347         {
<a name="l00348"></a>00348             <span class="comment">// peer is down until we know he is ok</span>
<a name="l00349"></a>00349 
<a name="l00350"></a>00350             h.ok = <span class="keyword">false</span>;
<a name="l00351"></a>00351         }
<a name="l00352"></a>00352         <span class="keywordflow">else</span>
<a name="l00353"></a>00353         {
<a name="l00354"></a>00354             <span class="comment">// don&apos;t use HELLO at all, consider all peers running all the time</span>
<a name="l00355"></a>00355 
<a name="l00356"></a>00356             h.ok = <span class="keyword">true</span>;
<a name="l00357"></a>00357         }
<a name="l00358"></a>00358 
<a name="l00359"></a>00359         <a class="code" href="class_r_s_v_p.html#a1070041b2d075e1d4c8cbf18f0fe2faf">HelloList</a>.push_back(h);
<a name="l00360"></a>00360 
<a name="l00361"></a>00361         <span class="keywordflow">if</span> (<a class="code" href="class_r_s_v_p.html#af5bdcd75e4a984969f22119c8cb4d89b">helloInterval</a> &gt; 0.0)
<a name="l00362"></a>00362         {
<a name="l00363"></a>00363             <a class="code" href="class_r_s_v_p.html#ad50bb2638d5ca3d9bc42b3364cffabbb">startHello</a>(peer, exponential(<a class="code" href="class_r_s_v_p.html#af5bdcd75e4a984969f22119c8cb4d89b">helloInterval</a>));
<a name="l00364"></a>00364         }
<a name="l00365"></a>00365     }
<a name="l00366"></a>00366 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad50bb2638d5ca3d9bc42b3364cffabbb"></a><!-- doxytag: member="RSVP::startHello" ref="ad50bb2638d5ca3d9bc42b3364cffabbb" args="(IPAddress peer, simtime_t delay)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::startHello </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>delay</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00368">368</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00323">setupHello()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00369"></a>00369 {
<a name="l00370"></a>00370     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;scheduling hello start in &quot;</span> &lt;&lt; delay &lt;&lt; <span class="stringliteral">&quot; seconds&quot;</span> &lt;&lt; endl;
<a name="l00371"></a>00371 
<a name="l00372"></a>00372     HelloState_t *h = <a class="code" href="class_r_s_v_p.html#a04c45fcf64189ff23bc0233639956459">findHello</a>(peer);
<a name="l00373"></a>00373     ASSERT(h);
<a name="l00374"></a>00374 
<a name="l00375"></a>00375     ASSERT(!h-&gt;timer-&gt;isScheduled());
<a name="l00376"></a>00376     ASSERT(!h-&gt;timeout-&gt;isScheduled());
<a name="l00377"></a>00377     ASSERT(!h-&gt;ok);
<a name="l00378"></a>00378 
<a name="l00379"></a>00379     h-&gt;srcInstance = ++<a class="code" href="class_r_s_v_p.html#a9cd7607aca27a1351bb82ddc7f37937f">maxSrcInstance</a>;
<a name="l00380"></a>00380     h-&gt;dstInstance = 0;
<a name="l00381"></a>00381     h-&gt;request = <span class="keyword">true</span>;
<a name="l00382"></a>00382     h-&gt;ack = <span class="keyword">false</span>;
<a name="l00383"></a>00383 
<a name="l00384"></a>00384     scheduleAt(simTime() + delay, h-&gt;timer);
<a name="l00385"></a>00385 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2d374e27ad177a0e0e0500deaf1affb7"></a><!-- doxytag: member="RSVP::updateRSB" ref="a2d374e27ad177a0e0e0500deaf1affb7" args="(ResvStateBlock_t *rsb, RSVPResvMsg *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RSVP::updateRSB </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_s_v_p_1_1_resv_state_block__t.html">ResvStateBlock_t</a> *&nbsp;</td>
          <td class="paramname"> <em>rsb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_r_s_v_p_resv_msg.html">RSVPResvMsg</a> *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8cc_source.html#l00977">977</a> of file <a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01636">processResvMsg()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00978"></a>00978 {
<a name="l00979"></a>00979     ASSERT(rsb);
<a name="l00980"></a>00980 
<a name="l00981"></a>00981     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>().size(); k++)
<a name="l00982"></a>00982     {
<a name="l00983"></a>00983         <a class="code" href="struct_flow_descriptor__t.html">FlowDescriptor_t</a> flow = msg-&gt;<a class="code" href="class_r_s_v_p_resv_msg___base.html#a8345fb7ba0f007262882bfbaa6271bfa">getFlowDescriptor</a>()[k];
<a name="l00984"></a>00984 
<a name="l00985"></a>00985         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m;
<a name="l00986"></a>00986         <span class="keywordflow">for</span> (m = 0; m &lt; rsb-&gt;FlowDescriptor.size(); m++)
<a name="l00987"></a>00987         {
<a name="l00988"></a>00988             <span class="keywordflow">if</span> (rsb-&gt;FlowDescriptor[m].Filter_Spec_Object == flow.<a class="code" href="struct_flow_descriptor__t.html#a127df251ef2d7b9da5f28c96b5bfdfef">Filter_Spec_Object</a>)
<a name="l00989"></a>00989             {
<a name="l00990"></a>00990                 <span class="comment">// sender found</span>
<a name="l00991"></a>00991                 <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;sender (lspid=&quot;</span> &lt;&lt; flow.<a class="code" href="struct_flow_descriptor__t.html#a127df251ef2d7b9da5f28c96b5bfdfef">Filter_Spec_Object</a>.<a class="code" href="struct_sender_template_obj__t.html#a88339dc936e3584d8aeafaa892651aca">Lsp_Id</a> &lt;&lt; <span class="stringliteral">&quot;) found in RSB&quot;</span> &lt;&lt; endl;
<a name="l00992"></a>00992 
<a name="l00993"></a>00993                 <span class="keywordflow">if</span> (rsb-&gt;FlowDescriptor[m].label != flow.<a class="code" href="struct_flow_descriptor__t.html#a1c1607c17ed24a30b186f7648248fb58">label</a>)
<a name="l00994"></a>00994                 {
<a name="l00995"></a>00995                     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;label modified (new label=&quot;</span>  &lt;&lt; flow.<a class="code" href="struct_flow_descriptor__t.html#a1c1607c17ed24a30b186f7648248fb58">label</a> &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; endl;
<a name="l00996"></a>00996 
<a name="l00997"></a>00997                     rsb-&gt;FlowDescriptor[m].label = flow.<a class="code" href="struct_flow_descriptor__t.html#a1c1607c17ed24a30b186f7648248fb58">label</a>;
<a name="l00998"></a>00998 
<a name="l00999"></a>00999                     <span class="comment">// label must be updated in lib table</span>
<a name="l01000"></a>01000 
<a name="l01001"></a>01001                     <a class="code" href="class_r_s_v_p.html#a269cab6db09df7ab124076afe9515a6f">scheduleCommitTimer</a>(rsb);
<a name="l01002"></a>01002                 }
<a name="l01003"></a>01003 
<a name="l01004"></a>01004                 <span class="keywordflow">break</span>;
<a name="l01005"></a>01005             }
<a name="l01006"></a>01006         }
<a name="l01007"></a>01007         <span class="keywordflow">if</span> (m == rsb-&gt;FlowDescriptor.size())
<a name="l01008"></a>01008         {
<a name="l01009"></a>01009             <span class="comment">// sender not found</span>
<a name="l01010"></a>01010             <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;sender (lspid=&quot;</span> &lt;&lt; flow.<a class="code" href="struct_flow_descriptor__t.html#a127df251ef2d7b9da5f28c96b5bfdfef">Filter_Spec_Object</a>.<a class="code" href="struct_sender_template_obj__t.html#a88339dc936e3584d8aeafaa892651aca">Lsp_Id</a> &lt;&lt; <span class="stringliteral">&quot;) not found in RSB, adding...&quot;</span> &lt;&lt; endl;
<a name="l01011"></a>01011 
<a name="l01012"></a>01012             rsb-&gt;FlowDescriptor.push_back(flow);
<a name="l01013"></a>01013             rsb-&gt;inLabelVector.push_back(-1);
<a name="l01014"></a>01014 
<a name="l01015"></a>01015             <span class="comment">// resv is new and must be forwarded</span>
<a name="l01016"></a>01016 
<a name="l01017"></a>01017             <a class="code" href="class_r_s_v_p.html#a269cab6db09df7ab124076afe9515a6f">scheduleCommitTimer</a>(rsb);
<a name="l01018"></a>01018             <a class="code" href="class_r_s_v_p.html#a130138413206f03179fc63d56f4937cd">scheduleRefreshTimer</a>(rsb, 0.0);
<a name="l01019"></a>01019         }
<a name="l01020"></a>01020     }
<a name="l01021"></a>01021 }
</pre></div></p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="aab8856a7428469eb2467b9a30355b2fd"></a><!-- doxytag: member="RSVP::SimpleClassifier" ref="aab8856a7428469eb2467b9a30355b2fd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_simple_classifier.html">SimpleClassifier</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00275">275</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="af5bdcd75e4a984969f22119c8cb4d89b"></a><!-- doxytag: member="RSVP::helloInterval" ref="af5bdcd75e4a984969f22119c8cb4d89b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="class_r_s_v_p.html#af5bdcd75e4a984969f22119c8cb4d89b">RSVP::helloInterval</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00168">168</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00441">processHELLO_TIMER()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00323">setupHello()</a>.</p>

</div>
</div>
<a class="anchor" id="a1070041b2d075e1d4c8cbf18f0fe2faf"></a><!-- doxytag: member="RSVP::HelloList" ref="a1070041b2d075e1d4c8cbf18f0fe2faf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_s_v_p.html#ab37d8b4656962b40e0e3d4ead1b09652">HelloVector</a> <a class="el" href="class_r_s_v_p.html#a1070041b2d075e1d4c8cbf18f0fe2faf">RSVP::HelloList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00190">190</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l02135">findHello()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00323">setupHello()</a>.</p>

</div>
</div>
<a class="anchor" id="a5873d10d15860ed9e24e941f851f4b71"></a><!-- doxytag: member="RSVP::helloTimeout" ref="a5873d10d15860ed9e24e941f851f4b71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="class_r_s_v_p.html#a5873d10d15860ed9e24e941f851f4b71">RSVP::helloTimeout</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00169">169</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01368">processHelloMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00323">setupHello()</a>.</p>

</div>
</div>
<a class="anchor" id="a52533534d5e3afbfc42030440071a5d3"></a><!-- doxytag: member="RSVP::ift" ref="a52533534d5e3afbfc42030440071a5d3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_interface_table.html">IInterfaceTable</a>* <a class="el" href="class_r_s_v_p.html#a52533534d5e3afbfc42030440071a5d3">RSVP::ift</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00175">175</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00323">setupHello()</a>.</p>

</div>
</div>
<a class="anchor" id="ad137623f6252e3398084176dc311885f"></a><!-- doxytag: member="RSVP::lt" ref="ad137623f6252e3398084176dc311885f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_l_i_b_table.html">LIBTable</a>* <a class="el" href="class_r_s_v_p.html#ad137623f6252e3398084176dc311885f">RSVP::lt</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00176">176</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01023">removeRsbFilter()</a>.</p>

</div>
</div>
<a class="anchor" id="a18c51012884262a7a68bc2ef3fee90a1"></a><!-- doxytag: member="RSVP::maxPsbId" ref="a18c51012884262a7a68bc2ef3fee90a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_s_v_p.html#a18c51012884262a7a68bc2ef3fee90a1">RSVP::maxPsbId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00181">181</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01235">createIngressPSB()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01189">createPSB()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a8df043f6a88c29e65a22c37ec7294ff0"></a><!-- doxytag: member="RSVP::maxRsbId" ref="a8df043f6a88c29e65a22c37ec7294ff0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_s_v_p.html#a8df043f6a88c29e65a22c37ec7294ff0">RSVP::maxRsbId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00182">182</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01283">createEgressRSB()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00941">createRSB()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a9cd7607aca27a1351bb82ddc7f37937f"></a><!-- doxytag: member="RSVP::maxSrcInstance" ref="a9cd7607aca27a1351bb82ddc7f37937f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_s_v_p.html#a9cd7607aca27a1351bb82ddc7f37937f">RSVP::maxSrcInstance</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00184">184</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01368">processHelloMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00368">startHello()</a>.</p>

</div>
</div>
<a class="anchor" id="a0f1e35ac657ccaeca38a235d1b4a3414"></a><!-- doxytag: member="RSVP::nb" ref="a0f1e35ac657ccaeca38a235d1b4a3414" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_notification_board.html">NotificationBoard</a>* <a class="el" href="class_r_s_v_p.html#a0f1e35ac657ccaeca38a235d1b4a3414">RSVP::nb</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00177">177</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00757">announceLinkChange()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6b5ffa8b42538c5c55d308412263bd3"></a><!-- doxytag: member="RSVP::PSBList" ref="ac6b5ffa8b42538c5c55d308412263bd3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_s_v_p.html#aa2a110dcc9fd3eb0f59fe5d4be909961">PSBVector</a> <a class="el" href="class_r_s_v_p.html#ac6b5ffa8b42538c5c55d308412263bd3">RSVP::PSBList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00188">188</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l01235">createIngressPSB()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01189">createPSB()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l02091">findPSB()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l02108">findPsbById()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00409">processHELLO_TIMEOUT()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01510">processPathTearMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01701">recoveryEvent()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00597">refreshResv()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01075">removePSB()</a>.</p>

</div>
</div>
<a class="anchor" id="a469e284ac5acfa70db603d70691b06ef"></a><!-- doxytag: member="RSVP::retryInterval" ref="a469e284ac5acfa70db603d70691b06ef" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="class_r_s_v_p.html#a469e284ac5acfa70db603d70691b06ef">RSVP::retryInterval</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00170">170</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00090">createPath()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01766">pathProblem()</a>.</p>

</div>
</div>
<a class="anchor" id="ad26576072a881df7550e35ea94c2f955"></a><!-- doxytag: member="RSVP::routerId" ref="ad26576072a881df7550e35ea94c2f955" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_p_address.html">IPAddress</a> <a class="el" href="class_r_s_v_p.html#ad26576072a881df7550e35ea94c2f955">RSVP::routerId</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00186">186</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01235">createIngressPSB()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01861">delSession()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01766">pathProblem()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00409">processHELLO_TIMEOUT()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01461">processPathErrMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01510">processPathTearMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00479">processPSB_TIMEOUT()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00186">readTrafficSessionFromXML()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01701">recoveryEvent()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00562">refreshPath()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00625">refreshResv()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01974">sendPathErrorMessage()</a>.</p>

</div>
</div>
<a class="anchor" id="a44fd3dc334665b246ce0a555cb35e34f"></a><!-- doxytag: member="RSVP::rpct" ref="a44fd3dc334665b246ce0a555cb35e34f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_r_s_v_p_classifier.html">IRSVPClassifier</a>* <a class="el" href="class_r_s_v_p.html#a44fd3dc334665b246ce0a555cb35e34f">RSVP::rpct</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00179">179</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="a3657146b277de8157c443afc3d986c0e"></a><!-- doxytag: member="RSVP::RSBList" ref="a3657146b277de8157c443afc3d986c0e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_s_v_p.html#a0f8968a708f4b7d59fe5d714611df147">RSBVector</a> <a class="el" href="class_r_s_v_p.html#a3657146b277de8157c443afc3d986c0e">RSVP::RSBList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00189">189</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01283">createEgressRSB()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00941">createRSB()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00534">doCACCheck()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l02064">findRSB()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l02122">findRsbById()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00686">preempt()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01636">processResvMsg()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l01043">removeRSB()</a>.</p>

</div>
</div>
<a class="anchor" id="a9f89cdfc58368bf8e0c491b7da2dd113"></a><!-- doxytag: member="RSVP::rt" ref="a9f89cdfc58368bf8e0c491b7da2dd113" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_i_routing_table.html">IRoutingTable</a>* <a class="el" href="class_r_s_v_p.html#a9f89cdfc58368bf8e0c491b7da2dd113">RSVP::rt</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00174">174</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01113">evalNextHopInterface()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>.</p>

</div>
</div>
<a class="anchor" id="ac21c730ad1bba1c6b90cf5b784d1aad5"></a><!-- doxytag: member="RSVP::tedmod" ref="ac21c730ad1bba1c6b90cf5b784d1aad5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_t_e_d.html">TED</a>* <a class="el" href="class_r_s_v_p.html#ac21c730ad1bba1c6b90cf5b784d1aad5">RSVP::tedmod</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00173">173</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00720">allocateResource()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00765">commitResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01189">createPSB()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01861">delSession()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00534">doCACCheck()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01113">evalNextHopInterface()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00050">initialize()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01766">pathProblem()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00686">preempt()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00409">processHELLO_TIMEOUT()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01368">processHelloMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01571">processPathMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01510">processPathTearMsg()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00479">processPSB_TIMEOUT()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00518">processRSB_TIMEOUT()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01701">recoveryEvent()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00562">refreshPath()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l00597">refreshResv()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l02016">scheduleRefreshTimer()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00323">setupHello()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a6fd79a633dacf8dad56e233d613a8f"></a><!-- doxytag: member="RSVP::traffic" ref="a4a6fd79a633dacf8dad56e233d613a8f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="struct_r_s_v_p_1_1traffic__session__t.html">traffic_session_t</a>&gt; <a class="el" href="class_r_s_v_p.html#a4a6fd79a633dacf8dad56e233d613a8f">RSVP::traffic</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_s_v_p_8h_source.html#l00064">64</a> of file <a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a>.</p>

<p>Referenced by <a class="el" href="_r_s_v_p_8cc_source.html#l00090">createPath()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01861">delSession()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01840">findSession()</a>, <a class="el" href="_r_s_v_p_8cc_source.html#l01766">pathProblem()</a>, and <a class="el" href="_r_s_v_p_8cc_source.html#l00186">readTrafficSessionFromXML()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_r_s_v_p_8h_source.html">RSVP.h</a></li>
<li><a class="el" href="_r_s_v_p_8cc_source.html">RSVP.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Mar 23 17:08:35 2010 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
