<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: InterfaceTable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>InterfaceTable Class Reference</h1><!-- doxytag: class="InterfaceTable" --><!-- doxytag: inherits="IInterfaceTable,INotifiable" -->
<p><code>#include &lt;<a class="el" href="_interface_table_8h_source.html">InterfaceTable.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for InterfaceTable:</div>
<div class="dynsection">
 <div class="center">
  <img src="class_interface_table.gif" usemap="#InterfaceTable_map" alt=""/>
  <map id="InterfaceTable_map" name="InterfaceTable_map">
<area href="class_i_interface_table.html" alt="IInterfaceTable" shape="rect" coords="0,0,96,24"/>
<area href="class_i_notifiable.html" alt="INotifiable" shape="rect" coords="106,0,202,24"/>
</map>
 </div>
</div>

<p><a href="class_interface_table-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#acdc576cd5a79ac52810ef94fb5b02f8a">InterfaceTable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#ad3ff50794df60447ba15026ae82464e0">~InterfaceTable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#abde330e4adcc5a7495f89b8cd6154275">getFullPath</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a6bd59099de1b3cf19df5038b83ec75b9">receiveChangeNotification</a> (int category, const cPolymorphic *details)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#ae67777f04021431cc1d15ae200920836">addInterface</a> (<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *entry, cModule *ifmod)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a59bf4ac426a9fd86c5ce4cb2c9fcc16e">deleteInterface</a> (<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#aa7bbc08564b199d7820f9fb5dafedead">getNumInterfaces</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a20068628e72377ed78735e6b008a0a9f">getInterface</a> (int pos)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a3acb58a75de2e7d443c6abd0e7bd2548">getInterfaceById</a> (int id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a281b09bc65fc43109563bff6d9e55995">getInterfaceByNodeOutputGateId</a> (int id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#ad6eb1529b3d8ed007feea079e1f5d9cd">getInterfaceByNodeInputGateId</a> (int id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#abc0aa1cd6740d6808c09c3969969bd6f">getInterfaceByNetworkLayerGateIndex</a> (int index)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a3f953c2e608d84f14cfcaaf32ff6cbe1">getInterfaceByName</a> (const char *name)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a60849d96d27149120445ee5429462d91">getFirstLoopbackInterface</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::vector<br class="typebreak"/>
&lt; <a class="el" href="class_interface_entry.html">InterfaceEntry</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a3ffd914a1c868644a125750bf7bea75c">InterfaceVector</a></td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a84ad7ffc48e1d42ca93284fe033823b0">updateDisplayString</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#ae2f1d4bb08e61dfa31c908b2c9337d11">discoverConnectingGates</a> (<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *entry, cModule *ifmod)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a56f4588cd3260e1ba58b9af6b812d6ae">interfaceChanged</a> (<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *entry, int category)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#ad5da237cf1d0ab4de1ead24a6fa930f9">invalidateTmpInterfaceList</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a9f964712f929db684d0c6e5febc658f2">numInitStages</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#ab92373cbd67155557293fbccc2ac1466">initialize</a> (int stage)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a101a52971a1de7df6479a3412ec5940c">handleMessage</a> (cMessage *)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_notification_board.html">NotificationBoard</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a4a813da979ea8934dd9d1bf7f82831b0">nb</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_interface_table.html#a3ffd914a1c868644a125750bf7bea75c">InterfaceVector</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a735aed31ccdb2616a012c3a36ae812a3">tmpNumInterfaces</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> **&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_interface_table.html#a386b4b375178b5cbb5de18cdcb74042b">tmpInterfaceList</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Represents the interface table. This object has one instance per host or router. It has methods to manage the interface table, so one can access functionality similar to the "ifconfig" command.</p>
<p>See the NED documentation for general overview.</p>
<p>This is a simple module without gates, it requires function calls to it (message handling does nothing). Methods are provided for reading and updating the interface table.</p>
<p>Interfaces are dynamically registered: at the start of the simulation, every L2 module adds its own <a class="el" href="class_interface_entry.html">InterfaceEntry</a> to the table; after that, IPv4's <a class="el" href="class_i_routing_table.html">IRoutingTable</a> and IPv6's <a class="el" href="class_routing_table6.html">RoutingTable6</a> (an possibly, further L3 protocols) add protocol-specific data on each <a class="el" href="class_interface_entry.html">InterfaceEntry</a> (see <a class="el" href="class_i_pv4_interface_data.html">IPv4InterfaceData</a>, <a class="el" href="class_i_pv6_interface_data.html">IPv6InterfaceData</a>, and <a class="el" href="class_interface_entry.html#a7b2e8a8e6ee3bab717b90a2068f550f1">InterfaceEntry::setIPv4Data()</a>, <a class="el" href="class_interface_entry.html#a1a2550df394a766847d0ad89aa1a9349">InterfaceEntry::setIPv6Data()</a>)</p>
<p>Interfaces are represented by <a class="el" href="class_interface_entry.html">InterfaceEntry</a> objects.</p>
<p>When interfaces need to be reliably and efficiently identified from other modules, interfaceIds should be used. They are better suited than pointers because when an interface gets removed (see <a class="el" href="class_interface_table.html#a59bf4ac426a9fd86c5ce4cb2c9fcc16e">deleteInterface()</a>), it is often impossible/impractical to invalidate all pointers to it, and also because pointers are not necessarily unique (a new <a class="el" href="class_interface_entry.html">InterfaceEntry</a> may get allocated exactly at the address of a previously deleted one). Interface Ids are unique (Ids of removed interfaces are not issued again), stale Ids can be detected, and they are also invariant to insertion/deletion.</p>
<p>Clients can get notified about interface changes by subscribing to the following notifications in <a class="el" href="class_notification_board.html">NotificationBoard</a>: NF_INTERFACE_CREATED, NF_INTERFACE_DELETED, NF_INTERFACE_STATE_CHANGED, NF_INTERFACE_CONFIG_CHANGED. State change gets fired for up/down events; all other changes fire as config change.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_interface_entry.html">InterfaceEntry</a> </dd></dl>

<p>Definition at line <a class="el" href="_interface_table_8h_source.html#l00066">66</a> of file <a class="el" href="_interface_table_8h_source.html">InterfaceTable.h</a>.</p>
<hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a3ffd914a1c868644a125750bf7bea75c"></a><!-- doxytag: member="InterfaceTable::InterfaceVector" ref="a3ffd914a1c868644a125750bf7bea75c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::vector&lt;<a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&gt; <a class="el" href="class_interface_table.html#a3ffd914a1c868644a125750bf7bea75c">InterfaceTable::InterfaceVector</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8h_source.html#l00073">73</a> of file <a class="el" href="_interface_table_8h_source.html">InterfaceTable.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="acdc576cd5a79ac52810ef94fb5b02f8a"></a><!-- doxytag: member="InterfaceTable::InterfaceTable" ref="acdc576cd5a79ac52810ef94fb5b02f8a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InterfaceTable::InterfaceTable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00041">41</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00042"></a>00042 {
<a name="l00043"></a>00043     <a class="code" href="class_interface_table.html#a735aed31ccdb2616a012c3a36ae812a3">tmpNumInterfaces</a> = -1;
<a name="l00044"></a>00044     <a class="code" href="class_interface_table.html#a386b4b375178b5cbb5de18cdcb74042b">tmpInterfaceList</a> = NULL;
<a name="l00045"></a>00045 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad3ff50794df60447ba15026ae82464e0"></a><!-- doxytag: member="InterfaceTable::~InterfaceTable" ref="ad3ff50794df60447ba15026ae82464e0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">InterfaceTable::~InterfaceTable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00047">47</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00048"></a>00048 {
<a name="l00049"></a>00049     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; (int)<a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.size(); i++)
<a name="l00050"></a>00050         <span class="keyword">delete</span> <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i];
<a name="l00051"></a>00051     <span class="keyword">delete</span> [] <a class="code" href="class_interface_table.html#a386b4b375178b5cbb5de18cdcb74042b">tmpInterfaceList</a>;
<a name="l00052"></a>00052 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ae67777f04021431cc1d15ae200920836"></a><!-- doxytag: member="InterfaceTable::addInterface" ref="ae67777f04021431cc1d15ae200920836" args="(InterfaceEntry *entry, cModule *ifmod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InterfaceTable::addInterface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cModule *&nbsp;</td>
          <td class="paramname"> <em>ifmod</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds an interface. The second argument should be a module which belongs to the physical interface (e.g. <a class="el" href="class_p_p_p.html">PPP</a> or EtherMac) -- it will be used to discover and fill in getNetworkLayerGateIndex(), getNodeOutputGateId(), and getNodeInputGateId() in <a class="el" href="class_interface_entry.html">InterfaceEntry</a>. It should be NULL if this is a virtual interface (e.g. loopback). </p>

<p>Implements <a class="el" href="class_i_interface_table.html#a2159ab6dc917bd6f1b2061980bbdf107">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00141">141</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00054">initialize()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00142"></a>00142 {
<a name="l00143"></a>00143     <span class="comment">// check name is unique</span>
<a name="l00144"></a>00144     <span class="keywordflow">if</span> (<a class="code" href="class_interface_table.html#a3f953c2e608d84f14cfcaaf32ff6cbe1">getInterfaceByName</a>(entry-&gt;getName())!=NULL)
<a name="l00145"></a>00145         opp_error(<span class="stringliteral">&quot;addInterface(): interface &apos;%s&apos; already registered&quot;</span>, entry-&gt;getName());
<a name="l00146"></a>00146 
<a name="l00147"></a>00147     <span class="comment">// insert</span>
<a name="l00148"></a>00148     entry-&gt;<a class="code" href="class_interface_entry.html#a7dd74863d391501ca83301e1f82111a6">setInterfaceId</a>(<a class="code" href="_interface_table_8cc.html#a9bf80e6c16c5a791c8e7057e3030a290">INTERFACEIDS_START</a> + <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.size());
<a name="l00149"></a>00149     entry-&gt;<a class="code" href="class_interface_entry.html#a533ed5c9d20dfcc39c2ce7d3355c35d0">setInterfaceTable</a>(<span class="keyword">this</span>);
<a name="l00150"></a>00150     <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.push_back(entry);
<a name="l00151"></a>00151     <a class="code" href="class_interface_table.html#ad5da237cf1d0ab4de1ead24a6fa930f9">invalidateTmpInterfaceList</a>();
<a name="l00152"></a>00152 
<a name="l00153"></a>00153     <span class="comment">// fill in networkLayerGateIndex, nodeOutputGateId, nodeInputGateId</span>
<a name="l00154"></a>00154     <span class="keywordflow">if</span> (ifmod)
<a name="l00155"></a>00155         <a class="code" href="class_interface_table.html#ae2f1d4bb08e61dfa31c908b2c9337d11">discoverConnectingGates</a>(entry, ifmod);
<a name="l00156"></a>00156 
<a name="l00157"></a>00157     <a class="code" href="class_interface_table.html#a4a813da979ea8934dd9d1bf7f82831b0">nb</a>-&gt;<a class="code" href="class_notification_board.html#a2bb0a5aa0cb272a9b15cb5a58a253fcc">fireChangeNotification</a>(<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55baea2d4297f1e519520524d4bd8ff865b4">NF_INTERFACE_CREATED</a>, entry);
<a name="l00158"></a>00158 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a59bf4ac426a9fd86c5ce4cb2c9fcc16e"></a><!-- doxytag: member="InterfaceTable::deleteInterface" ref="a59bf4ac426a9fd86c5ce4cb2c9fcc16e" args="(InterfaceEntry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InterfaceTable::deleteInterface </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Deletes the given interface from the table. Indices of existing interfaces (see <a class="el" href="class_interface_table.html#a20068628e72377ed78735e6b008a0a9f">getInterface(int)</a>) may change. It is an error if the given interface is not in the table. </p>

<p>Implements <a class="el" href="class_i_interface_table.html#a229a92e5d530127efb262e8fe7acfdf9">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00197">197</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00198"></a>00198 {
<a name="l00199"></a>00199     <span class="keywordtype">int</span> <span class="keywordtype">id</span> = entry-&gt;<a class="code" href="class_interface_entry.html#adc901fa42c37ce16b5c0785da81106ce">getInterfaceId</a>();
<a name="l00200"></a>00200     <span class="keywordflow">if</span> (entry != <a class="code" href="class_interface_table.html#a3acb58a75de2e7d443c6abd0e7bd2548">getInterfaceById</a>(<span class="keywordtype">id</span>))
<a name="l00201"></a>00201         opp_error(<span class="stringliteral">&quot;deleteInterface(): interface &apos;%s&apos; not found in interface table&quot;</span>, entry-&gt;getName());
<a name="l00202"></a>00202 
<a name="l00203"></a>00203     <a class="code" href="class_interface_table.html#a4a813da979ea8934dd9d1bf7f82831b0">nb</a>-&gt;<a class="code" href="class_notification_board.html#a2bb0a5aa0cb272a9b15cb5a58a253fcc">fireChangeNotification</a>(<a class="code" href="_notifier_consts_8h.html#a06fc87d81c62e9abb8790b6e5713c55ba4f8e57f4754cbf2e6ba92a7079b483e4">NF_INTERFACE_DELETED</a>, entry);  <span class="comment">// actually, only going to be deleted</span>
<a name="l00204"></a>00204 
<a name="l00205"></a>00205     <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[<span class="keywordtype">id</span> - <a class="code" href="_interface_table_8cc.html#a9bf80e6c16c5a791c8e7057e3030a290">INTERFACEIDS_START</a>] = NULL;
<a name="l00206"></a>00206     <span class="keyword">delete</span> entry;
<a name="l00207"></a>00207     <a class="code" href="class_interface_table.html#ad5da237cf1d0ab4de1ead24a6fa930f9">invalidateTmpInterfaceList</a>();
<a name="l00208"></a>00208 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae2f1d4bb08e61dfa31c908b2c9337d11"></a><!-- doxytag: member="InterfaceTable::discoverConnectingGates" ref="ae2f1d4bb08e61dfa31c908b2c9337d11" args="(InterfaceEntry *entry, cModule *ifmod)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InterfaceTable::discoverConnectingGates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cModule *&nbsp;</td>
          <td class="paramname"> <em>ifmod</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00160">160</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00141">addInterface()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00161"></a>00161 {
<a name="l00162"></a>00162     <span class="comment">// ifmod is something like &quot;host.eth[1].mac&quot;; climb up to find &quot;host.eth[1]&quot; from it</span>
<a name="l00163"></a>00163     cModule *host = getParentModule();
<a name="l00164"></a>00164     <span class="keywordflow">while</span> (ifmod &amp;&amp; ifmod-&gt;getParentModule()!=host)
<a name="l00165"></a>00165         ifmod = ifmod-&gt;getParentModule();
<a name="l00166"></a>00166     <span class="keywordflow">if</span> (!ifmod)
<a name="l00167"></a>00167         opp_error(<span class="stringliteral">&quot;addInterface(): specified module is not in this host/router&quot;</span>);
<a name="l00168"></a>00168 
<a name="l00169"></a>00169     <span class="comment">// find gates connected to host / network layer</span>
<a name="l00170"></a>00170     cGate *nwlayerInGate=NULL, *nwlayerOutGate=NULL;
<a name="l00171"></a>00171     <span class="keywordflow">for</span> (GateIterator i(ifmod); !i.end(); i++)
<a name="l00172"></a>00172     {
<a name="l00173"></a>00173         cGate *g = i();
<a name="l00174"></a>00174         <span class="keywordflow">if</span> (!g) <span class="keywordflow">continue</span>;
<a name="l00175"></a>00175 
<a name="l00176"></a>00176         <span class="comment">// find the host/router&apos;s gates that internally connect to this interface</span>
<a name="l00177"></a>00177         <span class="keywordflow">if</span> (g-&gt;getType()==cGate::OUTPUT &amp;&amp; g-&gt;getNextGate() &amp;&amp; g-&gt;getNextGate()-&gt;getOwnerModule()==host)
<a name="l00178"></a>00178             entry-&gt;<a class="code" href="class_interface_entry.html#a52ab396f1f1d41b94905cfc5d96e944a">setNodeOutputGateId</a>(g-&gt;getNextGate()-&gt;getId());
<a name="l00179"></a>00179         <span class="keywordflow">if</span> (g-&gt;getType()==cGate::INPUT &amp;&amp; g-&gt;getPreviousGate() &amp;&amp; g-&gt;getPreviousGate()-&gt;getOwnerModule()==host)
<a name="l00180"></a>00180             entry-&gt;<a class="code" href="class_interface_entry.html#a9da2bee4914c0e598ed96075ab625851">setNodeInputGateId</a>(g-&gt;getPreviousGate()-&gt;getId());
<a name="l00181"></a>00181 
<a name="l00182"></a>00182         <span class="comment">// find the gate index of networkLayer/networkLayer6/mpls that connects to this interface</span>
<a name="l00183"></a>00183         <span class="keywordflow">if</span> (g-&gt;getType()==cGate::OUTPUT &amp;&amp; g-&gt;getNextGate() &amp;&amp; g-&gt;getNextGate()-&gt;isName(<span class="stringliteral">&quot;ifIn&quot;</span>))
<a name="l00184"></a>00184             nwlayerInGate = g-&gt;getNextGate();
<a name="l00185"></a>00185         <span class="keywordflow">if</span> (g-&gt;getType()==cGate::INPUT &amp;&amp; g-&gt;getPreviousGate() &amp;&amp; g-&gt;getPreviousGate()-&gt;isName(<span class="stringliteral">&quot;ifOut&quot;</span>))
<a name="l00186"></a>00186             nwlayerOutGate = g-&gt;getPreviousGate();
<a name="l00187"></a>00187     }
<a name="l00188"></a>00188 
<a name="l00189"></a>00189     <span class="comment">// consistency checks</span>
<a name="l00190"></a>00190     <span class="comment">// note: we don&apos;t check nodeOutputGateId/nodeInputGateId, because wireless interfaces</span>
<a name="l00191"></a>00191     <span class="comment">// are not connected to the host</span>
<a name="l00192"></a>00192     <span class="keywordflow">if</span> (!nwlayerInGate || !nwlayerOutGate || nwlayerInGate-&gt;getIndex()!=nwlayerOutGate-&gt;getIndex())
<a name="l00193"></a>00193         opp_error(<span class="stringliteral">&quot;addInterface(): interface must be connected to network layer&apos;s ifIn[]/ifOut[] gates of the same index&quot;</span>);
<a name="l00194"></a>00194     entry-&gt;<a class="code" href="class_interface_entry.html#a345db5dd6e926e5abe485b6e751cdf70">setNetworkLayerGateIndex</a>(nwlayerInGate-&gt;getIndex());
<a name="l00195"></a>00195 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a60849d96d27149120445ee5429462d91"></a><!-- doxytag: member="InterfaceTable::getFirstLoopbackInterface" ref="a60849d96d27149120445ee5429462d91" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * InterfaceTable::getFirstLoopbackInterface </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the first interface with the isLoopback flag set. (If there's no loopback, it returns NULL -- but this should never happen because <a class="el" href="class_interface_table.html">InterfaceTable</a> itself registers a loopback interface on startup.) </p>

<p>Implements <a class="el" href="class_i_interface_table.html#ad9b040947200941201b8c82d35c7abee">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00267">267</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00268"></a>00268 {
<a name="l00269"></a>00269     Enter_Method_Silent();
<a name="l00270"></a>00270     <span class="keywordtype">int</span> n = <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.size();
<a name="l00271"></a>00271     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++)
<a name="l00272"></a>00272         <span class="keywordflow">if</span> (<a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i] &amp;&amp; <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i]-&gt;isLoopback())
<a name="l00273"></a>00273             <span class="keywordflow">return</span> <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i];
<a name="l00274"></a>00274     <span class="keywordflow">return</span> NULL;
<a name="l00275"></a>00275 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abde330e4adcc5a7495f89b8cd6154275"></a><!-- doxytag: member="InterfaceTable::getFullPath" ref="abde330e4adcc5a7495f89b8cd6154275" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string InterfaceTable::getFullPath </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Module path name </p>

<p>Implements <a class="el" href="class_i_interface_table.html#a1047517c24c981f2069367ca576a9c81">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8h_source.html#l00096">96</a> of file <a class="el" href="_interface_table_8h_source.html">InterfaceTable.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00096"></a>00096 {<span class="keywordflow">return</span> <a class="code" href="class_interface_table.html#abde330e4adcc5a7495f89b8cd6154275">cSimpleModule::getFullPath</a>();}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a20068628e72377ed78735e6b008a0a9f"></a><!-- doxytag: member="InterfaceTable::getInterface" ref="a20068628e72377ed78735e6b008a0a9f" args="(int pos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * InterfaceTable::getInterface </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>pos</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the <a class="el" href="class_interface_entry.html">InterfaceEntry</a> specified by an index 0..numInterfaces-1. Throws an error if index is out of range.</p>
<p>Note that this index is NOT the same as interfaceId! Indices are not guaranteed to stay the same after interface addition/deletion, so cannot be used to reliably identify the interface. Use interfaceId to refer to interfaces from other modules or from messages/packets. </p>

<p>Implements <a class="el" href="class_i_interface_table.html#a19ce4ca3b47b52b8e2b67c25806c4b49">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00115">115</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00116"></a>00116 {
<a name="l00117"></a>00117     <span class="keywordtype">int</span> n = <a class="code" href="class_interface_table.html#aa7bbc08564b199d7820f9fb5dafedead">getNumInterfaces</a>(); <span class="comment">// also fills tmpInterfaceList</span>
<a name="l00118"></a>00118     <span class="keywordflow">if</span> (pos&lt;0 || pos&gt;=n)
<a name="l00119"></a>00119         opp_error(<span class="stringliteral">&quot;getInterface(): interface index %d out of range 0..%d&quot;</span>, pos, n-1);
<a name="l00120"></a>00120 
<a name="l00121"></a>00121     <span class="keywordflow">if</span> (!<a class="code" href="class_interface_table.html#a386b4b375178b5cbb5de18cdcb74042b">tmpInterfaceList</a>)
<a name="l00122"></a>00122     {
<a name="l00123"></a>00123         <span class="comment">// collect non-NULL elements into tmpInterfaceList[]</span>
<a name="l00124"></a>00124         <a class="code" href="class_interface_table.html#a386b4b375178b5cbb5de18cdcb74042b">tmpInterfaceList</a> = <span class="keyword">new</span> <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *[n];
<a name="l00125"></a>00125         <span class="keywordtype">int</span> k = 0;
<a name="l00126"></a>00126         <span class="keywordtype">int</span> maxId = <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.size();
<a name="l00127"></a>00127         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;maxId; i++)
<a name="l00128"></a>00128             <span class="keywordflow">if</span> (<a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i])
<a name="l00129"></a>00129                 <a class="code" href="class_interface_table.html#a386b4b375178b5cbb5de18cdcb74042b">tmpInterfaceList</a>[k++] = <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i];
<a name="l00130"></a>00130     }
<a name="l00131"></a>00131 
<a name="l00132"></a>00132     <span class="keywordflow">return</span> <a class="code" href="class_interface_table.html#a386b4b375178b5cbb5de18cdcb74042b">tmpInterfaceList</a>[pos];
<a name="l00133"></a>00133 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3acb58a75de2e7d443c6abd0e7bd2548"></a><!-- doxytag: member="InterfaceTable::getInterfaceById" ref="a3acb58a75de2e7d443c6abd0e7bd2548" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * InterfaceTable::getInterfaceById </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an interface by its Id. Ids are guaranteed to be invariant to interface deletions/additions. Returns NULL if there is no such interface (This allows detecting stale IDs without raising an error.) </p>

<p>Implements <a class="el" href="class_i_interface_table.html#a92764d620c345b7261de20e9ee5247d7">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00135">135</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00197">deleteInterface()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00136"></a>00136 {
<a name="l00137"></a>00137     <span class="keywordtype">id</span> -= <a class="code" href="_interface_table_8cc.html#a9bf80e6c16c5a791c8e7057e3030a290">INTERFACEIDS_START</a>;
<a name="l00138"></a>00138     <span class="keywordflow">return</span> (id&lt;0 || id&gt;=(<span class="keywordtype">int</span>)<a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.size()) ? NULL : <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[<span class="keywordtype">id</span>];
<a name="l00139"></a>00139 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3f953c2e608d84f14cfcaaf32ff6cbe1"></a><!-- doxytag: member="InterfaceTable::getInterfaceByName" ref="a3f953c2e608d84f14cfcaaf32ff6cbe1" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * InterfaceTable::getInterfaceByName </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an interface given by its name. Returns NULL if not found. </p>

<p>Implements <a class="el" href="class_i_interface_table.html#a8ad86ee823d6200b4f558383b39af658">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00255">255</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00141">addInterface()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00256"></a>00256 {
<a name="l00257"></a>00257     Enter_Method_Silent();
<a name="l00258"></a>00258     <span class="keywordflow">if</span> (!name)
<a name="l00259"></a>00259         <span class="keywordflow">return</span> NULL;
<a name="l00260"></a>00260     <span class="keywordtype">int</span> n = <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.size();
<a name="l00261"></a>00261     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++)
<a name="l00262"></a>00262         <span class="keywordflow">if</span> (<a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i] &amp;&amp; !strcmp(name, <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i]-&gt;getName()))
<a name="l00263"></a>00263             <span class="keywordflow">return</span> <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i];
<a name="l00264"></a>00264     <span class="keywordflow">return</span> NULL;
<a name="l00265"></a>00265 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abc0aa1cd6740d6808c09c3969969bd6f"></a><!-- doxytag: member="InterfaceTable::getInterfaceByNetworkLayerGateIndex" ref="abc0aa1cd6740d6808c09c3969969bd6f" args="(int index)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * InterfaceTable::getInterfaceByNetworkLayerGateIndex </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>index</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an interface given by its getNetworkLayerGateIndex(). Returns NULL if not found. </p>

<p>Implements <a class="el" href="class_i_interface_table.html#a8d10b748bc5429c706fab120c719e335">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00244">244</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00245"></a>00245 {
<a name="l00246"></a>00246     <span class="comment">// linear search is OK because normally we have don&apos;t have many interfaces and this func is rarely called</span>
<a name="l00247"></a>00247     Enter_Method_Silent();
<a name="l00248"></a>00248     <span class="keywordtype">int</span> n = <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.size();
<a name="l00249"></a>00249     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++)
<a name="l00250"></a>00250         <span class="keywordflow">if</span> (<a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i] &amp;&amp; <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i]-&gt;getNetworkLayerGateIndex()==index)
<a name="l00251"></a>00251             <span class="keywordflow">return</span> <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i];
<a name="l00252"></a>00252     <span class="keywordflow">return</span> NULL;
<a name="l00253"></a>00253 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad6eb1529b3d8ed007feea079e1f5d9cd"></a><!-- doxytag: member="InterfaceTable::getInterfaceByNodeInputGateId" ref="ad6eb1529b3d8ed007feea079e1f5d9cd" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * InterfaceTable::getInterfaceByNodeInputGateId </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an interface given by its getNodeInputGateId(). Returns NULL if not found. </p>

<p>Implements <a class="el" href="class_i_interface_table.html#a60257f3b30cedc18a80835d5be8305d9">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00233">233</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00234"></a>00234 {
<a name="l00235"></a>00235     <span class="comment">// linear search is OK because normally we have don&apos;t have many interfaces and this func is rarely called</span>
<a name="l00236"></a>00236     Enter_Method_Silent();
<a name="l00237"></a>00237     <span class="keywordtype">int</span> n = <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.size();
<a name="l00238"></a>00238     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++)
<a name="l00239"></a>00239         <span class="keywordflow">if</span> (<a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i] &amp;&amp; <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i]-&gt;getNodeInputGateId()==<span class="keywordtype">id</span>)
<a name="l00240"></a>00240             <span class="keywordflow">return</span> <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i];
<a name="l00241"></a>00241     <span class="keywordflow">return</span> NULL;
<a name="l00242"></a>00242 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a281b09bc65fc43109563bff6d9e55995"></a><!-- doxytag: member="InterfaceTable::getInterfaceByNodeOutputGateId" ref="a281b09bc65fc43109563bff6d9e55995" args="(int id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> * InterfaceTable::getInterfaceByNodeOutputGateId </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns an interface given by its getNodeOutputGateId(). Returns NULL if not found. </p>

<p>Implements <a class="el" href="class_i_interface_table.html#a31ab0c95a4bf741f1f8aa03e1cf76986">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00222">222</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00223"></a>00223 {
<a name="l00224"></a>00224     <span class="comment">// linear search is OK because normally we have don&apos;t have many interfaces and this func is rarely called</span>
<a name="l00225"></a>00225     Enter_Method_Silent();
<a name="l00226"></a>00226     <span class="keywordtype">int</span> n = <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.size();
<a name="l00227"></a>00227     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;n; i++)
<a name="l00228"></a>00228         <span class="keywordflow">if</span> (<a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i] &amp;&amp; <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i]-&gt;getNodeOutputGateId()==<span class="keywordtype">id</span>)
<a name="l00229"></a>00229             <span class="keywordflow">return</span> <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i];
<a name="l00230"></a>00230     <span class="keywordflow">return</span> NULL;
<a name="l00231"></a>00231 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa7bbc08564b199d7820f9fb5dafedead"></a><!-- doxytag: member="InterfaceTable::getNumInterfaces" ref="aa7bbc08564b199d7820f9fb5dafedead" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int InterfaceTable::getNumInterfaces </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the number of interfaces. </p>

<p>Implements <a class="el" href="class_i_interface_table.html#a2b0ce46cd92da6f64fc363410dc71904">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00099">99</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00115">getInterface()</a>, and <a class="el" href="_interface_table_8cc_source.html#l00075">updateDisplayString()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00100"></a>00100 {
<a name="l00101"></a>00101     <span class="keywordflow">if</span> (<a class="code" href="class_interface_table.html#a735aed31ccdb2616a012c3a36ae812a3">tmpNumInterfaces</a> == -1)
<a name="l00102"></a>00102     {
<a name="l00103"></a>00103         <span class="comment">// count non-NULL elements</span>
<a name="l00104"></a>00104         <span class="keywordtype">int</span> n = 0;
<a name="l00105"></a>00105         <span class="keywordtype">int</span> maxId = <a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>.size();
<a name="l00106"></a>00106         <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;maxId; i++)
<a name="l00107"></a>00107             <span class="keywordflow">if</span> (<a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>[i])
<a name="l00108"></a>00108                 n++;
<a name="l00109"></a>00109         <a class="code" href="class_interface_table.html#a735aed31ccdb2616a012c3a36ae812a3">tmpNumInterfaces</a> = n;
<a name="l00110"></a>00110     }
<a name="l00111"></a>00111 
<a name="l00112"></a>00112     <span class="keywordflow">return</span> <a class="code" href="class_interface_table.html#a735aed31ccdb2616a012c3a36ae812a3">tmpNumInterfaces</a>;
<a name="l00113"></a>00113 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a101a52971a1de7df6479a3412ec5940c"></a><!-- doxytag: member="InterfaceTable::handleMessage" ref="a101a52971a1de7df6479a3412ec5940c" args="(cMessage *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InterfaceTable::handleMessage </td>
          <td>(</td>
          <td class="paramtype">cMessage *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Raises an error. </p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00085">85</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00086"></a>00086 {
<a name="l00087"></a>00087     opp_error(<span class="stringliteral">&quot;This module doesn&apos;t process messages&quot;</span>);
<a name="l00088"></a>00088 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab92373cbd67155557293fbccc2ac1466"></a><!-- doxytag: member="InterfaceTable::initialize" ref="ab92373cbd67155557293fbccc2ac1466" args="(int stage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InterfaceTable::initialize </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00054">54</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00055"></a>00055 {
<a name="l00056"></a>00056     <span class="keywordflow">if</span> (stage==0)
<a name="l00057"></a>00057     {
<a name="l00058"></a>00058         <span class="comment">// get a pointer to the NotificationBoard module</span>
<a name="l00059"></a>00059         <a class="code" href="class_interface_table.html#a4a813da979ea8934dd9d1bf7f82831b0">nb</a> = <a class="code" href="class_notification_board_access.html">NotificationBoardAccess</a>().get();
<a name="l00060"></a>00060 
<a name="l00061"></a>00061         <span class="comment">// register a loopback interface</span>
<a name="l00062"></a>00062         <a class="code" href="class_interface_entry.html">InterfaceEntry</a> *ie = <span class="keyword">new</span> <a class="code" href="class_i_interface_table.html#a927bba568218c52cc2ec3574098d91c2">InterfaceEntry</a>();
<a name="l00063"></a>00063         ie-&gt;<a class="code" href="class_interface_entry.html#af9ca0c7af3a0f45e7d7102e6cc2b089e">setName</a>(<span class="stringliteral">&quot;lo0&quot;</span>);
<a name="l00064"></a>00064         ie-&gt;<a class="code" href="class_interface_entry.html#aaebcf5970e29877b0a4b68ddaaaf540f">setMtu</a>(3924);
<a name="l00065"></a>00065         ie-&gt;<a class="code" href="class_interface_entry.html#a305e66c0b05a5fa813db3b4f24e2b009">setLoopback</a>(<span class="keyword">true</span>);
<a name="l00066"></a>00066         <a class="code" href="class_interface_table.html#ae67777f04021431cc1d15ae200920836">addInterface</a>(ie, NULL);
<a name="l00067"></a>00067     }
<a name="l00068"></a>00068     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (stage==1)
<a name="l00069"></a>00069     {
<a name="l00070"></a>00070         WATCH_PTRVECTOR(<a class="code" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">idToInterface</a>);
<a name="l00071"></a>00071         <a class="code" href="class_interface_table.html#a84ad7ffc48e1d42ca93284fe033823b0">updateDisplayString</a>();
<a name="l00072"></a>00072     }
<a name="l00073"></a>00073 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a56f4588cd3260e1ba58b9af6b812d6ae"></a><!-- doxytag: member="InterfaceTable::interfaceChanged" ref="a56f4588cd3260e1ba58b9af6b812d6ae" args="(InterfaceEntry *entry, int category)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InterfaceTable::interfaceChanged </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_interface_entry.html">InterfaceEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>category</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implements <a class="el" href="class_i_interface_table.html#ad8ce8de50598e7ac988f4dc3a2ed976f">IInterfaceTable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00217">217</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00218"></a>00218 {
<a name="l00219"></a>00219     <a class="code" href="class_interface_table.html#a4a813da979ea8934dd9d1bf7f82831b0">nb</a>-&gt;<a class="code" href="class_notification_board.html#a2bb0a5aa0cb272a9b15cb5a58a253fcc">fireChangeNotification</a>(category, entry);
<a name="l00220"></a>00220 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad5da237cf1d0ab4de1ead24a6fa930f9"></a><!-- doxytag: member="InterfaceTable::invalidateTmpInterfaceList" ref="ad5da237cf1d0ab4de1ead24a6fa930f9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InterfaceTable::invalidateTmpInterfaceList </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00210">210</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00141">addInterface()</a>, and <a class="el" href="_interface_table_8cc_source.html#l00197">deleteInterface()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00211"></a>00211 {
<a name="l00212"></a>00212     <a class="code" href="class_interface_table.html#a735aed31ccdb2616a012c3a36ae812a3">tmpNumInterfaces</a> = -1;
<a name="l00213"></a>00213     <span class="keyword">delete</span>[] <a class="code" href="class_interface_table.html#a386b4b375178b5cbb5de18cdcb74042b">tmpInterfaceList</a>;
<a name="l00214"></a>00214     <a class="code" href="class_interface_table.html#a386b4b375178b5cbb5de18cdcb74042b">tmpInterfaceList</a> = NULL;
<a name="l00215"></a>00215 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9f964712f929db684d0c6e5febc658f2"></a><!-- doxytag: member="InterfaceTable::numInitStages" ref="a9f964712f929db684d0c6e5febc658f2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int InterfaceTable::numInitStages </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline, protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8h_source.html#l00099">99</a> of file <a class="el" href="_interface_table_8h_source.html">InterfaceTable.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00099"></a>00099 {<span class="keywordflow">return</span> 2;}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a6bd59099de1b3cf19df5038b83ec75b9"></a><!-- doxytag: member="InterfaceTable::receiveChangeNotification" ref="a6bd59099de1b3cf19df5038b83ec75b9" args="(int category, const cPolymorphic *details)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InterfaceTable::receiveChangeNotification </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>category</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cPolymorphic *&nbsp;</td>
          <td class="paramname"> <em>details</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called by the <a class="el" href="class_notification_board.html">NotificationBoard</a> whenever a change of a category occurs to which this client has subscribed. </p>

<p>Implements <a class="el" href="class_i_notifiable.html#a67d757190e1128eaec8f0a8e51ed38f6">INotifiable</a>.</p>

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00090">90</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00091"></a>00091 {
<a name="l00092"></a>00092     <span class="comment">// nothing needed here at the moment</span>
<a name="l00093"></a>00093     Enter_Method_Silent();
<a name="l00094"></a>00094     <a class="code" href="_notifier_consts_8cc.html#a68fd4b933fae636048bb9ee52fd922e5">printNotificationBanner</a>(category, details);
<a name="l00095"></a>00095 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a84ad7ffc48e1d42ca93284fe033823b0"></a><!-- doxytag: member="InterfaceTable::updateDisplayString" ref="a84ad7ffc48e1d42ca93284fe033823b0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void InterfaceTable::updateDisplayString </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8cc_source.html#l00075">75</a> of file <a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00054">initialize()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00076"></a>00076 {
<a name="l00077"></a>00077     <span class="keywordflow">if</span> (!ev.isGUI())
<a name="l00078"></a>00078         <span class="keywordflow">return</span>;
<a name="l00079"></a>00079 
<a name="l00080"></a>00080     <span class="keywordtype">char</span> buf[80];
<a name="l00081"></a>00081     sprintf(buf, <span class="stringliteral">&quot;%d interfaces&quot;</span>, <a class="code" href="class_interface_table.html#aa7bbc08564b199d7820f9fb5dafedead">getNumInterfaces</a>());
<a name="l00082"></a>00082     getDisplayString().setTagArg(<span class="stringliteral">&quot;t&quot;</span>,0,buf);
<a name="l00083"></a>00083 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a770ff6852b4d38adf4796786d9d46c6a"></a><!-- doxytag: member="InterfaceTable::idToInterface" ref="a770ff6852b4d38adf4796786d9d46c6a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_table.html#a3ffd914a1c868644a125750bf7bea75c">InterfaceVector</a> <a class="el" href="class_interface_table.html#a770ff6852b4d38adf4796786d9d46c6a">InterfaceTable::idToInterface</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8h_source.html#l00074">74</a> of file <a class="el" href="_interface_table_8h_source.html">InterfaceTable.h</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00141">addInterface()</a>, <a class="el" href="_interface_table_8cc_source.html#l00197">deleteInterface()</a>, <a class="el" href="_interface_table_8cc_source.html#l00267">getFirstLoopbackInterface()</a>, <a class="el" href="_interface_table_8cc_source.html#l00115">getInterface()</a>, <a class="el" href="_interface_table_8cc_source.html#l00135">getInterfaceById()</a>, <a class="el" href="_interface_table_8cc_source.html#l00255">getInterfaceByName()</a>, <a class="el" href="_interface_table_8cc_source.html#l00244">getInterfaceByNetworkLayerGateIndex()</a>, <a class="el" href="_interface_table_8cc_source.html#l00233">getInterfaceByNodeInputGateId()</a>, <a class="el" href="_interface_table_8cc_source.html#l00222">getInterfaceByNodeOutputGateId()</a>, <a class="el" href="_interface_table_8cc_source.html#l00099">getNumInterfaces()</a>, <a class="el" href="_interface_table_8cc_source.html#l00054">initialize()</a>, and <a class="el" href="_interface_table_8cc_source.html#l00047">~InterfaceTable()</a>.</p>

</div>
</div>
<a class="anchor" id="a4a813da979ea8934dd9d1bf7f82831b0"></a><!-- doxytag: member="InterfaceTable::nb" ref="a4a813da979ea8934dd9d1bf7f82831b0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_notification_board.html">NotificationBoard</a>* <a class="el" href="class_interface_table.html#a4a813da979ea8934dd9d1bf7f82831b0">InterfaceTable::nb</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8h_source.html#l00069">69</a> of file <a class="el" href="_interface_table_8h_source.html">InterfaceTable.h</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00141">addInterface()</a>, <a class="el" href="_interface_table_8cc_source.html#l00197">deleteInterface()</a>, <a class="el" href="_interface_table_8cc_source.html#l00054">initialize()</a>, and <a class="el" href="_interface_table_8cc_source.html#l00217">interfaceChanged()</a>.</p>

</div>
</div>
<a class="anchor" id="a386b4b375178b5cbb5de18cdcb74042b"></a><!-- doxytag: member="InterfaceTable::tmpInterfaceList" ref="a386b4b375178b5cbb5de18cdcb74042b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_interface_entry.html">InterfaceEntry</a>** <a class="el" href="class_interface_table.html#a386b4b375178b5cbb5de18cdcb74042b">InterfaceTable::tmpInterfaceList</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8h_source.html#l00078">78</a> of file <a class="el" href="_interface_table_8h_source.html">InterfaceTable.h</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00115">getInterface()</a>, <a class="el" href="_interface_table_8cc_source.html#l00041">InterfaceTable()</a>, <a class="el" href="_interface_table_8cc_source.html#l00210">invalidateTmpInterfaceList()</a>, and <a class="el" href="_interface_table_8cc_source.html#l00047">~InterfaceTable()</a>.</p>

</div>
</div>
<a class="anchor" id="a735aed31ccdb2616a012c3a36ae812a3"></a><!-- doxytag: member="InterfaceTable::tmpNumInterfaces" ref="a735aed31ccdb2616a012c3a36ae812a3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_interface_table.html#a735aed31ccdb2616a012c3a36ae812a3">InterfaceTable::tmpNumInterfaces</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_interface_table_8h_source.html#l00077">77</a> of file <a class="el" href="_interface_table_8h_source.html">InterfaceTable.h</a>.</p>

<p>Referenced by <a class="el" href="_interface_table_8cc_source.html#l00099">getNumInterfaces()</a>, <a class="el" href="_interface_table_8cc_source.html#l00041">InterfaceTable()</a>, and <a class="el" href="_interface_table_8cc_source.html#l00210">invalidateTmpInterfaceList()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_interface_table_8h_source.html">InterfaceTable.h</a></li>
<li><a class="el" href="_interface_table_8cc_source.html">InterfaceTable.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Mar 23 17:08:34 2010 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
