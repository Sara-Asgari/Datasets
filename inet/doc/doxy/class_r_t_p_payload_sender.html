<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: RTPPayloadSender Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>RTPPayloadSender Class Reference</h1><!-- doxytag: class="RTPPayloadSender" -->
<p><code>#include &lt;<a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for RTPPayloadSender:</div>
<div class="dynsection">
 <div class="center">
  <img src="class_r_t_p_payload_sender.gif" usemap="#RTPPayloadSender_map" alt=""/>
  <map id="RTPPayloadSender_map" name="RTPPayloadSender_map">
<area href="class_r_t_p_a_v_profile_payload32_sender.html" alt="RTPAVProfilePayload32Sender" shape="rect" coords="0,56,191,80"/>
</map>
 </div>
</div>

<p><a href="class_r_t_p_payload_sender-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933d">SenderStatus</a> { <a class="el" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933da270de7595d9590d548963a3ab8dbb8f3">STOPPED</a>, 
<a class="el" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933dabc5a7b0a6d991ffde3d9c678d7d2b700">PLAYING</a>
 }</td></tr>
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a6990d34d13be7e9851d6341d251e6c22">RTPPayloadSender</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a86725b3d955310caffe95170e482fffe">~RTPPayloadSender</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a3d89be915b854cf2655a68c68cec0ba1">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a31653f5519ad70937f044eecba57ecac">activity</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a1f8653338d14096e4296243ab0821ff1">initializeSenderModule</a> (<a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#acdd1e2f6a2e8a17cdb576aa86168292a">openSourceFile</a> (const char *fileName)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a578ae414c38747252b0cfc7d717deb2b">closeSourceFile</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a9538606bf2b0d873cd0a0cd7754f7ce9">play</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#aa5c19f1b88c1e88f0eeb42fc486471b3">playUntilTime</a> (simtime_t moment)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a4ce92002f68b9a5308df0a269ac95246">playUntilByte</a> (int position)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a1076c39c68c6583d224af968c840acc7">pause</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a1192ffd879c11dc9a881d6b28929df9e">seekTime</a> (simtime_t moment)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a11612dd7a6cda674f8d79a8cdf2d8b5c">seekByte</a> (int position)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#ad9cd79ff818c987d07c1f21b70678588">stop</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#aa8d3c549b50edb6e9c17db691d7e726e">endOfFile</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a3738b1a68ff9929c50fd798a74ee8b54">sendPacket</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::ifstream&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#aabee3f800e5e676d2b297ff6a571c259">_inputFileStream</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a32ec374991c6a22751fac7db79a3f465">_mtu</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a98d0eb2439d2eab6606741445590b513">_ssrc</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a39af1b84253a34a9903f9c718bd66b1c">_payloadType</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a8674ccb970be216091f20e60c41c9e9f">_clockRate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#aaa174d6ff76832088142302de2e7deb4">_timeStampBase</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint32&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a0ac319d6695cad406c6ecda2a0b4c27c">_timeStamp</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a8d2e99636e2bb7baee5e468b1e3c2a48">_sequenceNumberBase</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint16&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#aa640a9b2867c042f2cc48f0f9489e870">_sequenceNumber</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933d">SenderStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a881b74af0edb1793055bcd1a2912c4ed">_status</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">cMessage *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_r_t_p_payload_sender.html#a7dfada70b7fab61bcf43dcf687e506d4">_reminderMessage</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The class <a class="el" href="class_r_t_p_payload_sender.html">RTPPayloadSender</a> is the base class for all modules creating rtp data packets. It provides functionality needed by every rtp data packet sender like opening and closing the data file and choosing sequence number and time stamp start values. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00037">37</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="ac59256e616e553048c7fadfae798933d"></a><!-- doxytag: member="RTPPayloadSender::SenderStatus" ref="ac59256e616e553048c7fadfae798933d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933d">RTPPayloadSender::SenderStatus</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A sender module's transmission can be in different states. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ac59256e616e553048c7fadfae798933da270de7595d9590d548963a3ab8dbb8f3"></a><!-- doxytag: member="STOPPED" ref="ac59256e616e553048c7fadfae798933da270de7595d9590d548963a3ab8dbb8f3" args="" -->STOPPED</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ac59256e616e553048c7fadfae798933dabc5a7b0a6d991ffde3d9c678d7d2b700"></a><!-- doxytag: member="PLAYING" ref="ac59256e616e553048c7fadfae798933dabc5a7b0a6d991ffde3d9c678d7d2b700" args="" -->PLAYING</em>&nbsp;</td><td>
<p>Data is being sent. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00063">63</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00063"></a>00063                           {
<a name="l00064"></a>00064             <a class="code" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933da270de7595d9590d548963a3ab8dbb8f3">STOPPED</a>, <span class="comment">//&lt; No transmission.</span>
<a name="l00065"></a>00065             <a class="code" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933dabc5a7b0a6d991ffde3d9c678d7d2b700" title="Data is being sent.">PLAYING</a>  
<a name="l00066"></a>00066         };
</pre></div></p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6990d34d13be7e9851d6341d251e6c22"></a><!-- doxytag: member="RTPPayloadSender::RTPPayloadSender" ref="a6990d34d13be7e9851d6341d251e6c22" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTPPayloadSender::RTPPayloadSender </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor, with <a class="el" href="class_r_t_p_payload_sender.html#a31653f5519ad70937f044eecba57ecac">activity()</a> stack size. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00045">45</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00045"></a>00045 : cSimpleModule(32768) {}
</pre></div></p>

</div>
</div>
<a class="anchor" id="a86725b3d955310caffe95170e482fffe"></a><!-- doxytag: member="RTPPayloadSender::~RTPPayloadSender" ref="a86725b3d955310caffe95170e482fffe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTPPayloadSender::~RTPPayloadSender </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Cleaning up. Calls closeSourceFile. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00029">29</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00030"></a>00030 {
<a name="l00031"></a>00031     <a class="code" href="class_r_t_p_payload_sender.html#a578ae414c38747252b0cfc7d717deb2b">closeSourceFile</a>();
<a name="l00032"></a>00032 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a31653f5519ad70937f044eecba57ecac"></a><!-- doxytag: member="RTPPayloadSender::activity" ref="a31653f5519ad70937f044eecba57ecac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::activity </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">49</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00050"></a>00050 {
<a name="l00051"></a>00051     <span class="keyword">const</span> <span class="keywordtype">char</span> *command;
<a name="l00052"></a>00052     <span class="keywordflow">while</span> (<span class="keyword">true</span>) {
<a name="l00053"></a>00053         cMessage *msg = receive();
<a name="l00054"></a>00054         <span class="keywordflow">if</span> (msg-&gt;getArrivalGateId() == findGate(<span class="stringliteral">&quot;profileIn&quot;</span>)) {
<a name="l00055"></a>00055             <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinpIn = check_and_cast&lt;<a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&gt;(msg);
<a name="l00056"></a>00056             <span class="keywordflow">if</span> (rinpIn-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a8de46bdf80e04331223d83af5f507d80">getType</a>() == <a class="code" href="class_r_t_p_inner_packet.html#abaed016d76395b99a11347dd05fd8888a43cb0a1732c130c1a459c6693d40a479">RTPInnerPacket::RTP_INP_INITIALIZE_SENDER_MODULE</a>) {
<a name="l00057"></a>00057                 <a class="code" href="class_r_t_p_payload_sender.html#a1f8653338d14096e4296243ab0821ff1">initializeSenderModule</a>(rinpIn);
<a name="l00058"></a>00058             }
<a name="l00059"></a>00059             <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rinpIn-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a8de46bdf80e04331223d83af5f507d80">getType</a>() == <a class="code" href="class_r_t_p_inner_packet.html#abaed016d76395b99a11347dd05fd8888afef73ca182e050207a0384b9684dbe3d">RTPInnerPacket::RTP_INP_SENDER_MODULE_CONTROL</a>) {
<a name="l00060"></a>00060                 <a class="code" href="class_r_t_p_sender_control_message.html">RTPSenderControlMessage</a> *rscm = (<a class="code" href="class_r_t_p_sender_control_message.html">RTPSenderControlMessage</a> *)(rinpIn-&gt;decapsulate());
<a name="l00061"></a>00061                 <span class="keyword">delete</span> rinpIn;
<a name="l00062"></a>00062                 command = rscm-&gt;<a class="code" href="class_r_t_p_sender_control_message.html#a3c1c39eadad529ddb8b5f18d9c0bf24b">getCommand</a>();
<a name="l00063"></a>00063                 <span class="keywordflow">if</span> (!opp_strcmp(command, <span class="stringliteral">&quot;PLAY&quot;</span>)) {
<a name="l00064"></a>00064                     <a class="code" href="class_r_t_p_payload_sender.html#a9538606bf2b0d873cd0a0cd7754f7ce9">play</a>();
<a name="l00065"></a>00065                 }
<a name="l00066"></a>00066                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!opp_strcmp(command, <span class="stringliteral">&quot;PLAY_UNTIL_TIME&quot;</span>)) {
<a name="l00067"></a>00067                     <a class="code" href="class_r_t_p_payload_sender.html#aa5c19f1b88c1e88f0eeb42fc486471b3">playUntilTime</a>(rscm-&gt;<a class="code" href="class_r_t_p_sender_control_message.html#a0fbb12b5d3b69b9c3c2e8d54e872616b">getCommandParameter1</a>());
<a name="l00068"></a>00068                 }
<a name="l00069"></a>00069                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!opp_strcmp(command, <span class="stringliteral">&quot;PLAY_UNTIL_BYTE&quot;</span>)) {
<a name="l00070"></a>00070                     <a class="code" href="class_r_t_p_payload_sender.html#a4ce92002f68b9a5308df0a269ac95246">playUntilByte</a>(rscm-&gt;<a class="code" href="class_r_t_p_sender_control_message.html#a0fbb12b5d3b69b9c3c2e8d54e872616b">getCommandParameter1</a>());
<a name="l00071"></a>00071                 }
<a name="l00072"></a>00072                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!opp_strcmp(command, <span class="stringliteral">&quot;PAUSE&quot;</span>)) {
<a name="l00073"></a>00073                     <a class="code" href="class_r_t_p_payload_sender.html#a1076c39c68c6583d224af968c840acc7">pause</a>();
<a name="l00074"></a>00074                 }
<a name="l00075"></a>00075                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!opp_strcmp(command, <span class="stringliteral">&quot;STOP&quot;</span>)) {
<a name="l00076"></a>00076                     <a class="code" href="class_r_t_p_payload_sender.html#ad9cd79ff818c987d07c1f21b70678588">stop</a>();
<a name="l00077"></a>00077                 }
<a name="l00078"></a>00078                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!opp_strcmp(command, <span class="stringliteral">&quot;SEEK_TIME&quot;</span>)) {
<a name="l00079"></a>00079                     <a class="code" href="class_r_t_p_payload_sender.html#a1192ffd879c11dc9a881d6b28929df9e">seekTime</a>(rscm-&gt;<a class="code" href="class_r_t_p_sender_control_message.html#a0fbb12b5d3b69b9c3c2e8d54e872616b">getCommandParameter1</a>());
<a name="l00080"></a>00080                 }
<a name="l00081"></a>00081                 <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!opp_strcmp(command, <span class="stringliteral">&quot;SEEK_BYTE&quot;</span>)) {
<a name="l00082"></a>00082                     <a class="code" href="class_r_t_p_payload_sender.html#a11612dd7a6cda674f8d79a8cdf2d8b5c">seekByte</a>(rscm-&gt;<a class="code" href="class_r_t_p_sender_control_message.html#a0fbb12b5d3b69b9c3c2e8d54e872616b">getCommandParameter1</a>());
<a name="l00083"></a>00083                 }
<a name="l00084"></a>00084                 <span class="keywordflow">else</span> {
<a name="l00085"></a>00085                     error(<span class="stringliteral">&quot;unknown sender control message&quot;</span>);
<a name="l00086"></a>00086                 }
<a name="l00087"></a>00087                 <span class="keyword">delete</span> rscm;
<a name="l00088"></a>00088             }
<a name="l00089"></a>00089         }
<a name="l00090"></a>00090         <span class="keywordflow">else</span> {
<a name="l00091"></a>00091             <span class="keywordflow">if</span> (!<a class="code" href="class_r_t_p_payload_sender.html#a3738b1a68ff9929c50fd798a74ee8b54">sendPacket</a>()) {
<a name="l00092"></a>00092                 <a class="code" href="class_r_t_p_payload_sender.html#aa8d3c549b50edb6e9c17db691d7e726e">endOfFile</a>();
<a name="l00093"></a>00093             }
<a name="l00094"></a>00094             <span class="keyword">delete</span> msg;
<a name="l00095"></a>00095         }
<a name="l00096"></a>00096     }
<a name="l00097"></a>00097 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a578ae414c38747252b0cfc7d717deb2b"></a><!-- doxytag: member="RTPPayloadSender::closeSourceFile" ref="a578ae414c38747252b0cfc7d717deb2b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::closeSourceFile </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method is called by the destructor and closes the data file. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00125">125</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00029">~RTPPayloadSender()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00126"></a>00126 {
<a name="l00127"></a>00127     <a class="code" href="class_r_t_p_payload_sender.html#aabee3f800e5e676d2b297ff6a571c259">_inputFileStream</a>.close();
<a name="l00128"></a>00128 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa8d3c549b50edb6e9c17db691d7e726e"></a><!-- doxytag: member="RTPPayloadSender::endOfFile" ref="aa8d3c549b50edb6e9c17db691d7e726e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::endOfFile </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method gets called when the sender module reaches the end of file. For the transmission it has the same effect like <a class="el" href="class_r_t_p_payload_sender.html#ad9cd79ff818c987d07c1f21b70678588">stop()</a>. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00195">195</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">activity()</a>, and <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00131">play()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00196"></a>00196 {
<a name="l00197"></a>00197     <a class="code" href="class_r_t_p_payload_sender.html#a881b74af0edb1793055bcd1a2912c4ed">_status</a> = <a class="code" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933da270de7595d9590d548963a3ab8dbb8f3">STOPPED</a>;
<a name="l00198"></a>00198     <a class="code" href="class_r_t_p_sender_status_message.html">RTPSenderStatusMessage</a> *rssm = <span class="keyword">new</span> <a class="code" href="class_r_t_p_sender_status_message.html">RTPSenderStatusMessage</a>();
<a name="l00199"></a>00199     rssm-&gt;<a class="code" href="class_r_t_p_sender_status_message.html#aa699d4f7ad2adc2420a232b96ec4de42">setStatus</a>(<span class="stringliteral">&quot;FINISHED&quot;</span>);
<a name="l00200"></a>00200     <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinpOut = <span class="keyword">new</span> <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a>(<span class="stringliteral">&quot;senderModuleStatus(FINISHED)&quot;</span>);
<a name="l00201"></a>00201     rinpOut-&gt;<a class="code" href="class_r_t_p_inner_packet.html#ad96315d76da3e4068c6107b886884506">senderModuleStatus</a>(<a class="code" href="class_r_t_p_payload_sender.html#a98d0eb2439d2eab6606741445590b513">_ssrc</a>, rssm);
<a name="l00202"></a>00202     send(rinpOut, <span class="stringliteral">&quot;profileOut&quot;</span>);
<a name="l00203"></a>00203 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3d89be915b854cf2655a68c68cec0ba1"></a><!-- doxytag: member="RTPPayloadSender::initialize" ref="a3d89be915b854cf2655a68c68cec0ba1" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::initialize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Chooses sequence number and time stamp base values and reads the omnet parameter "mtu". </p>

<p>Reimplemented in <a class="el" href="class_r_t_p_a_v_profile_payload32_sender.html#a659955ebcef6b036f57a503607e6472f">RTPAVProfilePayload32Sender</a>.</p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00035">35</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_profile_8cc_source.html#l00147">RTPProfile::createSenderModule()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00036"></a>00036 {
<a name="l00037"></a>00037     <a class="code" href="class_r_t_p_payload_sender.html#a3d89be915b854cf2655a68c68cec0ba1">cSimpleModule::initialize</a>();
<a name="l00038"></a>00038     <a class="code" href="class_r_t_p_payload_sender.html#a32ec374991c6a22751fac7db79a3f465">_mtu</a> = 0;
<a name="l00039"></a>00039     <a class="code" href="class_r_t_p_payload_sender.html#a98d0eb2439d2eab6606741445590b513">_ssrc</a> = 0;
<a name="l00040"></a>00040     <a class="code" href="class_r_t_p_payload_sender.html#a39af1b84253a34a9903f9c718bd66b1c">_payloadType</a> = 0;
<a name="l00041"></a>00041     <a class="code" href="class_r_t_p_payload_sender.html#a8674ccb970be216091f20e60c41c9e9f">_clockRate</a> = 0;
<a name="l00042"></a>00042     <a class="code" href="class_r_t_p_payload_sender.html#aaa174d6ff76832088142302de2e7deb4">_timeStampBase</a> = intrand(65535);
<a name="l00043"></a>00043     <a class="code" href="class_r_t_p_payload_sender.html#a0ac319d6695cad406c6ecda2a0b4c27c">_timeStamp</a> = <a class="code" href="class_r_t_p_payload_sender.html#aaa174d6ff76832088142302de2e7deb4">_timeStampBase</a>;
<a name="l00044"></a>00044     <a class="code" href="class_r_t_p_payload_sender.html#a8d2e99636e2bb7baee5e468b1e3c2a48">_sequenceNumberBase</a> = intrand(0x7fffffff);
<a name="l00045"></a>00045     <a class="code" href="class_r_t_p_payload_sender.html#aa640a9b2867c042f2cc48f0f9489e870">_sequenceNumber</a> = <a class="code" href="class_r_t_p_payload_sender.html#a8d2e99636e2bb7baee5e468b1e3c2a48">_sequenceNumberBase</a>;
<a name="l00046"></a>00046 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1f8653338d14096e4296243ab0821ff1"></a><!-- doxytag: member="RTPPayloadSender::initializeSenderModule" ref="a1f8653338d14096e4296243ab0821ff1" args="(RTPInnerPacket *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::initializeSenderModule </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *&nbsp;</td>
          <td class="paramname"> <em>rinpIn</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method is called when a newly create sender module received its initialization message from profile module. It returns an RTP_INP_SENDER_MODULE_INITIALIZED message which </p>

<p>Reimplemented in <a class="el" href="class_r_t_p_a_v_profile_payload32_sender.html#a8bbc7ffcabe829c7e29e183d422c50cb">RTPAVProfilePayload32Sender</a>.</p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00100">100</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">activity()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00101"></a>00101 {
<a name="l00102"></a>00102     ev &lt;&lt; <span class="stringliteral">&quot;initializeSenderModule Enter&quot;</span> &lt;&lt; endl;
<a name="l00103"></a>00103     <a class="code" href="class_r_t_p_payload_sender.html#a32ec374991c6a22751fac7db79a3f465">_mtu</a> = rinpIn-&gt;<a class="code" href="class_r_t_p_inner_packet.html#af622535a6cc9b941389bf20845b23290">getMTU</a>();
<a name="l00104"></a>00104     <a class="code" href="class_r_t_p_payload_sender.html#a98d0eb2439d2eab6606741445590b513">_ssrc</a> = rinpIn-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a0b2377650bf813c8e0a0bf8bd8711505">getSSRC</a>();
<a name="l00105"></a>00105     <span class="keyword">const</span> <span class="keywordtype">char</span> *fileName = rinpIn-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a04a6281b1735bf22e9a5dff46681c124">getFileName</a>();
<a name="l00106"></a>00106     <a class="code" href="class_r_t_p_payload_sender.html#acdd1e2f6a2e8a17cdb576aa86168292a">openSourceFile</a>(fileName);
<a name="l00107"></a>00107     <span class="keyword">delete</span> rinpIn;
<a name="l00108"></a>00108     <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinpOut = <span class="keyword">new</span> <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a>(<span class="stringliteral">&quot;senderModuleInitialized()&quot;</span>);
<a name="l00109"></a>00109     rinpOut-&gt;<a class="code" href="class_r_t_p_inner_packet.html#a73c5f78d56cca62db49cc6ba54ad524f">senderModuleInitialized</a>(<a class="code" href="class_r_t_p_payload_sender.html#a98d0eb2439d2eab6606741445590b513">_ssrc</a>, <a class="code" href="class_r_t_p_payload_sender.html#a39af1b84253a34a9903f9c718bd66b1c">_payloadType</a>, <a class="code" href="class_r_t_p_payload_sender.html#a8674ccb970be216091f20e60c41c9e9f">_clockRate</a>, <a class="code" href="class_r_t_p_payload_sender.html#aaa174d6ff76832088142302de2e7deb4">_timeStampBase</a>, <a class="code" href="class_r_t_p_payload_sender.html#a8d2e99636e2bb7baee5e468b1e3c2a48">_sequenceNumberBase</a>);
<a name="l00110"></a>00110     send(rinpOut, <span class="stringliteral">&quot;profileOut&quot;</span>);
<a name="l00111"></a>00111     <a class="code" href="class_r_t_p_payload_sender.html#a881b74af0edb1793055bcd1a2912c4ed">_status</a> = <a class="code" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933da270de7595d9590d548963a3ab8dbb8f3">STOPPED</a>;
<a name="l00112"></a>00112     ev &lt;&lt; <span class="stringliteral">&quot;initializeSenderModule Exit&quot;</span> &lt;&lt; endl;
<a name="l00113"></a>00113 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acdd1e2f6a2e8a17cdb576aa86168292a"></a><!-- doxytag: member="RTPPayloadSender::openSourceFile" ref="acdd1e2f6a2e8a17cdb576aa86168292a" args="(const char *fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::openSourceFile </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>fileName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method is called by initializeSenderModule and opens the source data file as an inputFileStream stored in member variable _inputFileStream. Most data formats can use this method directly, but when using a library for a certain data format which offers an own open routine this method must be overwritten. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00116">116</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00100">initializeSenderModule()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00117"></a>00117 {
<a name="l00118"></a>00118     <a class="code" href="class_r_t_p_payload_sender.html#aabee3f800e5e676d2b297ff6a571c259">_inputFileStream</a>.open(fileName);
<a name="l00119"></a>00119     <span class="keywordflow">if</span> (!<a class="code" href="class_r_t_p_payload_sender.html#aabee3f800e5e676d2b297ff6a571c259">_inputFileStream</a>) {
<a name="l00120"></a>00120         opp_error(<span class="stringliteral">&quot;sender module: error open data file&quot;</span>);
<a name="l00121"></a>00121     }
<a name="l00122"></a>00122 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1076c39c68c6583d224af968c840acc7"></a><!-- doxytag: member="RTPPayloadSender::pause" ref="a1076c39c68c6583d224af968c840acc7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::pause </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When data is being transmitted this methods suspends till a new PLAY command. Implementation in sender modules is optional. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00159">159</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">activity()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00160"></a>00160 {
<a name="l00161"></a>00161     cancelEvent(<a class="code" href="class_r_t_p_payload_sender.html#a7dfada70b7fab61bcf43dcf687e506d4">_reminderMessage</a>);
<a name="l00162"></a>00162     <a class="code" href="class_r_t_p_payload_sender.html#a881b74af0edb1793055bcd1a2912c4ed">_status</a> = <a class="code" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933da270de7595d9590d548963a3ab8dbb8f3">STOPPED</a>;
<a name="l00163"></a>00163     <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinpOut = <span class="keyword">new</span> <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a>(<span class="stringliteral">&quot;senderModuleStatus(PAUSED)&quot;</span>);
<a name="l00164"></a>00164     <a class="code" href="class_r_t_p_sender_status_message.html">RTPSenderStatusMessage</a> *rsim = <span class="keyword">new</span> <a class="code" href="class_r_t_p_sender_status_message.html">RTPSenderStatusMessage</a>();
<a name="l00165"></a>00165     rsim-&gt;<a class="code" href="class_r_t_p_sender_status_message.html#aa699d4f7ad2adc2420a232b96ec4de42">setStatus</a>(<span class="stringliteral">&quot;PAUSED&quot;</span>);
<a name="l00166"></a>00166     rinpOut-&gt;<a class="code" href="class_r_t_p_inner_packet.html#ad96315d76da3e4068c6107b886884506">senderModuleStatus</a>(<a class="code" href="class_r_t_p_payload_sender.html#a98d0eb2439d2eab6606741445590b513">_ssrc</a>, rsim);
<a name="l00167"></a>00167     send(rinpOut, <span class="stringliteral">&quot;profileOut&quot;</span>);
<a name="l00168"></a>00168 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9538606bf2b0d873cd0a0cd7754f7ce9"></a><!-- doxytag: member="RTPPayloadSender::play" ref="a9538606bf2b0d873cd0a0cd7754f7ce9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::play </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Starts data transmission. Every sender module must implement this method. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00131">131</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">activity()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00132"></a>00132 {
<a name="l00133"></a>00133     <a class="code" href="class_r_t_p_payload_sender.html#a881b74af0edb1793055bcd1a2912c4ed">_status</a> = <a class="code" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933dabc5a7b0a6d991ffde3d9c678d7d2b700" title="Data is being sent.">PLAYING</a>;
<a name="l00134"></a>00134     <a class="code" href="class_r_t_p_sender_status_message.html">RTPSenderStatusMessage</a> *rssm = <span class="keyword">new</span> <a class="code" href="class_r_t_p_sender_status_message.html">RTPSenderStatusMessage</a>(<span class="stringliteral">&quot;PLAYING&quot;</span>);
<a name="l00135"></a>00135     rssm-&gt;<a class="code" href="class_r_t_p_sender_status_message.html#aa699d4f7ad2adc2420a232b96ec4de42">setStatus</a>(<span class="stringliteral">&quot;PLAYING&quot;</span>);
<a name="l00136"></a>00136     rssm-&gt;<a class="code" href="class_r_t_p_sender_status_message.html#a3885aa0d08cf4e404124804ef8ead379">setTimeStamp</a>(<a class="code" href="class_r_t_p_payload_sender.html#a0ac319d6695cad406c6ecda2a0b4c27c">_timeStamp</a>);
<a name="l00137"></a>00137     <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinpOut = <span class="keyword">new</span> <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a>(<span class="stringliteral">&quot;senderModuleStatus(PLAYING)&quot;</span>);
<a name="l00138"></a>00138     rinpOut-&gt;<a class="code" href="class_r_t_p_inner_packet.html#ad96315d76da3e4068c6107b886884506">senderModuleStatus</a>(<a class="code" href="class_r_t_p_payload_sender.html#a98d0eb2439d2eab6606741445590b513">_ssrc</a>, rssm);
<a name="l00139"></a>00139     send(rinpOut, <span class="stringliteral">&quot;profileOut&quot;</span>);
<a name="l00140"></a>00140 
<a name="l00141"></a>00141     <span class="keywordflow">if</span> (!<a class="code" href="class_r_t_p_payload_sender.html#a3738b1a68ff9929c50fd798a74ee8b54">sendPacket</a>()) {
<a name="l00142"></a>00142         <a class="code" href="class_r_t_p_payload_sender.html#aa8d3c549b50edb6e9c17db691d7e726e">endOfFile</a>();
<a name="l00143"></a>00143     }
<a name="l00144"></a>00144 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a4ce92002f68b9a5308df0a269ac95246"></a><!-- doxytag: member="RTPPayloadSender::playUntilByte" ref="a4ce92002f68b9a5308df0a269ac95246" args="(int position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::playUntilByte </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>position</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Starts transmission from the current file position and plays until given byte position (excluding file header) is reached. Implementation in sender modules is optional. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00153">153</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">activity()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00154"></a>00154 {
<a name="l00155"></a>00155     error(<span class="stringliteral">&quot;playUntilByte() not implemented&quot;</span>);
<a name="l00156"></a>00156 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa5c19f1b88c1e88f0eeb42fc486471b3"></a><!-- doxytag: member="RTPPayloadSender::playUntilTime" ref="aa5c19f1b88c1e88f0eeb42fc486471b3" args="(simtime_t moment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::playUntilTime </td>
          <td>(</td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>moment</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Starts transmission from the current file position and plays until given time (relative to start of file) is reached. Implementation in sender modules is optional. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00147">147</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">activity()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00148"></a>00148 {
<a name="l00149"></a>00149     error(<span class="stringliteral">&quot;playUntilTime() not implemented&quot;</span>);
<a name="l00150"></a>00150 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a11612dd7a6cda674f8d79a8cdf2d8b5c"></a><!-- doxytag: member="RTPPayloadSender::seekByte" ref="a11612dd7a6cda674f8d79a8cdf2d8b5c" args="(int position)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::seekByte </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>position</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When the data transmission is paused the current position is changed to this byte position (excluding file header). Implementation in sender modules is optional. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00177">177</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">activity()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00178"></a>00178 {
<a name="l00179"></a>00179     error(<span class="stringliteral">&quot;seekByte() not implemented&quot;</span>);
<a name="l00180"></a>00180 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1192ffd879c11dc9a881d6b28929df9e"></a><!-- doxytag: member="RTPPayloadSender::seekTime" ref="a1192ffd879c11dc9a881d6b28929df9e" args="(simtime_t moment)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::seekTime </td>
          <td>(</td>
          <td class="paramtype">simtime_t&nbsp;</td>
          <td class="paramname"> <em>moment</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>When the data transmission is paused the current position is changed to this time (relative to start of file). Implementation in sender modules is optional. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00171">171</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">activity()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00172"></a>00172 {
<a name="l00173"></a>00173     error(<span class="stringliteral">&quot;seekTime() not implemented&quot;</span>);
<a name="l00174"></a>00174 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3738b1a68ff9929c50fd798a74ee8b54"></a><!-- doxytag: member="RTPPayloadSender::sendPacket" ref="a3738b1a68ff9929c50fd798a74ee8b54" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RTPPayloadSender::sendPacket </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method gets called when one (or more) rtp data packets have to be sent. Subclasses must overwrite this method to do something useful. This implementation doesn't send packets it just returns </p>

<p>Reimplemented in <a class="el" href="class_r_t_p_a_v_profile_payload32_sender.html#abcffc8019d25b3a660220c0759747629">RTPAVProfilePayload32Sender</a>.</p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00206">206</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">activity()</a>, and <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00131">play()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00207"></a>00207 {
<a name="l00208"></a>00208     error(<span class="stringliteral">&quot;sendPacket() not implemented&quot;</span>);
<a name="l00209"></a>00209     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00210"></a>00210 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad9cd79ff818c987d07c1f21b70678588"></a><!-- doxytag: member="RTPPayloadSender::stop" ref="ad9cd79ff818c987d07c1f21b70678588" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RTPPayloadSender::stop </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method stop data transmission and resets the sender module so that a following PLAY command would start the transmission at the beginning again. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00183">183</a> of file <a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00049">activity()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00184"></a>00184 {
<a name="l00185"></a>00185     cancelEvent(<a class="code" href="class_r_t_p_payload_sender.html#a7dfada70b7fab61bcf43dcf687e506d4">_reminderMessage</a>);
<a name="l00186"></a>00186     <a class="code" href="class_r_t_p_payload_sender.html#a881b74af0edb1793055bcd1a2912c4ed">_status</a> = <a class="code" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933da270de7595d9590d548963a3ab8dbb8f3">STOPPED</a>;
<a name="l00187"></a>00187     <a class="code" href="class_r_t_p_sender_status_message.html">RTPSenderStatusMessage</a> *rssm = <span class="keyword">new</span> <a class="code" href="class_r_t_p_sender_status_message.html">RTPSenderStatusMessage</a>(<span class="stringliteral">&quot;STOPPED&quot;</span>);
<a name="l00188"></a>00188     rssm-&gt;<a class="code" href="class_r_t_p_sender_status_message.html#aa699d4f7ad2adc2420a232b96ec4de42">setStatus</a>(<span class="stringliteral">&quot;STOPPED&quot;</span>);
<a name="l00189"></a>00189     <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a> *rinp = <span class="keyword">new</span> <a class="code" href="class_r_t_p_inner_packet.html">RTPInnerPacket</a>(<span class="stringliteral">&quot;senderModuleStatus(STOPPED)&quot;</span>);
<a name="l00190"></a>00190     rinp-&gt;<a class="code" href="class_r_t_p_inner_packet.html#ad96315d76da3e4068c6107b886884506">senderModuleStatus</a>(<a class="code" href="class_r_t_p_payload_sender.html#a98d0eb2439d2eab6606741445590b513">_ssrc</a>, rssm);
<a name="l00191"></a>00191     send(rinp, <span class="stringliteral">&quot;profileOut&quot;</span>);
<a name="l00192"></a>00192 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a8674ccb970be216091f20e60c41c9e9f"></a><!-- doxytag: member="RTPPayloadSender::_clockRate" ref="a8674ccb970be216091f20e60c41c9e9f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_p_payload_sender.html#a8674ccb970be216091f20e60c41c9e9f">RTPPayloadSender::_clockRate</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The clock rate in ticks per second this sender uses. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00093">93</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00035">initialize()</a>, <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00034">RTPAVProfilePayload32Sender::initialize()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00100">initializeSenderModule()</a>, and <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00153">RTPAVProfilePayload32Sender::sendPacket()</a>.</p>

</div>
</div>
<a class="anchor" id="aabee3f800e5e676d2b297ff6a571c259"></a><!-- doxytag: member="RTPPayloadSender::_inputFileStream" ref="aabee3f800e5e676d2b297ff6a571c259" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::ifstream <a class="el" href="class_r_t_p_payload_sender.html#aabee3f800e5e676d2b297ff6a571c259">RTPPayloadSender::_inputFileStream</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The input file stream for the data file. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00073">73</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00125">closeSourceFile()</a>, <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00116">RTPAVProfilePayload32Sender::initializeSenderModule()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00116">openSourceFile()</a>, and <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00153">RTPAVProfilePayload32Sender::sendPacket()</a>.</p>

</div>
</div>
<a class="anchor" id="a32ec374991c6a22751fac7db79a3f465"></a><!-- doxytag: member="RTPPayloadSender::_mtu" ref="a32ec374991c6a22751fac7db79a3f465" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_p_payload_sender.html#a32ec374991c6a22751fac7db79a3f465">RTPPayloadSender::_mtu</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The maximum size of an <a class="el" href="class_r_t_p_packet.html">RTPPacket</a>. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00078">78</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00035">initialize()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00100">initializeSenderModule()</a>, and <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00153">RTPAVProfilePayload32Sender::sendPacket()</a>.</p>

</div>
</div>
<a class="anchor" id="a39af1b84253a34a9903f9c718bd66b1c"></a><!-- doxytag: member="RTPPayloadSender::_payloadType" ref="a39af1b84253a34a9903f9c718bd66b1c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_r_t_p_payload_sender.html#a39af1b84253a34a9903f9c718bd66b1c">RTPPayloadSender::_payloadType</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The payload type this sender creates. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00088">88</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00035">initialize()</a>, <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00034">RTPAVProfilePayload32Sender::initialize()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00100">initializeSenderModule()</a>, and <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00153">RTPAVProfilePayload32Sender::sendPacket()</a>.</p>

</div>
</div>
<a class="anchor" id="a7dfada70b7fab61bcf43dcf687e506d4"></a><!-- doxytag: member="RTPPayloadSender::_reminderMessage" ref="a7dfada70b7fab61bcf43dcf687e506d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cMessage* <a class="el" href="class_r_t_p_payload_sender.html#a7dfada70b7fab61bcf43dcf687e506d4">RTPPayloadSender::_reminderMessage</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>A self message used as timer for the moment the next packet must be sent. It's a member variable because when playing gets paused or stopped the timer must be cancelled. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00127">127</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00159">pause()</a>, <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00153">RTPAVProfilePayload32Sender::sendPacket()</a>, and <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00183">stop()</a>.</p>

</div>
</div>
<a class="anchor" id="aa640a9b2867c042f2cc48f0f9489e870"></a><!-- doxytag: member="RTPPayloadSender::_sequenceNumber" ref="aa640a9b2867c042f2cc48f0f9489e870" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 <a class="el" href="class_r_t_p_payload_sender.html#aa640a9b2867c042f2cc48f0f9489e870">RTPPayloadSender::_sequenceNumber</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The current sequence number. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00115">115</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00035">initialize()</a>, and <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00153">RTPAVProfilePayload32Sender::sendPacket()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d2e99636e2bb7baee5e468b1e3c2a48"></a><!-- doxytag: member="RTPPayloadSender::_sequenceNumberBase" ref="a8d2e99636e2bb7baee5e468b1e3c2a48" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16 <a class="el" href="class_r_t_p_payload_sender.html#a8d2e99636e2bb7baee5e468b1e3c2a48">RTPPayloadSender::_sequenceNumberBase</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The first sequence number used for created rtp data packets. The value is chosen randomly. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00110">110</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00035">initialize()</a>, and <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00100">initializeSenderModule()</a>.</p>

</div>
</div>
<a class="anchor" id="a98d0eb2439d2eab6606741445590b513"></a><!-- doxytag: member="RTPPayloadSender::_ssrc" ref="a98d0eb2439d2eab6606741445590b513" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 <a class="el" href="class_r_t_p_payload_sender.html#a98d0eb2439d2eab6606741445590b513">RTPPayloadSender::_ssrc</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The ssrc identifier of this sender module. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00083">83</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00195">endOfFile()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00035">initialize()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00100">initializeSenderModule()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00159">pause()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00131">play()</a>, <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00153">RTPAVProfilePayload32Sender::sendPacket()</a>, and <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00183">stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a881b74af0edb1793055bcd1a2912c4ed"></a><!-- doxytag: member="RTPPayloadSender::_status" ref="a881b74af0edb1793055bcd1a2912c4ed" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_r_t_p_payload_sender.html#ac59256e616e553048c7fadfae798933d">SenderStatus</a> <a class="el" href="class_r_t_p_payload_sender.html#a881b74af0edb1793055bcd1a2912c4ed">RTPPayloadSender::_status</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The current state of data transmission. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00120">120</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00195">endOfFile()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00100">initializeSenderModule()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00159">pause()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00131">play()</a>, and <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00183">stop()</a>.</p>

</div>
</div>
<a class="anchor" id="a0ac319d6695cad406c6ecda2a0b4c27c"></a><!-- doxytag: member="RTPPayloadSender::_timeStamp" ref="a0ac319d6695cad406c6ecda2a0b4c27c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 <a class="el" href="class_r_t_p_payload_sender.html#a0ac319d6695cad406c6ecda2a0b4c27c">RTPPayloadSender::_timeStamp</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The current rtp time stamp. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00104">104</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00035">initialize()</a>, and <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00131">play()</a>.</p>

</div>
</div>
<a class="anchor" id="aaa174d6ff76832088142302de2e7deb4"></a><!-- doxytag: member="RTPPayloadSender::_timeStampBase" ref="aaa174d6ff76832088142302de2e7deb4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32 <a class="el" href="class_r_t_p_payload_sender.html#aaa174d6ff76832088142302de2e7deb4">RTPPayloadSender::_timeStampBase</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The first rtp time stamp used for created rtp data packets. The value is chosen randomly. </p>

<p>Definition at line <a class="el" href="_r_t_p_payload_sender_8h_source.html#l00099">99</a> of file <a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a>.</p>

<p>Referenced by <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00035">initialize()</a>, <a class="el" href="_r_t_p_payload_sender_8cc_source.html#l00100">initializeSenderModule()</a>, and <a class="el" href="_r_t_p_a_v_profile_payload32_sender_8cc_source.html#l00153">RTPAVProfilePayload32Sender::sendPacket()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_r_t_p_payload_sender_8h_source.html">RTPPayloadSender.h</a></li>
<li><a class="el" href="_r_t_p_payload_sender_8cc_source.html">RTPPayloadSender.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Mar 23 17:08:36 2010 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
