<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: SnrEval80211 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>SnrEval80211 Class Reference</h1><!-- doxytag: class="SnrEval80211" --><!-- doxytag: inherits="SnrEval" -->
<p>A <a class="el" href="class_snr_eval.html" title="Keeps track of the different snir levels when receiving a packet.">SnrEval</a> for the 802.11b protocol.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_snr_eval80211_8h_source.html">SnrEval80211.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SnrEval80211:</div>
<div class="dynsection">
 <div class="center">
  <img src="class_snr_eval80211.gif" usemap="#SnrEval80211_map" alt=""/>
  <map id="SnrEval80211_map" name="SnrEval80211_map">
<area href="class_snr_eval.html" alt="SnrEval" shape="rect" coords="0,224,101,248"/>
<area href="class_basic_snr_eval.html" alt="BasicSnrEval" shape="rect" coords="0,168,101,192"/>
<area href="class_channel_access.html" alt="ChannelAccess" shape="rect" coords="0,112,101,136"/>
<area href="class_basic_module.html" alt="BasicModule" shape="rect" coords="0,56,101,80"/>
<area href="class_i_notifiable.html" alt="INotifiable" shape="rect" coords="0,0,101,24"/>
</map>
 </div>
</div>

<p><a href="class_snr_eval80211-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_snr_eval80211.html#a0ebbde9edf4489102ea539ba04c13a3e">initialize</a> (int)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Some extra parameters have to be read in.  <a href="#a0ebbde9edf4489102ea539ba04c13a3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_snr_eval80211.html#a4839d233ef2b15b59d18b6347316d4b1">calcDuration</a> (cPacket *)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">computes the duration of a 802.11 frame in seconds  <a href="#a4839d233ef2b15b59d18b6347316d4b1"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>A <a class="el" href="class_snr_eval.html" title="Keeps track of the different snir levels when receiving a packet.">SnrEval</a> for the 802.11b protocol. </p>
<p>Subclass of <a class="el" href="class_snr_eval.html" title="Keeps track of the different snir levels when receiving a packet.">SnrEval</a>. Basically the same except for some extra parameters of 802.11 and the duration of the packet that has to be computed differently as the modulation of header and data part of the packet are different. This module forms a physical layer together with the <a class="el" href="class_decider80211.html" title="Decider for the 802.11 modules.">Decider80211</a> module. The resulting physical layer is intended to be used together with the <a class="el" href="class_mac80211.html" title="An implementation of the 802.11b MAC.">Mac80211</a> module.</p>
<dl class="author"><dt><b>Author:</b></dt><dd>Marc Löbbers </dd></dl>

<p>Definition at line <a class="el" href="_snr_eval80211_8h_source.html#l00040">40</a> of file <a class="el" href="_snr_eval80211_8h_source.html">SnrEval80211.h</a>.</p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4839d233ef2b15b59d18b6347316d4b1"></a><!-- doxytag: member="SnrEval80211::calcDuration" ref="a4839d233ef2b15b59d18b6347316d4b1" args="(cPacket *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double SnrEval80211::calcDuration </td>
          <td>(</td>
          <td class="paramtype">cPacket *&nbsp;</td>
          <td class="paramname"> <em>frame</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>computes the duration of a 802.11 frame in seconds </p>
<p>The duration of the packet is computed, with respect to the different bitrates of header and data. The header is sent with 1Mbit/s and the rest with the bitrate read in in <a class="el" href="class_snr_eval80211.html#a0ebbde9edf4489102ea539ba04c13a3e" title="Some extra parameters have to be read in.">initialize()</a>. </p>

<p>Reimplemented from <a class="el" href="class_basic_snr_eval.html#a3670766c937b99c04bdcd84663092c7c">BasicSnrEval</a>.</p>

<p>Definition at line <a class="el" href="_snr_eval80211_8cc_source.html#l00039">39</a> of file <a class="el" href="_snr_eval80211_8cc_source.html">SnrEval80211.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00040"></a>00040 {
<a name="l00041"></a>00041     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;bits without header: &quot;</span> &lt;&lt; frame-&gt;getBitLength() -
<a name="l00042"></a>00042         <a class="code" href="class_basic_snr_eval.html#a25d3734b058a75c1a42b637db4b65902" title="a parameter that has to be read in from omnetpp.ini">headerLength</a> &lt;&lt; <span class="stringliteral">&quot;, bits header: &quot;</span> &lt;&lt; <a class="code" href="class_basic_snr_eval.html#a25d3734b058a75c1a42b637db4b65902" title="a parameter that has to be read in from omnetpp.ini">headerLength</a> &lt;&lt; endl;
<a name="l00043"></a>00043     <span class="keywordflow">return</span> ((frame-&gt;getBitLength() - <a class="code" href="class_basic_snr_eval.html#a25d3734b058a75c1a42b637db4b65902" title="a parameter that has to be read in from omnetpp.ini">headerLength</a>) / <a class="code" href="class_basic_snr_eval.html#a515b273855ffc377f579922d5eb68dfb" title="a parameter that has to be read in from omnetpp.ini">bitrate</a> + <a class="code" href="class_basic_snr_eval.html#a25d3734b058a75c1a42b637db4b65902" title="a parameter that has to be read in from omnetpp.ini">headerLength</a> / <a class="code" href="_ieee80211_consts_8h.html#a0454abde1a622bc79c2528d728e466ef">BITRATE_HEADER</a>);
<a name="l00044"></a>00044 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0ebbde9edf4489102ea539ba04c13a3e"></a><!-- doxytag: member="SnrEval80211::initialize" ref="a0ebbde9edf4489102ea539ba04c13a3e" args="(int)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SnrEval80211::initialize </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>stage</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Some extra parameters have to be read in. </p>

<p>Reimplemented from <a class="el" href="class_snr_eval.html#a10f81696b873c5acf9b65f04592c9918">SnrEval</a>.</p>

<p>Definition at line <a class="el" href="_snr_eval80211_8cc_source.html#l00020">20</a> of file <a class="el" href="_snr_eval80211_8cc_source.html">SnrEval80211.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00021"></a>00021 {
<a name="l00022"></a>00022     <a class="code" href="class_snr_eval80211.html#a0ebbde9edf4489102ea539ba04c13a3e" title="Some extra parameters have to be read in.">SnrEval::initialize</a>(stage);
<a name="l00023"></a>00023 
<a name="l00024"></a>00024     <span class="keywordflow">if</span> (stage == 0)
<a name="l00025"></a>00025     {
<a name="l00026"></a>00026         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;initializing stage 0\n&quot;</span>;
<a name="l00027"></a>00027         <span class="keywordflow">if</span> (<a class="code" href="class_basic_snr_eval.html#a515b273855ffc377f579922d5eb68dfb" title="a parameter that has to be read in from omnetpp.ini">bitrate</a> != 1E+6 &amp;&amp; <a class="code" href="class_basic_snr_eval.html#a515b273855ffc377f579922d5eb68dfb" title="a parameter that has to be read in from omnetpp.ini">bitrate</a> != 2E+6 &amp;&amp; <a class="code" href="class_basic_snr_eval.html#a515b273855ffc377f579922d5eb68dfb" title="a parameter that has to be read in from omnetpp.ini">bitrate</a> != 5.5E+6 &amp;&amp; <a class="code" href="class_basic_snr_eval.html#a515b273855ffc377f579922d5eb68dfb" title="a parameter that has to be read in from omnetpp.ini">bitrate</a> != 11E+6)
<a name="l00028"></a>00028             error(<span class="stringliteral">&quot;Wrong bit rate for 802.11, valid values are 1E+6, 2E+6, 5.5E+6 or 11E+6&quot;</span>);
<a name="l00029"></a>00029         <a class="code" href="class_basic_snr_eval.html#a25d3734b058a75c1a42b637db4b65902" title="a parameter that has to be read in from omnetpp.ini">headerLength</a> = 192;     <span class="comment">//has to be 192; this makes sure it is!</span>
<a name="l00030"></a>00030     }
<a name="l00031"></a>00031 }
</pre></div></p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_snr_eval80211_8h_source.html">SnrEval80211.h</a></li>
<li><a class="el" href="_snr_eval80211_8cc_source.html">SnrEval80211.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Mar 23 17:08:37 2010 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
