<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: QueueWithQoS Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>QueueWithQoS Class Reference</h1><!-- doxytag: class="QueueWithQoS" --><!-- doxytag: inherits="AbstractQueue" -->
<p><code>#include &lt;<a class="el" href="_queue_with_qo_s_8h_source.html">QueueWithQoS.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for QueueWithQoS:</div>
<div class="dynsection">
 <div class="center">
  <img src="class_queue_with_qo_s.gif" usemap="#QueueWithQoS_map" alt=""/>
  <map id="QueueWithQoS_map" name="QueueWithQoS_map">
<area href="class_abstract_queue.html" alt="AbstractQueue" shape="rect" coords="0,0,99,24"/>
</map>
 </div>
</div>

<p><a href="class_queue_with_qo_s-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#aeabdafa3a3c1be931b313420e4c65bde">QueueWithQoS</a> ()</td></tr>
<tr><td colspan="2"><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#a5bef8ae95596e6ba9cb5eabb6c8ac9e4">initialize</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#af753c5123a157f249c448ab06a19ec3a">arrival</a> (cPacket *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual cPacket *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#adda34a30cf2740c6ef0e68f2e3dfdda7">arrivalWhenIdle</a> (cPacket *msg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#a1940615e60cab7a91f0f5531d0bd4192">startService</a> (cPacket *msg)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">simtime_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#a04b6596303d68a6d35c5b8f6a406ed0d">delay</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_enqueue_hook.html">EnqueueHook</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_queue_with_qo_s.html#ac9479f34ed15854bf0c03105d0526990">qosHook</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Queue with constant processing time, with integrated QoS behaviour. Processing time is taken from the "procDelay" module parameter, and QoS class from the "qosBehaviourClass" module parameter.</p>
<p>Leaves the endService(cMessage *msg) method of <a class="el" href="class_abstract_queue.html">AbstractQueue</a> undefined. </p>

<p>Definition at line <a class="el" href="_queue_with_qo_s_8h_source.html#l00035">35</a> of file <a class="el" href="_queue_with_qo_s_8h_source.html">QueueWithQoS.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aeabdafa3a3c1be931b313420e4c65bde"></a><!-- doxytag: member="QueueWithQoS::QueueWithQoS" ref="aeabdafa3a3c1be931b313420e4c65bde" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QueueWithQoS::QueueWithQoS </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_queue_with_qo_s_8h_source.html#l00042">42</a> of file <a class="el" href="_queue_with_qo_s_8h_source.html">QueueWithQoS.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00042"></a>00042 {}
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="af753c5123a157f249c448ab06a19ec3a"></a><!-- doxytag: member="QueueWithQoS::arrival" ref="af753c5123a157f249c448ab06a19ec3a" args="(cPacket *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QueueWithQoS::arrival </td>
          <td>(</td>
          <td class="paramtype">cPacket *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Functions to (re)define behaviour Called when a message arrives at the module. The method should either enqueue this message (usual behaviour), or discard it. It may also wrap the it into another message, and insert that one in the queue.</p>
<p>Most straightforward implementation: <code>queue.insert(msg);</code> </p>

<p>Implements <a class="el" href="class_abstract_queue.html#a88f00baa496f742cd32012d26bd27591">AbstractQueue</a>.</p>

<p>Definition at line <a class="el" href="_queue_with_qo_s_8cc_source.html#l00032">32</a> of file <a class="el" href="_queue_with_qo_s_8cc_source.html">QueueWithQoS.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00033"></a>00033 {
<a name="l00034"></a>00034     <a class="code" href="class_queue_with_qo_s.html#ac9479f34ed15854bf0c03105d0526990">qosHook</a>-&gt;<a class="code" href="class_enqueue_hook.html#a73b45d9498136e8bb157702428e8469e">enqueue</a>(msg, <a class="code" href="class_abstract_queue.html#aec57a7fb0af43102a17433e2b7ddd339">queue</a>);
<a name="l00035"></a>00035 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adda34a30cf2740c6ef0e68f2e3dfdda7"></a><!-- doxytag: member="QueueWithQoS::arrivalWhenIdle" ref="adda34a30cf2740c6ef0e68f2e3dfdda7" args="(cPacket *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cPacket * QueueWithQoS::arrivalWhenIdle </td>
          <td>(</td>
          <td class="paramtype">cPacket *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when a message arrives at the module when the queue is empty. The message doesn't need to be enqueued in this case, it can start service immmediately. This method may:</p>
<ol type="1">
<li>simply return the the same pointer (usual behaviour), or</li>
<li>discard the message and return NULL pointer (the effect being this message being ignored)</li>
<li>or modify the message, wrap in into another message etc, and return the (new) message's pointer.</li>
</ol>
<p>Most straightforward implementation: <code>return msg;</code> </p>

<p>Implements <a class="el" href="class_abstract_queue.html#af48e3dfda519333e9a5b3cd2ed71c073">AbstractQueue</a>.</p>

<p>Definition at line <a class="el" href="_queue_with_qo_s_8cc_source.html#l00037">37</a> of file <a class="el" href="_queue_with_qo_s_8cc_source.html">QueueWithQoS.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00038"></a>00038 {
<a name="l00039"></a>00039     <span class="keywordflow">return</span> <a class="code" href="_i_n_e_t_defs_8h.html#ae5b816f7de3c5248c812bdb6920f4e06">PK</a>(<a class="code" href="class_queue_with_qo_s.html#ac9479f34ed15854bf0c03105d0526990">qosHook</a>-&gt;<a class="code" href="class_enqueue_hook.html#aed3fcf4692ae5effbe2f72ec6cad8400">dropIfNotNeeded</a>(msg));
<a name="l00040"></a>00040 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5bef8ae95596e6ba9cb5eabb6c8ac9e4"></a><!-- doxytag: member="QueueWithQoS::initialize" ref="a5bef8ae95596e6ba9cb5eabb6c8ac9e4" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void QueueWithQoS::initialize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reimplemented from <a class="el" href="class_abstract_queue.html#ab8c3f35bb3d85ca4c7706a79e6bcd384">AbstractQueue</a>.</p>

<p>Definition at line <a class="el" href="_queue_with_qo_s_8cc_source.html#l00022">22</a> of file <a class="el" href="_queue_with_qo_s_8cc_source.html">QueueWithQoS.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00023"></a>00023 {
<a name="l00024"></a>00024     <a class="code" href="class_queue_with_qo_s.html#a5bef8ae95596e6ba9cb5eabb6c8ac9e4">AbstractQueue::initialize</a>();
<a name="l00025"></a>00025 
<a name="l00026"></a>00026     <a class="code" href="class_queue_with_qo_s.html#a04b6596303d68a6d35c5b8f6a406ed0d">delay</a> = par(<span class="stringliteral">&quot;procDelay&quot;</span>);
<a name="l00027"></a>00027     <a class="code" href="class_queue_with_qo_s.html#ac9479f34ed15854bf0c03105d0526990">qosHook</a> = check_and_cast&lt;<a class="code" href="class_enqueue_hook.html">EnqueueHook</a> *&gt;(createOne(par(<span class="stringliteral">&quot;qosBehaviorClass&quot;</span>)));
<a name="l00028"></a>00028     <a class="code" href="class_queue_with_qo_s.html#ac9479f34ed15854bf0c03105d0526990">qosHook</a>-&gt;<a class="code" href="class_enqueue_hook.html#ae3cdb7098b0fd7038cc2830f8967323e">setModule</a>(<span class="keyword">this</span>);
<a name="l00029"></a>00029 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1940615e60cab7a91f0f5531d0bd4192"></a><!-- doxytag: member="QueueWithQoS::startService" ref="a1940615e60cab7a91f0f5531d0bd4192" args="(cPacket *msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t QueueWithQoS::startService </td>
          <td>(</td>
          <td class="paramtype">cPacket *&nbsp;</td>
          <td class="paramname"> <em>msg</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when a message starts service, and should return the service time.</p>
<p>Example implementation: <code>return 1.0;</code> </p>

<p>Implements <a class="el" href="class_abstract_queue.html#ad70e97c327a93a2c31fba8da0fb5c63d">AbstractQueue</a>.</p>

<p>Definition at line <a class="el" href="_queue_with_qo_s_8cc_source.html#l00042">42</a> of file <a class="el" href="_queue_with_qo_s_8cc_source.html">QueueWithQoS.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00043"></a>00043 {
<a name="l00044"></a>00044     <span class="keywordflow">return</span> <a class="code" href="class_queue_with_qo_s.html#a04b6596303d68a6d35c5b8f6a406ed0d">delay</a>;
<a name="l00045"></a>00045 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a04b6596303d68a6d35c5b8f6a406ed0d"></a><!-- doxytag: member="QueueWithQoS::delay" ref="a04b6596303d68a6d35c5b8f6a406ed0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">simtime_t <a class="el" href="class_queue_with_qo_s.html#a04b6596303d68a6d35c5b8f6a406ed0d">QueueWithQoS::delay</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_queue_with_qo_s_8h_source.html#l00038">38</a> of file <a class="el" href="_queue_with_qo_s_8h_source.html">QueueWithQoS.h</a>.</p>

<p>Referenced by <a class="el" href="_queue_with_qo_s_8cc_source.html#l00022">initialize()</a>, and <a class="el" href="_queue_with_qo_s_8cc_source.html#l00042">startService()</a>.</p>

</div>
</div>
<a class="anchor" id="ac9479f34ed15854bf0c03105d0526990"></a><!-- doxytag: member="QueueWithQoS::qosHook" ref="ac9479f34ed15854bf0c03105d0526990" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_enqueue_hook.html">EnqueueHook</a>* <a class="el" href="class_queue_with_qo_s.html#ac9479f34ed15854bf0c03105d0526990">QueueWithQoS::qosHook</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_queue_with_qo_s_8h_source.html#l00039">39</a> of file <a class="el" href="_queue_with_qo_s_8h_source.html">QueueWithQoS.h</a>.</p>

<p>Referenced by <a class="el" href="_queue_with_qo_s_8cc_source.html#l00032">arrival()</a>, <a class="el" href="_queue_with_qo_s_8cc_source.html#l00037">arrivalWhenIdle()</a>, and <a class="el" href="_queue_with_qo_s_8cc_source.html#l00022">initialize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_queue_with_qo_s_8h_source.html">QueueWithQoS.h</a></li>
<li><a class="el" href="_queue_with_qo_s_8cc_source.html">QueueWithQoS.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Mar 23 17:08:35 2010 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
