<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: OSPF::Router Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespace_o_s_p_f.html">OSPF</a>::<a class="el" href="class_o_s_p_f_1_1_router.html">Router</a>
  </div>
</div>
<div class="contents">
<h1>OSPF::Router Class Reference</h1><!-- doxytag: class="OSPF::Router" -->
<p><code>#include &lt;<a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>&gt;</code></p>

<p><a href="class_o_s_p_f_1_1_router-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a35bbf6cd398015ef42d76223e745ba2e">Router</a> (<a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">RouterID</a> id, cSimpleModule *containingModule)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#afbabadb5293a72cd1e1bffde128df247">~Router</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#acc3ff0effb2c8b74440b479b201880df">SetRouterID</a> (<a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">RouterID</a> id)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">RouterID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a12b09f4263d005f7b0cd808502c1de48">GetRouterID</a> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#ae27ea511ced12487b158e87d4582ea21">SetRFC1583Compatibility</a> (bool compatibility)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#affd6a398ee914b26e5c06e72c9998e8d">GetRFC1583Compatibility</a> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a69d95bca021305439e63ebb712a9559c">GetAreaCount</a> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_message_handler.html">MessageHandler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#ab2b6452dadb00d2970e3432b0b29e17f">GetMessageHandler</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a18459104f498a4de761216210665220a">GetASExternalLSACount</a> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#abfec528130746982c850c80084a9502b">GetASExternalLSA</a> (unsigned long i)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a53df3fd45ff91fa56b853289dc23a435">GetASExternalLSA</a> (unsigned long i) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#ac380db94a6b8c16941d338a11b3b6b11">GetASBoundaryRouter</a> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a07874bd84b94970be2c08b01a50bff9e">GetRoutingTableEntryCount</a> (void) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#adc36bddb2349df8c7f013e0c1062909e">GetRoutingTableEntry</a> (unsigned long i)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a9464f6da7a2b4028f100d18952984eb8">GetRoutingTableEntry</a> (unsigned long i) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a429edf824d86c3200851393676608603">AddRoutingTableEntry</a> (<a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> *entry)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a41c5b61bcaa1c23247f64d5eebba64b3">AddWatches</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#aeb3b4bfce0df4171c50b5d174112b130">AddArea</a> (<a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> *area)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#af1593be786d4bdd63bb6805d5bdefb50">GetArea</a> (<a class="el" href="namespace_o_s_p_f.html#a8d10c460f2da4aae5dd61d2a082dfc56">AreaID</a> areaID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a3c81e4d286cf26f247db7940b6775580">GetArea</a> (<a class="el" href="struct_o_s_p_f_1_1_i_pv4_address.html">IPv4Address</a> address)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_interface.html">Interface</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a1b1dc6a8a245040f1202d833090ce8b3">GetNonVirtualInterface</a> (unsigned char ifIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a0b35533c0a9820cdd8887d5812c2db9b">InstallLSA</a> (<a class="el" href="class_o_s_p_f_l_s_a.html">OSPFLSA</a> *lsa, <a class="el" href="namespace_o_s_p_f.html#a8d10c460f2da4aae5dd61d2a082dfc56">AreaID</a> areaID=<a class="el" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">BackboneAreaID</a>)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_l_s_a.html">OSPFLSA</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#ab0c1b846020c1b0f5d2853cd849891df">FindLSA</a> (<a class="el" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89b">LSAType</a> lsaType, <a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">LSAKeyType</a> lsaKey, <a class="el" href="namespace_o_s_p_f.html#a8d10c460f2da4aae5dd61d2a082dfc56">AreaID</a> areaID)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#ae6711720d55119affde22ea9baeda7d2">AgeDatabase</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#afc4272a1f634c3329523df334e67aa3c">HasAnyNeighborInStates</a> (int states) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#ac754f8ed7d454fc7bfe53ac877eebe53">RemoveFromAllRetransmissionLists</a> (<a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">LSAKeyType</a> lsaKey)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#aae605eb327107bfecd3b8f2307f788f4">IsOnAnyRetransmissionList</a> (<a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">LSAKeyType</a> lsaKey) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a2cfb1ebf041766dadf2fcd6e1fdebe27">FloodLSA</a> (<a class="el" href="class_o_s_p_f_l_s_a.html">OSPFLSA</a> *lsa, <a class="el" href="namespace_o_s_p_f.html#a8d10c460f2da4aae5dd61d2a082dfc56">AreaID</a> areaID=<a class="el" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">BackboneAreaID</a>, <a class="el" href="class_o_s_p_f_1_1_interface.html">Interface</a> *intf=NULL, <a class="el" href="class_o_s_p_f_1_1_neighbor.html">Neighbor</a> *neighbor=NULL)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a1e457a90074dfce50e04ba85571ccff6">IsLocalAddress</a> (<a class="el" href="struct_o_s_p_f_1_1_i_pv4_address.html">IPv4Address</a> address) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a2ac64ff56b3bcde574fde26a5247286d">HasAddressRange</a> (<a class="el" href="struct_o_s_p_f_1_1_i_pv4_address_range.html">IPv4AddressRange</a> addressRange) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#ad3bfc2d2a7560d2ba946288aa241725b">IsDestinationUnreachable</a> (<a class="el" href="class_o_s_p_f_l_s_a.html">OSPFLSA</a> *lsa) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#ac6f97cebf080df401b616411acd54090">Lookup</a> (<a class="el" href="class_i_p_address.html">IPAddress</a> destination, std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; *table=NULL) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a184025a0ac2c61dc9c580b2321a9c9a1">RebuildRoutingTable</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_o_s_p_f_1_1_i_pv4_address_range.html">IPv4AddressRange</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a9a35624ca66179bda14774a1fbdc44bf">GetContainingAddressRange</a> (<a class="el" href="struct_o_s_p_f_1_1_i_pv4_address_range.html">IPv4AddressRange</a> addressRange, bool *advertise=NULL) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#aed64d2915aba911a976c06f053ecf19f">UpdateExternalRoute</a> (<a class="el" href="struct_o_s_p_f_1_1_i_pv4_address.html">IPv4Address</a> networkAddress, const <a class="el" href="class_o_s_p_f_a_s_external_l_s_a_contents.html">OSPFASExternalLSAContents</a> &amp;externalRouteContents, int ifIndex)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a5ec34d1a9d49f94ddd6c2552c1f100a6">RemoveExternalRoute</a> (<a class="el" href="struct_o_s_p_f_1_1_i_pv4_address.html">IPv4Address</a> networkAddress)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a1fc64753c023df6b7318008d50aef805">GetPreferredEntry</a> (const <a class="el" href="class_o_s_p_f_l_s_a.html">OSPFLSA</a> &amp;lsa, bool skipSelfOriginated, std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; *fromRoutingTable=NULL)</td></tr>
<tr><td colspan="2"><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a8615120ec6c21bfd812b533e5532ddcb">InstallASExternalLSA</a> (<a class="el" href="class_o_s_p_f_a_s_external_l_s_a.html">OSPFASExternalLSA</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a5aec9d69b413708dd0617190268af187">FindASExternalLSA</a> (<a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">LSAKeyType</a> lsaKey)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#ae8bdbafe5f6d9219c34cea801132b232">FindASExternalLSA</a> (<a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">LSAKeyType</a> lsaKey) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#adf337b0a712b070d288f208ea5cd591a">OriginateASExternalLSA</a> (<a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a> *lsa)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_o_s_p_f.html#a8ac3195d08bc351276d08e1c28e0d2dc">LinkStateID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a711150516e1e27419e4c2c9770a3d9db">GetUniqueLinkStateID</a> (<a class="el" href="struct_o_s_p_f_1_1_i_pv4_address_range.html">IPv4AddressRange</a> destination, <a class="el" href="namespace_o_s_p_f.html#a4a99812a2d079df0f7208f2740cdb0ad">Metric</a> destinationCost, <a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a> *&amp;lsaToReoriginate, bool externalMetricIsType2=false) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a3949265e72dab00a009aaa0758cd2623">CalculateASExternalRoutes</a> (std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;newRoutingTable)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a57df70b2d8008b2ea1827e06ab750500">NotifyAboutRoutingTableChanges</a> (std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;oldRoutingTable)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a5bb62fe635f3bbe881e9917564334751">HasRouteToASBoundaryRouter</a> (const std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;inRoutingTable, <a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">OSPF::RouterID</a> <a class="el" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9">routerID</a>) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a32016e85660ea37254e44312a80153eb">GetRoutesToASBoundaryRouter</a> (const std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;fromRoutingTable, <a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">OSPF::RouterID</a> <a class="el" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9">routerID</a>) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#aa28b138458a39381a75d969e82dbfde0">PruneASBoundaryRouterEntries</a> (std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;asbrEntries) const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a173315c49c051dfedef06a432071d358">SelectLeastCostRoutingEntry</a> (std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;entries) const </td></tr>
<tr><td colspan="2"><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">RouterID</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9">routerID</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The router ID assigned by the <a class="el" href="class_i_p.html">IP</a> layer.  <a href="#a3ebbdb2a44054edf297b21360de68cb9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="namespace_o_s_p_f.html#a8d10c460f2da4aae5dd61d2a082dfc56">AreaID</a>, <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5">areasByID</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A map of the contained areas with the AreaID as key.  <a href="#ab2c936939863bd82c6628c794e6409e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8">areas</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A list of the contained areas.  <a href="#a5ce9c0ecf94cbc5872c346750e4de6b8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">LSAKeyType</a>, <br class="typebreak"/>
<a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a> <br class="typebreak"/>
*, <a class="el" href="class_o_s_p_f_1_1_l_s_a_key_type___less.html">LSAKeyType_Less</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2">asExternalLSAsByID</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A map of the ASExternalLSAs advertised by this router.  <a href="#abbdacd52ab234eb19f6eeb24a06222c2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36">asExternalLSAs</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A list of the ASExternalLSAs advertised by this router.  <a href="#a20e18099b999ef4fd3eebca715173f36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="struct_o_s_p_f_1_1_i_pv4_address.html">IPv4Address</a>, <br class="typebreak"/>
<a class="el" href="class_o_s_p_f_a_s_external_l_s_a_contents.html">OSPFASExternalLSAContents</a>, <br class="typebreak"/>
<a class="el" href="class_o_s_p_f_1_1_i_pv4_address___less.html">IPv4Address_Less</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a2fa24502500b746a3056832733228a65">externalRoutes</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">A map of the external route advertised by this router.  <a href="#a2fa24502500b746a3056832733228a65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_timer.html">OSPFTimer</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#acafd411e92c5c3bc952daadbc0d53cf5">ageTimer</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Database age timer - fires every second.  <a href="#acafd411e92c5c3bc952daadbc0d53cf5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090">routingTable</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The <a class="el" href="namespace_o_s_p_f.html">OSPF</a> routing table - contains more information than the one in the <a class="el" href="class_i_p.html">IP</a> layer.  <a href="#aff527f73b1c4068c21abb9fe9dd9f090"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_o_s_p_f_1_1_message_handler.html">MessageHandler</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a532e99a63a766b3aabc007fd929fb48f">messageHandler</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The message dispatcher class.  <a href="#a532e99a63a766b3aabc007fd929fb48f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_o_s_p_f_1_1_router.html#a10f71a71f20baa02d35f94d602758357">rfc1583Compatibility</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Decides whether to handle the preferred routing table entry to an AS boundary router as defined in RFC1583 or not.  <a href="#a10f71a71f20baa02d35f94d602758357"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Represents the full <a class="el" href="namespace_o_s_p_f.html">OSPF</a> datastructure as laid out in RFC2328. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00037">37</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a35bbf6cd398015ef42d76223e745ba2e"></a><!-- doxytag: member="OSPF::Router::Router" ref="a35bbf6cd398015ef42d76223e745ba2e" args="(RouterID id, cSimpleModule *containingModule)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSPF::Router::Router </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">OSPF::RouterID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cSimpleModule *&nbsp;</td>
          <td class="paramname"> <em>containingModule</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Constructor. Initializes internal variables, adds a <a class="el" href="class_o_s_p_f_1_1_message_handler.html">MessageHandler</a> and starts the Database Age timer. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00025">25</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00025"></a>00025                                                                    :
<a name="l00026"></a>00026     <a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a>(<span class="keywordtype">id</span>),
<a name="l00027"></a>00027     <a class="code" href="class_o_s_p_f_1_1_router.html#a10f71a71f20baa02d35f94d602758357" title="Decides whether to handle the preferred routing table entry to an AS boundary router...">rfc1583Compatibility</a>(<span class="keyword">false</span>)
<a name="l00028"></a>00028 {
<a name="l00029"></a>00029     <a class="code" href="class_o_s_p_f_1_1_router.html#a532e99a63a766b3aabc007fd929fb48f" title="The message dispatcher class.">messageHandler</a> = <span class="keyword">new</span> <a class="code" href="class_o_s_p_f_1_1_message_handler.html">OSPF::MessageHandler</a>(<span class="keyword">this</span>, containingModule);
<a name="l00030"></a>00030     <a class="code" href="class_o_s_p_f_1_1_router.html#acafd411e92c5c3bc952daadbc0d53cf5" title="Database age timer - fires every second.">ageTimer</a> = <span class="keyword">new</span> <a class="code" href="class_o_s_p_f_timer.html">OSPFTimer</a>;
<a name="l00031"></a>00031     <a class="code" href="class_o_s_p_f_1_1_router.html#acafd411e92c5c3bc952daadbc0d53cf5" title="Database age timer - fires every second.">ageTimer</a>-&gt;<a class="code" href="class_o_s_p_f_timer.html#a0466771c5b2cff0c46ea2fadad1a5752">setTimerKind</a>(<a class="code" href="_o_s_p_f_timer__m_8h.html#a849e21fd541ff90a1e41cbe36d769f01a304985d32f0ebdae21d88b5e9ea4904a">DatabaseAgeTimer</a>);
<a name="l00032"></a>00032     <a class="code" href="class_o_s_p_f_1_1_router.html#acafd411e92c5c3bc952daadbc0d53cf5" title="Database age timer - fires every second.">ageTimer</a>-&gt;setContextPointer(<span class="keyword">this</span>);
<a name="l00033"></a>00033     <a class="code" href="class_o_s_p_f_1_1_router.html#acafd411e92c5c3bc952daadbc0d53cf5" title="Database age timer - fires every second.">ageTimer</a>-&gt;setName(<span class="stringliteral">&quot;OSPF::Router::DatabaseAgeTimer&quot;</span>);
<a name="l00034"></a>00034     <a class="code" href="class_o_s_p_f_1_1_router.html#a532e99a63a766b3aabc007fd929fb48f" title="The message dispatcher class.">messageHandler</a>-&gt;StartTimer(<a class="code" href="class_o_s_p_f_1_1_router.html#acafd411e92c5c3bc952daadbc0d53cf5" title="Database age timer - fires every second.">ageTimer</a>, 1.0);
<a name="l00035"></a>00035 }

</pre></div></p>

</div>
</div>
<a class="anchor" id="afbabadb5293a72cd1e1bffde128df247"></a><!-- doxytag: member="OSPF::Router::~Router" ref="afbabadb5293a72cd1e1bffde128df247" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSPF::Router::~Router </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Destructor. Clears all LSA lists and kills the Database Age timer. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00042">42</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00043"></a>00043 {
<a name="l00044"></a>00044     <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00045"></a>00045     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l00046"></a>00046         <span class="keyword">delete</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i];
<a name="l00047"></a>00047     }
<a name="l00048"></a>00048     <span class="keywordtype">long</span> lsaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>.size();
<a name="l00049"></a>00049     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> j = 0; j &lt; lsaCount; j++) {
<a name="l00050"></a>00050         <span class="keyword">delete</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>[j];
<a name="l00051"></a>00051     }
<a name="l00052"></a>00052     <span class="keywordtype">long</span> routeCount = <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.size();
<a name="l00053"></a>00053     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> k = 0; k &lt; routeCount; k++) {
<a name="l00054"></a>00054         <span class="keyword">delete</span> <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>[k];
<a name="l00055"></a>00055     }
<a name="l00056"></a>00056     <a class="code" href="class_o_s_p_f_1_1_router.html#a532e99a63a766b3aabc007fd929fb48f" title="The message dispatcher class.">messageHandler</a>-&gt;ClearTimer(<a class="code" href="class_o_s_p_f_1_1_router.html#acafd411e92c5c3bc952daadbc0d53cf5" title="Database age timer - fires every second.">ageTimer</a>);
<a name="l00057"></a>00057     <span class="keyword">delete</span> <a class="code" href="class_o_s_p_f_1_1_router.html#acafd411e92c5c3bc952daadbc0d53cf5" title="Database age timer - fires every second.">ageTimer</a>;
<a name="l00058"></a>00058     <span class="keyword">delete</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a532e99a63a766b3aabc007fd929fb48f" title="The message dispatcher class.">messageHandler</a>;
<a name="l00059"></a>00059 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="aeb3b4bfce0df4171c50b5d174112b130"></a><!-- doxytag: member="OSPF::Router::AddArea" ref="aeb3b4bfce0df4171c50b5d174112b130" args="(Area *area)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::AddArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_1_1_area.html">OSPF::Area</a> *&nbsp;</td>
          <td class="paramname"> <em>area</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds a new <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> to the <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>area</em>&nbsp;</td><td>[in] The <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> to add. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00077">77</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_routing_8cc_source.html#l00134">OSPFRouting::LoadAreaFromXML()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00078"></a>00078 {
<a name="l00079"></a>00079 
<a name="l00080"></a>00080     area-&gt;<a class="code" href="class_o_s_p_f_1_1_area.html#a350562bd30814f42f8ec22a2380cd128">SetRouter</a>(<span class="keyword">this</span>);
<a name="l00081"></a>00081     <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>[area-&gt;<a class="code" href="class_o_s_p_f_1_1_area.html#a5cbe0e459923e9c74db35df51031cb8d">GetAreaID</a>()] = area;
<a name="l00082"></a>00082     <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.push_back(area);
<a name="l00083"></a>00083 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a429edf824d86c3200851393676608603"></a><!-- doxytag: member="OSPF::Router::AddRoutingTableEntry" ref="a429edf824d86c3200851393676608603" args="(RoutingTableEntry *entry)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::AddRoutingTableEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> *&nbsp;</td>
          <td class="paramname"> <em>entry</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00070">70</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00070"></a>00070 { <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.push_back(entry); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a41c5b61bcaa1c23247f64d5eebba64b3"></a><!-- doxytag: member="OSPF::Router::AddWatches" ref="a41c5b61bcaa1c23247f64d5eebba64b3" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::AddWatches </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Adds OMNeT++ watches for the routerID, the list of Areas and the list of AS External LSAs. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00065">65</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_routing_8cc_source.html#l00059">OSPFRouting::initialize()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00066"></a>00066 {
<a name="l00067"></a>00067     WATCH(<a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a>);
<a name="l00068"></a>00068     WATCH_PTRVECTOR(<a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>);
<a name="l00069"></a>00069     WATCH_PTRVECTOR(<a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>);
<a name="l00070"></a>00070 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ae6711720d55119affde22ea9baeda7d2"></a><!-- doxytag: member="OSPF::Router::AgeDatabase" ref="ae6711720d55119affde22ea9baeda7d2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::AgeDatabase </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Ages the LSAs in the Router's database. This method is called on every firing of the DatabaseAgeTimer(every second). </p>
<dl class="see"><dt><b>See also:</b></dt><dd>RFC2328 Section 14. </dd></dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">361</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_message_handler_8cc_source.html#l00048">OSPF::MessageHandler::HandleTimer()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00362"></a>00362 {
<a name="l00363"></a>00363     <span class="keywordtype">long</span> lsaCount            = <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>.size();
<a name="l00364"></a>00364     <span class="keywordtype">bool</span> rebuildRoutingTable = <span class="keyword">false</span>;
<a name="l00365"></a>00365 
<a name="l00366"></a>00366     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; lsaCount; i++) {
<a name="l00367"></a>00367         <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>       lsAge          = <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>[i]-&gt;getHeader().getLsAge();
<a name="l00368"></a>00368         <span class="keywordtype">bool</span>                 selfOriginated = (<a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>[i]-&gt;getHeader().getAdvertisingRouter().getInt() == <a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a>);
<a name="l00369"></a>00369         <span class="keywordtype">bool</span>                 unreachable    = <a class="code" href="class_o_s_p_f_1_1_router.html#ad3bfc2d2a7560d2ba946288aa241725b">IsDestinationUnreachable</a>(<a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>[i]);
<a name="l00370"></a>00370         <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>* lsa            = <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>[i];
<a name="l00371"></a>00371 
<a name="l00372"></a>00372         <span class="keywordflow">if</span> ((selfOriginated &amp;&amp; (lsAge &lt; (<a class="code" href="_o_s_p_fcommon_8h.html#ab08ddbd72ec04be1ff6959a492fc3795">LS_REFRESH_TIME</a> - 1))) || (!selfOriginated &amp;&amp; (lsAge &lt; (<a class="code" href="_o_s_p_fcommon_8h.html#a22c87c874ff5382c5d082b860110e363">MAX_AGE</a> - 1)))) {
<a name="l00373"></a>00373             lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#ae9da0df1ade356d3da9daaf68aa77c0d">setLsAge</a>(lsAge + 1);
<a name="l00374"></a>00374             <span class="keywordflow">if</span> ((lsAge + 1) % <a class="code" href="_o_s_p_fcommon_8h.html#a1dae649919191832d818cf9bba6be0e4">CHECK_AGE</a> == 0) {
<a name="l00375"></a>00375                 <span class="keywordflow">if</span> (!lsa-&gt;<a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html#a28349b0233b3e4e767e9e3c59ad2ecce">ValidateLSChecksum</a>()) {
<a name="l00376"></a>00376                     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Invalid LS checksum. Memory error detected!\n&quot;</span>;
<a name="l00377"></a>00377                 }
<a name="l00378"></a>00378             }
<a name="l00379"></a>00379             lsa-&gt;<a class="code" href="class_o_s_p_f_1_1_l_s_a_tracking_info.html#abf7755405bc9db270e9d3db6beb9f13d">IncrementInstallTime</a>();
<a name="l00380"></a>00380         }
<a name="l00381"></a>00381         <span class="keywordflow">if</span> (selfOriginated &amp;&amp; (lsAge == (<a class="code" href="_o_s_p_fcommon_8h.html#ab08ddbd72ec04be1ff6959a492fc3795">LS_REFRESH_TIME</a> - 1))) {
<a name="l00382"></a>00382             <span class="keywordflow">if</span> (unreachable) {
<a name="l00383"></a>00383                 lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#ae9da0df1ade356d3da9daaf68aa77c0d">setLsAge</a>(<a class="code" href="_o_s_p_fcommon_8h.html#a22c87c874ff5382c5d082b860110e363">MAX_AGE</a>);
<a name="l00384"></a>00384                 <a class="code" href="class_o_s_p_f_1_1_router.html#a2cfb1ebf041766dadf2fcd6e1fdebe27">FloodLSA</a>(lsa, <a class="code" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">OSPF::BackboneAreaID</a>);
<a name="l00385"></a>00385                 lsa-&gt;<a class="code" href="class_o_s_p_f_1_1_l_s_a_tracking_info.html#abf7755405bc9db270e9d3db6beb9f13d">IncrementInstallTime</a>();
<a name="l00386"></a>00386             } <span class="keywordflow">else</span> {
<a name="l00387"></a>00387                 <span class="keywordtype">long</span> sequenceNumber = lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#aa1fa1df57d84e20fef93e765a587ff1c">getLsSequenceNumber</a>();
<a name="l00388"></a>00388                 <span class="keywordflow">if</span> (sequenceNumber == <a class="code" href="_o_s_p_fcommon_8h.html#a35f49b34e56993fe20d3a21d144c16d3">MAX_SEQUENCE_NUMBER</a>) {
<a name="l00389"></a>00389                     lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#ae9da0df1ade356d3da9daaf68aa77c0d">setLsAge</a>(<a class="code" href="_o_s_p_fcommon_8h.html#a22c87c874ff5382c5d082b860110e363">MAX_AGE</a>);
<a name="l00390"></a>00390                     <a class="code" href="class_o_s_p_f_1_1_router.html#a2cfb1ebf041766dadf2fcd6e1fdebe27">FloodLSA</a>(lsa, <a class="code" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">OSPF::BackboneAreaID</a>);
<a name="l00391"></a>00391                     lsa-&gt;<a class="code" href="class_o_s_p_f_1_1_l_s_a_tracking_info.html#abf7755405bc9db270e9d3db6beb9f13d">IncrementInstallTime</a>();
<a name="l00392"></a>00392                 } <span class="keywordflow">else</span> {
<a name="l00393"></a>00393                     <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>* newLSA = <a class="code" href="class_o_s_p_f_1_1_router.html#adf337b0a712b070d288f208ea5cd591a">OriginateASExternalLSA</a>(lsa);
<a name="l00394"></a>00394 
<a name="l00395"></a>00395                     newLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a91209faeabf5287af7e5a9c8735e4cf7">setLsSequenceNumber</a>(sequenceNumber + 1);
<a name="l00396"></a>00396                     newLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a1e71120701358465cc8f5b598f74760f">setLsChecksum</a>(0);    <span class="comment">// TODO: calculate correct LS checksum</span>
<a name="l00397"></a>00397                     rebuildRoutingTable |= lsa-&gt;<a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html#a3bfdf218c05ec4d4b3056b656b2ee6c7">Update</a>(newLSA);
<a name="l00398"></a>00398                     <span class="keyword">delete</span> newLSA;
<a name="l00399"></a>00399 
<a name="l00400"></a>00400                     <a class="code" href="class_o_s_p_f_1_1_router.html#a2cfb1ebf041766dadf2fcd6e1fdebe27">FloodLSA</a>(lsa, <a class="code" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">OSPF::BackboneAreaID</a>);
<a name="l00401"></a>00401                 }
<a name="l00402"></a>00402             }
<a name="l00403"></a>00403         }
<a name="l00404"></a>00404         <span class="keywordflow">if</span> (!selfOriginated &amp;&amp; (lsAge == <a class="code" href="_o_s_p_fcommon_8h.html#a22c87c874ff5382c5d082b860110e363">MAX_AGE</a> - 1)) {
<a name="l00405"></a>00405             lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#ae9da0df1ade356d3da9daaf68aa77c0d">setLsAge</a>(<a class="code" href="_o_s_p_fcommon_8h.html#a22c87c874ff5382c5d082b860110e363">MAX_AGE</a>);
<a name="l00406"></a>00406             <a class="code" href="class_o_s_p_f_1_1_router.html#a2cfb1ebf041766dadf2fcd6e1fdebe27">FloodLSA</a>(lsa, <a class="code" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">OSPF::BackboneAreaID</a>);
<a name="l00407"></a>00407             lsa-&gt;<a class="code" href="class_o_s_p_f_1_1_l_s_a_tracking_info.html#abf7755405bc9db270e9d3db6beb9f13d">IncrementInstallTime</a>();
<a name="l00408"></a>00408         }
<a name="l00409"></a>00409         <span class="keywordflow">if</span> (lsAge == <a class="code" href="_o_s_p_fcommon_8h.html#a22c87c874ff5382c5d082b860110e363">MAX_AGE</a>) {
<a name="l00410"></a>00410             <a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">OSPF::LSAKeyType</a> lsaKey;
<a name="l00411"></a>00411 
<a name="l00412"></a>00412             lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a3a05e7e193451f3979803d5e93362ead">linkStateID</a>       = lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a2f146ccaa3d51bae77fd76f429b52abe">getLinkStateID</a>();
<a name="l00413"></a>00413             lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a583e0f1cf5e052a08dc21dbcd405e8b6">advertisingRouter</a> = lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a85083aabf7994ed37c3458e06337d183">getAdvertisingRouter</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>();
<a name="l00414"></a>00414 
<a name="l00415"></a>00415             <span class="keywordflow">if</span> (!<a class="code" href="class_o_s_p_f_1_1_router.html#aae605eb327107bfecd3b8f2307f788f4">IsOnAnyRetransmissionList</a>(lsaKey) &amp;&amp;
<a name="l00416"></a>00416                 !<a class="code" href="class_o_s_p_f_1_1_router.html#afc4272a1f634c3329523df334e67aa3c">HasAnyNeighborInStates</a>(<a class="code" href="class_o_s_p_f_1_1_neighbor.html#abe30518a64009a9ae44944c1036a4c0aab642c302eb79dfe9cd827bc8af960e28">OSPF::Neighbor::ExchangeState</a> | <a class="code" href="class_o_s_p_f_1_1_neighbor.html#abe30518a64009a9ae44944c1036a4c0aa8a2da2947457a95e834ef3a256b2717a">OSPF::Neighbor::LoadingState</a>))
<a name="l00417"></a>00417             {
<a name="l00418"></a>00418                 <span class="keywordflow">if</span> (!selfOriginated || unreachable) {
<a name="l00419"></a>00419                     <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.erase(lsaKey);
<a name="l00420"></a>00420                     <span class="keyword">delete</span> lsa;
<a name="l00421"></a>00421                     <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>[i] = NULL;
<a name="l00422"></a>00422                     rebuildRoutingTable = <span class="keyword">true</span>;
<a name="l00423"></a>00423                 } <span class="keywordflow">else</span> {
<a name="l00424"></a>00424                     <span class="keywordflow">if</span> (lsa-&gt;<a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html#a64d8238a6678ab6f7e9ec666fb517adb">GetPurgeable</a>()) {
<a name="l00425"></a>00425                         <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.erase(lsaKey);
<a name="l00426"></a>00426                         <span class="keyword">delete</span> lsa;
<a name="l00427"></a>00427                         <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>[i] = NULL;
<a name="l00428"></a>00428                         rebuildRoutingTable = <span class="keyword">true</span>;
<a name="l00429"></a>00429                     } <span class="keywordflow">else</span> {
<a name="l00430"></a>00430                         <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>* newLSA              = <a class="code" href="class_o_s_p_f_1_1_router.html#adf337b0a712b070d288f208ea5cd591a">OriginateASExternalLSA</a>(lsa);
<a name="l00431"></a>00431                         <span class="keywordtype">long</span>                 sequenceNumber      = lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#aa1fa1df57d84e20fef93e765a587ff1c">getLsSequenceNumber</a>();
<a name="l00432"></a>00432 
<a name="l00433"></a>00433                         newLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a91209faeabf5287af7e5a9c8735e4cf7">setLsSequenceNumber</a>((sequenceNumber == <a class="code" href="_o_s_p_fcommon_8h.html#a35f49b34e56993fe20d3a21d144c16d3">MAX_SEQUENCE_NUMBER</a>) ? <a class="code" href="_o_s_p_fcommon_8h.html#ad441394da087bc61e24a5b99455c5589">INITIAL_SEQUENCE_NUMBER</a> : sequenceNumber + 1);
<a name="l00434"></a>00434                         newLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a1e71120701358465cc8f5b598f74760f">setLsChecksum</a>(0);    <span class="comment">// TODO: calculate correct LS checksum</span>
<a name="l00435"></a>00435                         rebuildRoutingTable |= lsa-&gt;<a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html#a3bfdf218c05ec4d4b3056b656b2ee6c7">Update</a>(newLSA);
<a name="l00436"></a>00436                         <span class="keyword">delete</span> newLSA;
<a name="l00437"></a>00437 
<a name="l00438"></a>00438                         <a class="code" href="class_o_s_p_f_1_1_router.html#a2cfb1ebf041766dadf2fcd6e1fdebe27">FloodLSA</a>(lsa, <a class="code" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">OSPF::BackboneAreaID</a>);
<a name="l00439"></a>00439                     }
<a name="l00440"></a>00440                 }
<a name="l00441"></a>00441             }
<a name="l00442"></a>00442         }
<a name="l00443"></a>00443     }
<a name="l00444"></a>00444 
<a name="l00445"></a>00445     std::vector&lt;ASExternalLSA*&gt;::iterator it = <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>.begin();
<a name="l00446"></a>00446     <span class="keywordflow">while</span> (it != <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>.end()) {
<a name="l00447"></a>00447         <span class="keywordflow">if</span> ((*it) == NULL) {
<a name="l00448"></a>00448             it = <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>.erase(it);
<a name="l00449"></a>00449         } <span class="keywordflow">else</span> {
<a name="l00450"></a>00450             it++;
<a name="l00451"></a>00451         }
<a name="l00452"></a>00452     }
<a name="l00453"></a>00453 
<a name="l00454"></a>00454     <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00455"></a>00455     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> j = 0; j &lt; areaCount; j++) {
<a name="l00456"></a>00456         <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[j]-&gt;AgeDatabase();
<a name="l00457"></a>00457     }
<a name="l00458"></a>00458     <a class="code" href="class_o_s_p_f_1_1_router.html#a532e99a63a766b3aabc007fd929fb48f" title="The message dispatcher class.">messageHandler</a>-&gt;StartTimer(<a class="code" href="class_o_s_p_f_1_1_router.html#acafd411e92c5c3bc952daadbc0d53cf5" title="Database age timer - fires every second.">ageTimer</a>, 1.0);
<a name="l00459"></a>00459 
<a name="l00460"></a>00460     <span class="keywordflow">if</span> (rebuildRoutingTable) {
<a name="l00461"></a>00461         <a class="code" href="class_o_s_p_f_1_1_router.html#a184025a0ac2c61dc9c580b2321a9c9a1">RebuildRoutingTable</a>();
<a name="l00462"></a>00462     }
<a name="l00463"></a>00463 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3949265e72dab00a009aaa0758cd2623"></a><!-- doxytag: member="OSPF::Router::CalculateASExternalRoutes" ref="a3949265e72dab00a009aaa0758cd2623" args="(std::vector&lt; RoutingTableEntry * &gt; &amp;newRoutingTable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::CalculateASExternalRoutes </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>newRoutingTable</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00820">RebuildRoutingTable()</a>.</p>

</div>
</div>
<a class="anchor" id="ae8bdbafe5f6d9219c34cea801132b232"></a><!-- doxytag: member="OSPF::Router::FindASExternalLSA" ref="ae8bdbafe5f6d9219c34cea801132b232" args="(LSAKeyType lsaKey) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a> * OSPF::Router::FindASExternalLSA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">OSPF::LSAKeyType</a>&nbsp;</td>
          <td class="paramname"> <em>lsaKey</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find the AS External LSA identified by the input lsaKey in the database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lsaKey</em>&nbsp;</td><td>[in] Look for the AS External LSA which is identified by this key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The const pointer to the AS External LSA if it was found, NULL otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00345">345</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00346"></a>00346 {
<a name="l00347"></a>00347     std::map&lt;OSPF::LSAKeyType, OSPF::ASExternalLSA*, OSPF::LSAKeyType_Less&gt;::const_iterator lsaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.find(lsaKey);
<a name="l00348"></a>00348     <span class="keywordflow">if</span> (lsaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.end()) {
<a name="l00349"></a>00349         <span class="keywordflow">return</span> lsaIt-&gt;second;
<a name="l00350"></a>00350     } <span class="keywordflow">else</span> {
<a name="l00351"></a>00351         <span class="keywordflow">return</span> NULL;
<a name="l00352"></a>00352     }
<a name="l00353"></a>00353 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5aec9d69b413708dd0617190268af187"></a><!-- doxytag: member="OSPF::Router::FindASExternalLSA" ref="a5aec9d69b413708dd0617190268af187" args="(LSAKeyType lsaKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a> * OSPF::Router::FindASExternalLSA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">OSPF::LSAKeyType</a>&nbsp;</td>
          <td class="paramname"> <em>lsaKey</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find the AS External LSA identified by the input lsaKey in the database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lsaKey</em>&nbsp;</td><td>[in] Look for the AS External LSA which is identified by this key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The pointer to the AS External LSA if it was found, NULL otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00329">329</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00283">FindLSA()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l01262">GetUniqueLinkStateID()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00330"></a>00330 {
<a name="l00331"></a>00331     std::map&lt;OSPF::LSAKeyType, OSPF::ASExternalLSA*, OSPF::LSAKeyType_Less&gt;::iterator lsaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.find(lsaKey);
<a name="l00332"></a>00332     <span class="keywordflow">if</span> (lsaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.end()) {
<a name="l00333"></a>00333         <span class="keywordflow">return</span> lsaIt-&gt;second;
<a name="l00334"></a>00334     } <span class="keywordflow">else</span> {
<a name="l00335"></a>00335         <span class="keywordflow">return</span> NULL;
<a name="l00336"></a>00336     }
<a name="l00337"></a>00337 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab0c1b846020c1b0f5d2853cd849891df"></a><!-- doxytag: member="OSPF::Router::FindLSA" ref="ab0c1b846020c1b0f5d2853cd849891df" args="(LSAType lsaType, LSAKeyType lsaKey, AreaID areaID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_l_s_a.html">OSPFLSA</a> * OSPF::Router::FindLSA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89b">LSAType</a>&nbsp;</td>
          <td class="paramname"> <em>lsaType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">OSPF::LSAKeyType</a>&nbsp;</td>
          <td class="paramname"> <em>lsaKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_o_s_p_f.html#a8d10c460f2da4aae5dd61d2a082dfc56">OSPF::AreaID</a>&nbsp;</td>
          <td class="paramname"> <em>areaID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Find the LSA identified by the input lsaKey in the database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lsaType</em>&nbsp;</td><td>[in] Look for an LSA of this type. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lsaKey</em>&nbsp;</td><td>[in] Look for the LSA which is identified by this key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>areaID</em>&nbsp;</td><td>[in] In case of <a class="el" href="class_o_s_p_f_1_1_router.html">Router</a>, Network and Summary LSAs, look in the Area's database identified by this parameter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The pointer to the LSA if it was found, NULL otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00283">283</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_database_description_handler_8cc_source.html#l00178">OSPF::DatabaseDescriptionHandler::ProcessDDPacket()</a>, <a class="el" href="_link_state_update_handler_8cc_source.html#l00043">OSPF::LinkStateUpdateHandler::ProcessPacket()</a>, and <a class="el" href="_link_state_request_handler_8cc_source.html#l00028">OSPF::LinkStateRequestHandler::ProcessPacket()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00284"></a>00284 {
<a name="l00285"></a>00285     <span class="keywordflow">switch</span> (lsaType) {
<a name="l00286"></a>00286         <span class="keywordflow">case</span> <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89baf0d156f2d439c02650ae0bb67f9385d9">RouterLSAType</a>:
<a name="l00287"></a>00287             {
<a name="l00288"></a>00288                 std::map&lt;OSPF::AreaID, OSPF::Area*&gt;::iterator areaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.find(areaID);
<a name="l00289"></a>00289                 <span class="keywordflow">if</span> (areaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.end()) {
<a name="l00290"></a>00290                     <span class="keywordflow">return</span> areaIt-&gt;second-&gt;FindRouterLSA(lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a3a05e7e193451f3979803d5e93362ead">linkStateID</a>);
<a name="l00291"></a>00291                 }
<a name="l00292"></a>00292             }
<a name="l00293"></a>00293             <span class="keywordflow">break</span>;
<a name="l00294"></a>00294         <span class="keywordflow">case</span> <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba872178b0c61ee0bd5c16db015e98b396">NetworkLSAType</a>:
<a name="l00295"></a>00295             {
<a name="l00296"></a>00296                 std::map&lt;OSPF::AreaID, OSPF::Area*&gt;::iterator areaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.find(areaID);
<a name="l00297"></a>00297                 <span class="keywordflow">if</span> (areaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.end()) {
<a name="l00298"></a>00298                     <span class="keywordflow">return</span> areaIt-&gt;second-&gt;FindNetworkLSA(lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a3a05e7e193451f3979803d5e93362ead">linkStateID</a>);
<a name="l00299"></a>00299                 }
<a name="l00300"></a>00300             }
<a name="l00301"></a>00301             <span class="keywordflow">break</span>;
<a name="l00302"></a>00302         <span class="keywordflow">case</span> <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba2c45e949f7ba6ed95c10beb07aa3f4a8">SummaryLSA_NetworksType</a>:
<a name="l00303"></a>00303         <span class="keywordflow">case</span> <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba44e2dd86881d83d6655cc876460308cd">SummaryLSA_ASBoundaryRoutersType</a>:
<a name="l00304"></a>00304             {
<a name="l00305"></a>00305                 std::map&lt;OSPF::AreaID, OSPF::Area*&gt;::iterator areaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.find(areaID);
<a name="l00306"></a>00306                 <span class="keywordflow">if</span> (areaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.end()) {
<a name="l00307"></a>00307                     <span class="keywordflow">return</span> areaIt-&gt;second-&gt;FindSummaryLSA(lsaKey);
<a name="l00308"></a>00308                 }
<a name="l00309"></a>00309             }
<a name="l00310"></a>00310             <span class="keywordflow">break</span>;
<a name="l00311"></a>00311         <span class="keywordflow">case</span> <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba4c38291b3c8571803e6cd756f84d0c85">ASExternalLSAType</a>:
<a name="l00312"></a>00312             {
<a name="l00313"></a>00313                 <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a5aec9d69b413708dd0617190268af187">FindASExternalLSA</a>(lsaKey);
<a name="l00314"></a>00314             }
<a name="l00315"></a>00315             <span class="keywordflow">break</span>;
<a name="l00316"></a>00316         <span class="keywordflow">default</span>:
<a name="l00317"></a>00317             ASSERT(<span class="keyword">false</span>);
<a name="l00318"></a>00318             <span class="keywordflow">break</span>;
<a name="l00319"></a>00319     }
<a name="l00320"></a>00320     <span class="keywordflow">return</span> NULL;
<a name="l00321"></a>00321 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2cfb1ebf041766dadf2fcd6e1fdebe27"></a><!-- doxytag: member="OSPF::Router::FloodLSA" ref="a2cfb1ebf041766dadf2fcd6e1fdebe27" args="(OSPFLSA *lsa, AreaID areaID=BackboneAreaID, Interface *intf=NULL, Neighbor *neighbor=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::FloodLSA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_l_s_a.html">OSPFLSA</a> *&nbsp;</td>
          <td class="paramname"> <em>lsa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_o_s_p_f.html#a8d10c460f2da4aae5dd61d2a082dfc56">OSPF::AreaID</a>&nbsp;</td>
          <td class="paramname"> <em>areaID</em> = <code><a class="el" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">BackboneAreaID</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_1_1_interface.html">OSPF::Interface</a> *&nbsp;</td>
          <td class="paramname"> <em>intf</em> = <code>NULL</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_1_1_neighbor.html">OSPF::Neighbor</a> *&nbsp;</td>
          <td class="paramname"> <em>neighbor</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Floods out the input lsa on a set of Interfaces. </p>
<dl class="see"><dt><b>See also:</b></dt><dd>RFC2328 Section 13.3. </dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lsa</em>&nbsp;</td><td>[in] The LSA to be flooded out. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>areaID</em>&nbsp;</td><td>[in] If the lsa is a <a class="el" href="class_o_s_p_f_1_1_router.html">Router</a>, Network or Summary LSA, then flood it only in this <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>intf</em>&nbsp;</td><td>[in] The <a class="el" href="class_o_s_p_f_1_1_interface.html">Interface</a> this LSA arrived on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>neighbor</em>&nbsp;</td><td>[in] The Nieghbor this LSA arrived from. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the LSA was floooded back out on the receiving <a class="el" href="class_o_s_p_f_1_1_interface.html">Interface</a>, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00523">523</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00198">InstallASExternalLSA()</a>, <a class="el" href="_link_state_update_handler_8cc_source.html#l00043">OSPF::LinkStateUpdateHandler::ProcessPacket()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l01594">RemoveExternalRoute()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l01532">UpdateExternalRoute()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00524"></a>00524 {
<a name="l00525"></a>00525     <span class="keywordtype">bool</span> floodedBackOut = <span class="keyword">false</span>;
<a name="l00526"></a>00526 
<a name="l00527"></a>00527     <span class="keywordflow">if</span> (lsa != NULL) {
<a name="l00528"></a>00528         <span class="keywordflow">if</span> (lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a5ec5eaa7d91ea4e1447766fe076d7207">getLsType</a>() == <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba4c38291b3c8571803e6cd756f84d0c85">ASExternalLSAType</a>) {
<a name="l00529"></a>00529             <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00530"></a>00530             <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l00531"></a>00531                 <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;GetExternalRoutingCapability()) {
<a name="l00532"></a>00532                     <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;<a class="code" href="class_o_s_p_f_1_1_router.html#a2cfb1ebf041766dadf2fcd6e1fdebe27">FloodLSA</a>(lsa, intf, neighbor)) {
<a name="l00533"></a>00533                         floodedBackOut = <span class="keyword">true</span>;
<a name="l00534"></a>00534                     }
<a name="l00535"></a>00535                 }
<a name="l00536"></a>00536             }
<a name="l00537"></a>00537         } <span class="keywordflow">else</span> {
<a name="l00538"></a>00538             std::map&lt;OSPF::AreaID, OSPF::Area*&gt;::iterator areaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.find(areaID);
<a name="l00539"></a>00539             <span class="keywordflow">if</span> (areaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.end()) {
<a name="l00540"></a>00540                 floodedBackOut = areaIt-&gt;second-&gt;FloodLSA(lsa, intf, neighbor);
<a name="l00541"></a>00541             }
<a name="l00542"></a>00542         }
<a name="l00543"></a>00543     }
<a name="l00544"></a>00544 
<a name="l00545"></a>00545     <span class="keywordflow">return</span> floodedBackOut;
<a name="l00546"></a>00546 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a3c81e4d286cf26f247db7940b6775580"></a><!-- doxytag: member="OSPF::Router::GetArea" ref="a3c81e4d286cf26f247db7940b6775580" args="(IPv4Address address)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_area.html">OSPF::Area</a> * OSPF::Router::GetArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_i_pv4_address.html">OSPF::IPv4Address</a>&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> pointer from the <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> list which contains the input <a class="el" href="class_i_p.html">IP</a> address, NULL if there's no such area connected to the <a class="el" href="class_o_s_p_f_1_1_router.html">Router</a>. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>[in] The <a class="el" href="class_i_p.html">IP</a> address whose containing <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> we're looking for. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00108">108</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00109"></a>00109 {
<a name="l00110"></a>00110     <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00111"></a>00111     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l00112"></a>00112         <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;ContainsAddress(address)) {
<a name="l00113"></a>00113             <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i];
<a name="l00114"></a>00114         }
<a name="l00115"></a>00115     }
<a name="l00116"></a>00116     <span class="keywordflow">return</span> NULL;
<a name="l00117"></a>00117 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="af1593be786d4bdd63bb6805d5bdefb50"></a><!-- doxytag: member="OSPF::Router::GetArea" ref="af1593be786d4bdd63bb6805d5bdefb50" args="(AreaID areaID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_area.html">OSPF::Area</a> * OSPF::Router::GetArea </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_o_s_p_f.html#a8d10c460f2da4aae5dd61d2a082dfc56">OSPF::AreaID</a>&nbsp;</td>
          <td class="paramname"> <em>areaID</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the pointer to the <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> identified by the input areaID, if it's on the <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> list, NULL otherwise. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>areaID</em>&nbsp;</td><td>[in] The <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a> identifier. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00091">91</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_routing_8cc_source.html#l00353">OSPFRouting::LoadHostRoute()</a>, <a class="el" href="_o_s_p_f_routing_8cc_source.html#l00178">OSPFRouting::LoadInterfaceParameters()</a>, <a class="el" href="_o_s_p_f_routing_8cc_source.html#l00391">OSPFRouting::LoadVirtualLink()</a>, <a class="el" href="_o_s_p_f_area_8cc_source.html#l00688">OSPF::Area::OriginateRouterLSA()</a>, <a class="el" href="_message_handler_8cc_source.html#l00165">OSPF::MessageHandler::ProcessPacket()</a>, <a class="el" href="_link_state_update_handler_8cc_source.html#l00043">OSPF::LinkStateUpdateHandler::ProcessPacket()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l00820">RebuildRoutingTable()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00092"></a>00092 {
<a name="l00093"></a>00093     std::map&lt;OSPF::AreaID, OSPF::Area*&gt;::iterator areaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.find(areaID);
<a name="l00094"></a>00094     <span class="keywordflow">if</span> (areaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.end()) {
<a name="l00095"></a>00095         <span class="keywordflow">return</span> (areaIt-&gt;second);
<a name="l00096"></a>00096     }
<a name="l00097"></a>00097     <span class="keywordflow">else</span> {
<a name="l00098"></a>00098         <span class="keywordflow">return</span> NULL;
<a name="l00099"></a>00099     }
<a name="l00100"></a>00100 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a69d95bca021305439e63ebb712a9559c"></a><!-- doxytag: member="OSPF::Router::GetAreaCount" ref="a69d95bca021305439e63ebb712a9559c" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long OSPF::Router::GetAreaCount </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00058">58</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_area_8cc_source.html#l00688">OSPF::Area::OriginateRouterLSA()</a>, and <a class="el" href="_message_handler_8cc_source.html#l00165">OSPF::MessageHandler::ProcessPacket()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00058"></a>00058 { <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac380db94a6b8c16941d338a11b3b6b11"></a><!-- doxytag: member="OSPF::Router::GetASBoundaryRouter" ref="ac380db94a6b8c16941d338a11b3b6b11" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::GetASBoundaryRouter </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00065">65</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_area_8cc_source.html#l00688">OSPF::Area::OriginateRouterLSA()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00065"></a>00065 { <span class="keywordflow">return</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a2fa24502500b746a3056832733228a65" title="A map of the external route advertised by this router.">externalRoutes</a>.size() &gt; 0); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a53df3fd45ff91fa56b853289dc23a435"></a><!-- doxytag: member="OSPF::Router::GetASExternalLSA" ref="a53df3fd45ff91fa56b853289dc23a435" args="(unsigned long i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a>* OSPF::Router::GetASExternalLSA </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>i</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00064">64</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00064"></a>00064 { <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>[i]; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="abfec528130746982c850c80084a9502b"></a><!-- doxytag: member="OSPF::Router::GetASExternalLSA" ref="abfec528130746982c850c80084a9502b" args="(unsigned long i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a>* OSPF::Router::GetASExternalLSA </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>i</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00063">63</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00262">OSPF::Neighbor::CreateDatabaseSummary()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00063"></a>00063 { <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>[i]; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a18459104f498a4de761216210665220a"></a><!-- doxytag: member="OSPF::Router::GetASExternalLSACount" ref="a18459104f498a4de761216210665220a" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long OSPF::Router::GetASExternalLSACount </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00062">62</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00262">OSPF::Neighbor::CreateDatabaseSummary()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00062"></a>00062 { <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>.size(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a9a35624ca66179bda14774a1fbdc44bf"></a><!-- doxytag: member="OSPF::Router::GetContainingAddressRange" ref="a9a35624ca66179bda14774a1fbdc44bf" args="(IPv4AddressRange addressRange, bool *advertise=NULL) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_o_s_p_f_1_1_i_pv4_address_range.html">OSPF::IPv4AddressRange</a> OSPF::Router::GetContainingAddressRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_i_pv4_address_range.html">OSPF::IPv4AddressRange</a>&nbsp;</td>
          <td class="paramname"> <em>addressRange</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&nbsp;</td>
          <td class="paramname"> <em>advertise</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Scans through the router's areas' preconfigured address ranges and returns the one containing the input addressRange. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addressRange</em>&nbsp;</td><td>[in] The address range to look for. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>advertise</em>&nbsp;</td><td>[out] Whether the advertise flag is set in the returned preconfigured address range. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The containing preconfigured address range if found, <a class="el" href="namespace_o_s_p_f.html#ad8bce8fb1420d6747aba9a122e7300ea">OSPF::NullIPv4AddressRange</a> otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l01231">1231</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01232"></a>01232 {
<a name="l01233"></a>01233     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l01234"></a>01234     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l01235"></a>01235         <a class="code" href="struct_o_s_p_f_1_1_i_pv4_address_range.html">OSPF::IPv4AddressRange</a> containingAddressRange = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;GetContainingAddressRange(addressRange, advertise);
<a name="l01236"></a>01236         <span class="keywordflow">if</span> (containingAddressRange != <a class="code" href="namespace_o_s_p_f.html#ad8bce8fb1420d6747aba9a122e7300ea">OSPF::NullIPv4AddressRange</a>) {
<a name="l01237"></a>01237             <span class="keywordflow">return</span> containingAddressRange;
<a name="l01238"></a>01238         }
<a name="l01239"></a>01239     }
<a name="l01240"></a>01240     <span class="keywordflow">if</span> (advertise != NULL) {
<a name="l01241"></a>01241         *advertise = <span class="keyword">false</span>;
<a name="l01242"></a>01242     }
<a name="l01243"></a>01243     <span class="keywordflow">return</span> <a class="code" href="namespace_o_s_p_f.html#ad8bce8fb1420d6747aba9a122e7300ea">OSPF::NullIPv4AddressRange</a>;
<a name="l01244"></a>01244 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ab2b6452dadb00d2970e3432b0b29e17f"></a><!-- doxytag: member="OSPF::Router::GetMessageHandler" ref="ab2b6452dadb00d2970e3432b0b29e17f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_message_handler.html">MessageHandler</a>* OSPF::Router::GetMessageHandler </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00060">60</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_link_state_update_handler_8cc_source.html#l00260">OSPF::LinkStateUpdateHandler::AcknowledgeLSA()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00543">OSPF::Neighbor::ClearRequestRetransmissionTimer()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00479">OSPF::Neighbor::ClearUpdateRetransmissionTimer()</a>, <a class="el" href="_o_s_p_f_interface_8cc_source.html#l00278">OSPF::Interface::FloodLSA()</a>, <a class="el" href="_o_s_p_f_routing_8cc_source.html#l00085">OSPFRouting::handleMessage()</a>, <a class="el" href="_o_s_p_f_neighbor_state_two_way_8cc_source.html#l00027">OSPF::NeighborStateTwoWay::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_neighbor_state_loading_8cc_source.html#l00029">OSPF::NeighborStateLoading::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_neighbor_state_init_8cc_source.html#l00027">OSPF::NeighborStateInit::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_neighbor_state_full_8cc_source.html#l00028">OSPF::NeighborStateFull::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_neighbor_state_exchange_start_8cc_source.html#l00028">OSPF::NeighborStateExchangeStart::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_neighbor_state_exchange_8cc_source.html#l00030">OSPF::NeighborStateExchange::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_neighbor_state_down_8cc_source.html#l00026">OSPF::NeighborStateDown::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_neighbor_state_attempt_8cc_source.html#l00026">OSPF::NeighborStateAttempt::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_interface_state_waiting_8cc_source.html#l00025">OSPF::InterfaceStateWaiting::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_interface_state_point_to_point_8cc_source.html#l00025">OSPF::InterfaceStatePointToPoint::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_interface_state_not_designated_router_8cc_source.html#l00025">OSPF::InterfaceStateNotDesignatedRouter::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_interface_state_down_8cc_source.html#l00027">OSPF::InterfaceStateDown::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_interface_state_designated_router_8cc_source.html#l00025">OSPF::InterfaceStateDesignatedRouter::ProcessEvent()</a>, <a class="el" href="_o_s_p_f_interface_state_backup_8cc_source.html#l00025">OSPF::InterfaceStateBackup::ProcessEvent()</a>, <a class="el" href="_link_state_update_handler_8cc_source.html#l00043">OSPF::LinkStateUpdateHandler::ProcessPacket()</a>, <a class="el" href="_link_state_request_handler_8cc_source.html#l00028">OSPF::LinkStateRequestHandler::ProcessPacket()</a>, <a class="el" href="_link_state_acknowledgement_handler_8cc_source.html#l00026">OSPF::LinkStateAcknowledgementHandler::ProcessPacket()</a>, <a class="el" href="_hello_handler_8cc_source.html#l00030">OSPF::HelloHandler::ProcessPacket()</a>, <a class="el" href="_database_description_handler_8cc_source.html#l00029">OSPF::DatabaseDescriptionHandler::ProcessPacket()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00102">OSPF::Neighbor::Reset()</a>, <a class="el" href="_o_s_p_f_interface_8cc_source.html#l00109">OSPF::Interface::Reset()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00243">OSPF::Neighbor::RetransmitDatabaseDescriptionPacket()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00584">OSPF::Neighbor::RetransmitUpdatePacket()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00166">OSPF::Neighbor::SendDatabaseDescriptionPacket()</a>, <a class="el" href="_o_s_p_f_interface_8cc_source.html#l00516">OSPF::Interface::SendDelayedAcknowledgements()</a>, <a class="el" href="_o_s_p_f_interface_8cc_source.html#l00123">OSPF::Interface::SendHelloPacket()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00311">OSPF::Neighbor::SendLinkStateRequestPacket()</a>, <a class="el" href="_o_s_p_f_interface_8cc_source.html#l00170">OSPF::Interface::SendLSAcknowledgement()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00536">OSPF::Neighbor::StartRequestRetransmissionTimer()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00472">OSPF::Neighbor::StartUpdateRetransmissionTimer()</a>, <a class="el" href="_o_s_p_f_interface_8cc_source.html#l00065">OSPF::Interface::~Interface()</a>, and <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00071">OSPF::Neighbor::~Neighbor()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00060"></a>00060 { <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a532e99a63a766b3aabc007fd929fb48f" title="The message dispatcher class.">messageHandler</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1b1dc6a8a245040f1202d833090ce8b3"></a><!-- doxytag: member="OSPF::Router::GetNonVirtualInterface" ref="a1b1dc6a8a245040f1202d833090ce8b3" args="(unsigned char ifIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_interface.html">OSPF::Interface</a> * OSPF::Router::GetNonVirtualInterface </td>
          <td>(</td>
          <td class="paramtype">unsigned char&nbsp;</td>
          <td class="paramname"> <em>ifIndex</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the pointer of the physical <a class="el" href="class_o_s_p_f_1_1_interface.html">Interface</a> identified by the input interface index, NULL if the <a class="el" href="class_o_s_p_f_1_1_router.html">Router</a> doesn't have such an interface. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ifIndex</em>&nbsp;</td><td>[in] The interface index to look for. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00125">125</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00126"></a>00126 {
<a name="l00127"></a>00127     <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00128"></a>00128     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l00129"></a>00129         <a class="code" href="class_o_s_p_f_1_1_interface.html">OSPF::Interface</a>* intf = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;GetInterface(ifIndex);
<a name="l00130"></a>00130         <span class="keywordflow">if</span> (intf != NULL) {
<a name="l00131"></a>00131             <span class="keywordflow">return</span> intf;
<a name="l00132"></a>00132         }
<a name="l00133"></a>00133     }
<a name="l00134"></a>00134     <span class="keywordflow">return</span> NULL;
<a name="l00135"></a>00135 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1fc64753c023df6b7318008d50aef805"></a><!-- doxytag: member="OSPF::Router::GetPreferredEntry" ref="a1fc64753c023df6b7318008d50aef805" args="(const OSPFLSA &amp;lsa, bool skipSelfOriginated, std::vector&lt; RoutingTableEntry * &gt; *fromRoutingTable=NULL)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a>* OSPF::Router::GetPreferredEntry </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_o_s_p_f_l_s_a.html">OSPFLSA</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>lsa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>skipSelfOriginated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; *&nbsp;</td>
          <td class="paramname"> <em>fromRoutingTable</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="affd6a398ee914b26e5c06e72c9998e8d"></a><!-- doxytag: member="OSPF::Router::GetRFC1583Compatibility" ref="affd6a398ee914b26e5c06e72c9998e8d" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::GetRFC1583Compatibility </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00057">57</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00057"></a>00057 { <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a10f71a71f20baa02d35f94d602758357" title="Decides whether to handle the preferred routing table entry to an AS boundary router...">rfc1583Compatibility</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a12b09f4263d005f7b0cd808502c1de48"></a><!-- doxytag: member="OSPF::Router::GetRouterID" ref="a12b09f4263d005f7b0cd808502c1de48" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">RouterID</a> OSPF::Router::GetRouterID </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00055">55</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_link_state_update_handler_8cc_source.html#l00260">OSPF::LinkStateUpdateHandler::AcknowledgeLSA()</a>, <a class="el" href="_o_s_p_f_area_8cc_source.html#l00341">OSPF::Area::AgeDatabase()</a>, <a class="el" href="_o_s_p_f_interface_state_8cc_source.html#l00114">OSPF::InterfaceState::CalculateDesignatedRouter()</a>, <a class="el" href="_o_s_p_f_area_8cc_source.html#l01811">OSPF::Area::CalculateNextHops()</a>, <a class="el" href="_o_s_p_f_neighbor_state_8cc_source.html#l00023">OSPF::NeighborState::ChangeState()</a>, <a class="el" href="_o_s_p_f_interface_state_8cc_source.html#l00027">OSPF::InterfaceState::ChangeState()</a>, <a class="el" href="_o_s_p_f_interface_8cc_source.html#l00408">OSPF::Interface::CreateUpdatePacket()</a>, <a class="el" href="_o_s_p_f_area_8cc_source.html#l00989">OSPF::Area::GetUniqueLinkStateID()</a>, <a class="el" href="_o_s_p_f_routing_8cc_source.html#l00464">OSPFRouting::LoadConfigFromXML()</a>, <a class="el" href="_message_handler_8cc_source.html#l00032">OSPF::MessageHandler::MessageReceived()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00363">OSPF::Neighbor::NeedAdjacency()</a>, <a class="el" href="_o_s_p_f_area_8cc_source.html#l00929">OSPF::Area::OriginateNetworkLSA()</a>, <a class="el" href="_o_s_p_f_area_8cc_source.html#l00688">OSPF::Area::OriginateRouterLSA()</a>, <a class="el" href="_link_state_update_handler_8cc_source.html#l00043">OSPF::LinkStateUpdateHandler::ProcessPacket()</a>, <a class="el" href="_hello_handler_8cc_source.html#l00030">OSPF::HelloHandler::ProcessPacket()</a>, <a class="el" href="_database_description_handler_8cc_source.html#l00029">OSPF::DatabaseDescriptionHandler::ProcessPacket()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00584">OSPF::Neighbor::RetransmitUpdatePacket()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00166">OSPF::Neighbor::SendDatabaseDescriptionPacket()</a>, <a class="el" href="_o_s_p_f_interface_8cc_source.html#l00516">OSPF::Interface::SendDelayedAcknowledgements()</a>, <a class="el" href="_o_s_p_f_interface_8cc_source.html#l00123">OSPF::Interface::SendHelloPacket()</a>, <a class="el" href="_o_s_p_f_neighbor_8cc_source.html#l00311">OSPF::Neighbor::SendLinkStateRequestPacket()</a>, and <a class="el" href="_o_s_p_f_interface_8cc_source.html#l00170">OSPF::Interface::SendLSAcknowledgement()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00055"></a>00055 { <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a>; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a32016e85660ea37254e44312a80153eb"></a><!-- doxytag: member="OSPF::Router::GetRoutesToASBoundaryRouter" ref="a32016e85660ea37254e44312a80153eb" args="(const std::vector&lt; RoutingTableEntry * &gt; &amp;fromRoutingTable, OSPF::RouterID routerID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a>*&gt; OSPF::Router::GetRoutesToASBoundaryRouter </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>fromRoutingTable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">OSPF::RouterID</a>&nbsp;</td>
          <td class="paramname"> <em>routerID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a9464f6da7a2b4028f100d18952984eb8"></a><!-- doxytag: member="OSPF::Router::GetRoutingTableEntry" ref="a9464f6da7a2b4028f100d18952984eb8" args="(unsigned long i) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a>* OSPF::Router::GetRoutingTableEntry </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>i</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00069">69</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00069"></a>00069 { <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>[i]; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="adc36bddb2349df8c7f013e0c1062909e"></a><!-- doxytag: member="OSPF::Router::GetRoutingTableEntry" ref="adc36bddb2349df8c7f013e0c1062909e" args="(unsigned long i)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a>* OSPF::Router::GetRoutingTableEntry </td>
          <td>(</td>
          <td class="paramtype">unsigned long&nbsp;</td>
          <td class="paramname"> <em>i</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00068">68</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_area_8cc_source.html#l01292">OSPF::Area::OriginateSummaryLSA()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00068"></a>00068 { <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>[i]; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a07874bd84b94970be2c08b01a50bff9e"></a><!-- doxytag: member="OSPF::Router::GetRoutingTableEntryCount" ref="a07874bd84b94970be2c08b01a50bff9e" args="(void) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long OSPF::Router::GetRoutingTableEntryCount </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00067">67</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_area_8cc_source.html#l01292">OSPF::Area::OriginateSummaryLSA()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00067"></a>00067 { <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.size(); }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a711150516e1e27419e4c2c9770a3d9db"></a><!-- doxytag: member="OSPF::Router::GetUniqueLinkStateID" ref="a711150516e1e27419e4c2c9770a3d9db" args="(IPv4AddressRange destination, Metric destinationCost, OSPF::ASExternalLSA *&amp;lsaToReoriginate, bool externalMetricIsType2=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_o_s_p_f.html#a8ac3195d08bc351276d08e1c28e0d2dc">OSPF::LinkStateID</a> OSPF::Router::GetUniqueLinkStateID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_i_pv4_address_range.html">OSPF::IPv4AddressRange</a>&nbsp;</td>
          <td class="paramname"> <em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_o_s_p_f.html#a4a99812a2d079df0f7208f2740cdb0ad">OSPF::Metric</a>&nbsp;</td>
          <td class="paramname"> <em>destinationCost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a> *&amp;&nbsp;</td>
          <td class="paramname"> <em>lsaToReoriginate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>externalMetricIsType2</em> = <code>false</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Generates a unique LinkStateID for a given destination. This may require the reorigination of an LSA already in the database(with a different LinkStateID). </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>destination</em>&nbsp;</td><td>[in] The destination for which a unique LinkStateID is required. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>destinationCost</em>&nbsp;</td><td>[in] The path cost to the destination. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lsaToReoriginate</em>&nbsp;</td><td>[out] The LSA to reoriginate(which was already in the database, and had to be changed). </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>externalMetricIsType2</em>&nbsp;</td><td>[in] True if the destinationCost is given as a Type2 external metric. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the LinkStateID for the destination. </dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>RFC2328 Appendix E. </dd>
<dd>
<a class="el" href="class_o_s_p_f_1_1_area.html#a8f3e4d8ba4c2ef6e39aff7a894a0930d">OSPF::Area::GetUniqueLinkStateID</a> </dd></dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l01262">1262</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01266"></a>01266 {
<a name="l01267"></a>01267     <span class="keywordflow">if</span> (lsaToReoriginate != NULL) {
<a name="l01268"></a>01268         <span class="keyword">delete</span> lsaToReoriginate;
<a name="l01269"></a>01269         lsaToReoriginate = NULL;
<a name="l01270"></a>01270     }
<a name="l01271"></a>01271 
<a name="l01272"></a>01272     <a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">OSPF::LSAKeyType</a> lsaKey;
<a name="l01273"></a>01273 
<a name="l01274"></a>01274     lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a3a05e7e193451f3979803d5e93362ead">linkStateID</a> = <a class="code" href="_o_s_p_fcommon_8h.html#a4da9e68bb3ffcba090d1b07a5f812ce3">ULongFromIPv4Address</a>(destination.<a class="code" href="struct_o_s_p_f_1_1_i_pv4_address_range.html#a74993d6571119644535ac918c4240722">address</a>);
<a name="l01275"></a>01275     lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a583e0f1cf5e052a08dc21dbcd405e8b6">advertisingRouter</a> = <a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a>;
<a name="l01276"></a>01276 
<a name="l01277"></a>01277     <span class="keyword">const</span> <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>* foundLSA = <a class="code" href="class_o_s_p_f_1_1_router.html#a5aec9d69b413708dd0617190268af187">FindASExternalLSA</a>(lsaKey);
<a name="l01278"></a>01278 
<a name="l01279"></a>01279     <span class="keywordflow">if</span> (foundLSA == NULL) {
<a name="l01280"></a>01280         <span class="keywordflow">return</span> lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a3a05e7e193451f3979803d5e93362ead">linkStateID</a>;
<a name="l01281"></a>01281     } <span class="keywordflow">else</span> {
<a name="l01282"></a>01282         <a class="code" href="struct_o_s_p_f_1_1_i_pv4_address.html">OSPF::IPv4Address</a> existingMask = <a class="code" href="_o_s_p_fcommon_8h.html#a5206656cf4131a17505ee9db0a60ddb6">IPv4AddressFromULong</a>(foundLSA-&gt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html#a34f5913c38930cb4098b1b5b2ceca1bb">getContents</a>().<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#a0e25297f13bd07dcd4d402fa8fb0724f">getNetworkMask</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>());
<a name="l01283"></a>01283 
<a name="l01284"></a>01284         <span class="keywordflow">if</span> (destination.<a class="code" href="struct_o_s_p_f_1_1_i_pv4_address_range.html#a452878c3f507f27d1de9c5b7cda2ae70">mask</a> &gt;= existingMask) {
<a name="l01285"></a>01285             <span class="keywordflow">return</span> (lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a3a05e7e193451f3979803d5e93362ead">linkStateID</a> | (~(<a class="code" href="_o_s_p_fcommon_8h.html#a4da9e68bb3ffcba090d1b07a5f812ce3">ULongFromIPv4Address</a>(destination.<a class="code" href="struct_o_s_p_f_1_1_i_pv4_address_range.html#a452878c3f507f27d1de9c5b7cda2ae70">mask</a>))));
<a name="l01286"></a>01286         } <span class="keywordflow">else</span> {
<a name="l01287"></a>01287             <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>* asExternalLSA = <span class="keyword">new</span> <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>(*foundLSA);
<a name="l01288"></a>01288 
<a name="l01289"></a>01289             <span class="keywordtype">long</span> sequenceNumber = asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#aa1fa1df57d84e20fef93e765a587ff1c">getLsSequenceNumber</a>();
<a name="l01290"></a>01290 
<a name="l01291"></a>01291             asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#ae9da0df1ade356d3da9daaf68aa77c0d">setLsAge</a>(0);
<a name="l01292"></a>01292             asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a91209faeabf5287af7e5a9c8735e4cf7">setLsSequenceNumber</a>((sequenceNumber == <a class="code" href="_o_s_p_fcommon_8h.html#a35f49b34e56993fe20d3a21d144c16d3">MAX_SEQUENCE_NUMBER</a>) ? <a class="code" href="_o_s_p_fcommon_8h.html#ad441394da087bc61e24a5b99455c5589">INITIAL_SEQUENCE_NUMBER</a> : sequenceNumber + 1);
<a name="l01293"></a>01293             asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html#a34f5913c38930cb4098b1b5b2ceca1bb">getContents</a>().<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#a2de8600e7d3181c6adadc14c82ebba72">setNetworkMask</a>(<a class="code" href="_o_s_p_fcommon_8h.html#a4da9e68bb3ffcba090d1b07a5f812ce3">ULongFromIPv4Address</a>(destination.<a class="code" href="struct_o_s_p_f_1_1_i_pv4_address_range.html#a452878c3f507f27d1de9c5b7cda2ae70">mask</a>));
<a name="l01294"></a>01294             asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html#a34f5913c38930cb4098b1b5b2ceca1bb">getContents</a>().<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#ab83cdaea2065422d1afc95d429a67140">setE_ExternalMetricType</a>(externalMetricIsType2);
<a name="l01295"></a>01295             asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html#a34f5913c38930cb4098b1b5b2ceca1bb">getContents</a>().<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#a29c255827c3eaf31c976c5199fe5c5e9">setRouteCost</a>(destinationCost);
<a name="l01296"></a>01296             asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a1e71120701358465cc8f5b598f74760f">setLsChecksum</a>(0);    <span class="comment">// TODO: calculate correct LS checksum</span>
<a name="l01297"></a>01297 
<a name="l01298"></a>01298             lsaToReoriginate = asExternalLSA;
<a name="l01299"></a>01299 
<a name="l01300"></a>01300             <span class="keywordflow">return</span> (lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a3a05e7e193451f3979803d5e93362ead">linkStateID</a> | (~(<a class="code" href="_o_s_p_fcommon_8h.html#a4da9e68bb3ffcba090d1b07a5f812ce3">ULongFromIPv4Address</a>(existingMask))));
<a name="l01301"></a>01301         }
<a name="l01302"></a>01302     }
<a name="l01303"></a>01303 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2ac64ff56b3bcde574fde26a5247286d"></a><!-- doxytag: member="OSPF::Router::HasAddressRange" ref="a2ac64ff56b3bcde574fde26a5247286d" args="(IPv4AddressRange addressRange) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::HasAddressRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_i_pv4_address_range.html">OSPF::IPv4AddressRange</a>&nbsp;</td>
          <td class="paramname"> <em>addressRange</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if one of the Router's Areas the same <a class="el" href="class_i_p.html">IP</a> address range configured as the input <a class="el" href="class_i_p.html">IP</a> address range, false otherwise. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>addressRange</em>&nbsp;</td><td>[in] The <a class="el" href="class_i_p.html">IP</a> address range to look for. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00571">571</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00572"></a>00572 {
<a name="l00573"></a>00573     <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00574"></a>00574     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l00575"></a>00575         <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;<a class="code" href="class_o_s_p_f_1_1_router.html#a2ac64ff56b3bcde574fde26a5247286d">HasAddressRange</a>(addressRange)) {
<a name="l00576"></a>00576             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00577"></a>00577         }
<a name="l00578"></a>00578     }
<a name="l00579"></a>00579     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00580"></a>00580 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="afc4272a1f634c3329523df334e67aa3c"></a><!-- doxytag: member="OSPF::Router::HasAnyNeighborInStates" ref="afc4272a1f634c3329523df334e67aa3c" args="(int states) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::HasAnyNeighborInStates </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>states</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if any <a class="el" href="class_o_s_p_f_1_1_neighbor.html">Neighbor</a> on any <a class="el" href="class_o_s_p_f_1_1_interface.html">Interface</a> in any of the Router's Areas is in any of the input states, false otherwise. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>states</em>&nbsp;</td><td>[in] A bitfield combination of NeighborStateType values. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00471">471</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>, and <a class="el" href="_link_state_update_handler_8cc_source.html#l00043">OSPF::LinkStateUpdateHandler::ProcessPacket()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00472"></a>00472 {
<a name="l00473"></a>00473     <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00474"></a>00474     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l00475"></a>00475         <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;<a class="code" href="class_o_s_p_f_1_1_router.html#afc4272a1f634c3329523df334e67aa3c">HasAnyNeighborInStates</a>(states)) {
<a name="l00476"></a>00476             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00477"></a>00477         }
<a name="l00478"></a>00478     }
<a name="l00479"></a>00479     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00480"></a>00480 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5bb62fe635f3bbe881e9917564334751"></a><!-- doxytag: member="OSPF::Router::HasRouteToASBoundaryRouter" ref="a5bb62fe635f3bbe881e9917564334751" args="(const std::vector&lt; RoutingTableEntry * &gt; &amp;inRoutingTable, OSPF::RouterID routerID) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::HasRouteToASBoundaryRouter </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>inRoutingTable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">OSPF::RouterID</a>&nbsp;</td>
          <td class="paramname"> <em>routerID</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a8615120ec6c21bfd812b533e5532ddcb"></a><!-- doxytag: member="OSPF::Router::InstallASExternalLSA" ref="a8615120ec6c21bfd812b533e5532ddcb" args="(OSPFASExternalLSA *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::InstallASExternalLSA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_a_s_external_l_s_a.html">OSPFASExternalLSA</a> *&nbsp;</td>
          <td class="paramname"> <em>lsa</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Installs a new AS External LSA into the Router's database. It tries to install keep one of multiple functionally equivalent AS External LSAs in the database. (See the comment in the method implementation.) </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lsa</em>&nbsp;</td><td>[in] The LSA to install. It will be copied into the database. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the routing table needs to be updated, false otherwise. </dd></dl>

<p><p>From RFC2328 Section 12.4.4.1.: If two routers, both reachable from one another, originate functionally equivalent AS-External-LSAs(i.e., same destination, cost and non-zero forwarding address), then the LSA originated by the router having the highest <a class="el" href="namespace_o_s_p_f.html">OSPF</a> <a class="el" href="class_o_s_p_f_1_1_router.html">Router</a> ID is used. The router having the lower <a class="el" href="namespace_o_s_p_f.html">OSPF</a> <a class="el" href="class_o_s_p_f_1_1_router.html">Router</a> ID can then flush its LSA. The problem is: how do we tell whether two routers are reachable from one another based on a <a class="el" href="class_link.html">Link</a> State Update packet? 0. We can assume that if this LSA reached this router, then this router is reachable from the other router. But what about the other direction? 1. The update packet is most likely not sent by the router originating the functionally equivalent AS-External-LSA, so we cannot use the <a class="el" href="class_i_p.html">IP</a> packet source address. 2. The AS-External-LSA contains only the <a class="el" href="class_o_s_p_f_1_1_router.html">Router</a> ID of the advertising router, so we can only look up "router" type routing entries in the routing table(these contain the <a class="el" href="class_o_s_p_f_1_1_router.html">Router</a> ID as their Destination ID). However these entries are only inserted into the routing table for intra-area routers...</p>
</p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00198">198</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00146">InstallLSA()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l01532">UpdateExternalRoute()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00199"></a>00199 {
<a name="l00217"></a>00217      <span class="comment">// TODO: how to solve this problem?</span>
<a name="l00218"></a>00218 
<a name="l00219"></a>00219     <a class="code" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">OSPF::RouterID</a> advertisingRouter = lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a85083aabf7994ed37c3458e06337d183">getAdvertisingRouter</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>();
<a name="l00220"></a>00220     <span class="keywordtype">bool</span>           reachable         = <span class="keyword">false</span>;
<a name="l00221"></a>00221     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>   routeCount        = <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.size();
<a name="l00222"></a>00222 
<a name="l00223"></a>00223     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; routeCount; i++) {
<a name="l00224"></a>00224         <span class="keywordflow">if</span> ((((<a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>[i]-&gt;GetDestinationType() &amp; <a class="code" href="class_o_s_p_f_1_1_routing_table_entry.html#af92c5c5be248300e9c778f1a87dda704">OSPF::RoutingTableEntry::AreaBorderRouterDestination</a>) != 0) ||
<a name="l00225"></a>00225              ((<a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>[i]-&gt;GetDestinationType() &amp; <a class="code" href="class_o_s_p_f_1_1_routing_table_entry.html#a5d17313f8ef2882f4e6c84dfbfb07a16">OSPF::RoutingTableEntry::ASBoundaryRouterDestination</a>) != 0)) &amp;&amp;
<a name="l00226"></a>00226             (<a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>[i]-&gt;GetDestinationID().getInt() == advertisingRouter))
<a name="l00227"></a>00227         {
<a name="l00228"></a>00228             reachable = <span class="keyword">true</span>;
<a name="l00229"></a>00229             <span class="keywordflow">break</span>;
<a name="l00230"></a>00230         }
<a name="l00231"></a>00231     }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233     <span class="keywordtype">bool</span>             ownLSAFloodedOut = <span class="keyword">false</span>;
<a name="l00234"></a>00234     <a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">OSPF::LSAKeyType</a> lsaKey;
<a name="l00235"></a>00235 
<a name="l00236"></a>00236     lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a3a05e7e193451f3979803d5e93362ead">linkStateID</a> = lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a2f146ccaa3d51bae77fd76f429b52abe">getLinkStateID</a>();
<a name="l00237"></a>00237     lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a583e0f1cf5e052a08dc21dbcd405e8b6">advertisingRouter</a> = <a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a>;
<a name="l00238"></a>00238 
<a name="l00239"></a>00239     std::map&lt;OSPF::LSAKeyType, OSPF::ASExternalLSA*, OSPF::LSAKeyType_Less&gt;::iterator lsaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.find(lsaKey);
<a name="l00240"></a>00240     <span class="keywordflow">if</span> ((lsaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.end()) &amp;&amp;
<a name="l00241"></a>00241         reachable &amp;&amp;
<a name="l00242"></a>00242         (lsaIt-&gt;second-&gt;getContents().getE_ExternalMetricType() == lsa-&gt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html#a34f5913c38930cb4098b1b5b2ceca1bb">getContents</a>().<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#a516562d1adb3fa4b65131d826a93de4c">getE_ExternalMetricType</a>()) &amp;&amp;
<a name="l00243"></a>00243         (lsaIt-&gt;second-&gt;getContents().getRouteCost() == lsa-&gt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html#a34f5913c38930cb4098b1b5b2ceca1bb">getContents</a>().<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#a9158b3adccf5864d8806813976f44b38">getRouteCost</a>()) &amp;&amp;
<a name="l00244"></a>00244         (lsa-&gt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html#a34f5913c38930cb4098b1b5b2ceca1bb">getContents</a>().<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#aa6763dd6e1ba71fc91654887797f6d1d">getForwardingAddress</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>() != 0) &amp;&amp;   <span class="comment">// forwarding address != 0.0.0.0</span>
<a name="l00245"></a>00245         (lsaIt-&gt;second-&gt;getContents().getForwardingAddress() == lsa-&gt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html#a34f5913c38930cb4098b1b5b2ceca1bb">getContents</a>().<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#aa6763dd6e1ba71fc91654887797f6d1d">getForwardingAddress</a>()))
<a name="l00246"></a>00246     {
<a name="l00247"></a>00247         <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a> &gt; advertisingRouter) {
<a name="l00248"></a>00248             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00249"></a>00249         } <span class="keywordflow">else</span> {
<a name="l00250"></a>00250             lsaIt-&gt;second-&gt;getHeader().setLsAge(<a class="code" href="_o_s_p_fcommon_8h.html#a22c87c874ff5382c5d082b860110e363">MAX_AGE</a>);
<a name="l00251"></a>00251             <a class="code" href="class_o_s_p_f_1_1_router.html#a2cfb1ebf041766dadf2fcd6e1fdebe27">FloodLSA</a>(lsaIt-&gt;second, <a class="code" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">OSPF::BackboneAreaID</a>);
<a name="l00252"></a>00252             lsaIt-&gt;second-&gt;IncrementInstallTime();
<a name="l00253"></a>00253             ownLSAFloodedOut = <span class="keyword">true</span>;
<a name="l00254"></a>00254         }
<a name="l00255"></a>00255     }
<a name="l00256"></a>00256 
<a name="l00257"></a>00257     lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a583e0f1cf5e052a08dc21dbcd405e8b6">advertisingRouter</a> = advertisingRouter;
<a name="l00258"></a>00258 
<a name="l00259"></a>00259     lsaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.find(lsaKey);
<a name="l00260"></a>00260     <span class="keywordflow">if</span> (lsaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.end()) {
<a name="l00261"></a>00261         <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00262"></a>00262         <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l00263"></a>00263             <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;RemoveFromAllRetransmissionLists(lsaKey);
<a name="l00264"></a>00264         }
<a name="l00265"></a>00265         <span class="keywordflow">return</span> ((lsaIt-&gt;second-&gt;Update(lsa)) | ownLSAFloodedOut);
<a name="l00266"></a>00266     } <span class="keywordflow">else</span> {
<a name="l00267"></a>00267         <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>* lsaCopy = <span class="keyword">new</span> <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>(*lsa);
<a name="l00268"></a>00268         <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>[lsaKey] = lsaCopy;
<a name="l00269"></a>00269         <a class="code" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36" title="A list of the ASExternalLSAs advertised by this router.">asExternalLSAs</a>.push_back(lsaCopy);
<a name="l00270"></a>00270         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00271"></a>00271     }
<a name="l00272"></a>00272 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a0b35533c0a9820cdd8887d5812c2db9b"></a><!-- doxytag: member="OSPF::Router::InstallLSA" ref="a0b35533c0a9820cdd8887d5812c2db9b" args="(OSPFLSA *lsa, AreaID areaID=BackboneAreaID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::InstallLSA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_l_s_a.html">OSPFLSA</a> *&nbsp;</td>
          <td class="paramname"> <em>lsa</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_o_s_p_f.html#a8d10c460f2da4aae5dd61d2a082dfc56">OSPF::AreaID</a>&nbsp;</td>
          <td class="paramname"> <em>areaID</em> = <code><a class="el" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">BackboneAreaID</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Installs a new LSA into the <a class="el" href="class_o_s_p_f_1_1_router.html">Router</a> database. Checks the input LSA's type and installs it into either the selected Area's database, or if it's an AS External LSA then into the Router's common asExternalLSAs list. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lsa</em>&nbsp;</td><td>[in] The LSA to install. It will be copied into the database. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>areaID</em>&nbsp;</td><td>[in] Identifies the input <a class="el" href="class_o_s_p_f_1_1_router.html">Router</a>, Network and Summary LSA's <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the routing table needs to be updated, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00146">146</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_link_state_update_handler_8cc_source.html#l00043">OSPF::LinkStateUpdateHandler::ProcessPacket()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00147"></a>00147 {
<a name="l00148"></a>00148     <span class="keywordflow">switch</span> (lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a5ec5eaa7d91ea4e1447766fe076d7207">getLsType</a>()) {
<a name="l00149"></a>00149         <span class="keywordflow">case</span> <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89baf0d156f2d439c02650ae0bb67f9385d9">RouterLSAType</a>:
<a name="l00150"></a>00150             {
<a name="l00151"></a>00151                 std::map&lt;OSPF::AreaID, OSPF::Area*&gt;::iterator areaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.find(areaID);
<a name="l00152"></a>00152                 <span class="keywordflow">if</span> (areaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.end()) {
<a name="l00153"></a>00153                     <a class="code" href="class_o_s_p_f_router_l_s_a.html">OSPFRouterLSA</a>* ospfRouterLSA = check_and_cast&lt;<a class="code" href="class_o_s_p_f_router_l_s_a.html">OSPFRouterLSA</a>*&gt; (lsa);
<a name="l00154"></a>00154                     <span class="keywordflow">return</span> areaIt-&gt;second-&gt;InstallRouterLSA(ospfRouterLSA);
<a name="l00155"></a>00155                 }
<a name="l00156"></a>00156             }
<a name="l00157"></a>00157             <span class="keywordflow">break</span>;
<a name="l00158"></a>00158         <span class="keywordflow">case</span> <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba872178b0c61ee0bd5c16db015e98b396">NetworkLSAType</a>:
<a name="l00159"></a>00159             {
<a name="l00160"></a>00160                 std::map&lt;OSPF::AreaID, OSPF::Area*&gt;::iterator areaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.find(areaID);
<a name="l00161"></a>00161                 <span class="keywordflow">if</span> (areaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.end()) {
<a name="l00162"></a>00162                     <a class="code" href="class_o_s_p_f_network_l_s_a.html">OSPFNetworkLSA</a>* ospfNetworkLSA = check_and_cast&lt;<a class="code" href="class_o_s_p_f_network_l_s_a.html">OSPFNetworkLSA</a>*&gt; (lsa);
<a name="l00163"></a>00163                     <span class="keywordflow">return</span> areaIt-&gt;second-&gt;InstallNetworkLSA(ospfNetworkLSA);
<a name="l00164"></a>00164                 }
<a name="l00165"></a>00165             }
<a name="l00166"></a>00166             <span class="keywordflow">break</span>;
<a name="l00167"></a>00167         <span class="keywordflow">case</span> <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba2c45e949f7ba6ed95c10beb07aa3f4a8">SummaryLSA_NetworksType</a>:
<a name="l00168"></a>00168         <span class="keywordflow">case</span> <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba44e2dd86881d83d6655cc876460308cd">SummaryLSA_ASBoundaryRoutersType</a>:
<a name="l00169"></a>00169             {
<a name="l00170"></a>00170                 std::map&lt;OSPF::AreaID, OSPF::Area*&gt;::iterator areaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.find(areaID);
<a name="l00171"></a>00171                 <span class="keywordflow">if</span> (areaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5" title="A map of the contained areas with the AreaID as key.">areasByID</a>.end()) {
<a name="l00172"></a>00172                     <a class="code" href="class_o_s_p_f_summary_l_s_a.html">OSPFSummaryLSA</a>* ospfSummaryLSA = check_and_cast&lt;<a class="code" href="class_o_s_p_f_summary_l_s_a.html">OSPFSummaryLSA</a>*&gt; (lsa);
<a name="l00173"></a>00173                     <span class="keywordflow">return</span> areaIt-&gt;second-&gt;InstallSummaryLSA(ospfSummaryLSA);
<a name="l00174"></a>00174                 }
<a name="l00175"></a>00175             }
<a name="l00176"></a>00176             <span class="keywordflow">break</span>;
<a name="l00177"></a>00177         <span class="keywordflow">case</span> <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba4c38291b3c8571803e6cd756f84d0c85">ASExternalLSAType</a>:
<a name="l00178"></a>00178             {
<a name="l00179"></a>00179                 <a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html">OSPFASExternalLSA</a>* ospfASExternalLSA = check_and_cast&lt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html">OSPFASExternalLSA</a>*&gt; (lsa);
<a name="l00180"></a>00180                 <span class="keywordflow">return</span> <a class="code" href="class_o_s_p_f_1_1_router.html#a8615120ec6c21bfd812b533e5532ddcb">InstallASExternalLSA</a>(ospfASExternalLSA);
<a name="l00181"></a>00181             }
<a name="l00182"></a>00182             <span class="keywordflow">break</span>;
<a name="l00183"></a>00183         <span class="keywordflow">default</span>:
<a name="l00184"></a>00184             ASSERT(<span class="keyword">false</span>);
<a name="l00185"></a>00185             <span class="keywordflow">break</span>;
<a name="l00186"></a>00186     }
<a name="l00187"></a>00187     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00188"></a>00188 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ad3bfc2d2a7560d2ba946288aa241725b"></a><!-- doxytag: member="OSPF::Router::IsDestinationUnreachable" ref="ad3bfc2d2a7560d2ba946288aa241725b" args="(OSPFLSA *lsa) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::IsDestinationUnreachable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_l_s_a.html">OSPFLSA</a> *&nbsp;</td>
          <td class="paramname"> <em>lsa</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if the destination described by the input lsa is in the routing table, false otherwise. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lsa</em>&nbsp;</td><td>[in] The LSA which describes the destination to look for. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00609">609</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>, and <a class="el" href="_o_s_p_f_area_8cc_source.html#l00341">OSPF::Area::AgeDatabase()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00610"></a>00610 {
<a name="l00611"></a>00611     <a class="code" href="class_i_p_address.html">IPAddress</a> destination = lsa-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a2f146ccaa3d51bae77fd76f429b52abe">getLinkStateID</a>();
<a name="l00612"></a>00612 
<a name="l00613"></a>00613     <a class="code" href="class_o_s_p_f_router_l_s_a.html">OSPFRouterLSA</a>* routerLSA         = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_s_p_f_router_l_s_a.html">OSPFRouterLSA</a>*<span class="keyword">&gt;</span> (lsa);
<a name="l00614"></a>00614     <a class="code" href="class_o_s_p_f_network_l_s_a.html">OSPFNetworkLSA</a>* networkLSA       = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_s_p_f_network_l_s_a.html">OSPFNetworkLSA</a>*<span class="keyword">&gt;</span> (lsa);
<a name="l00615"></a>00615     <a class="code" href="class_o_s_p_f_summary_l_s_a.html">OSPFSummaryLSA</a>* summaryLSA       = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_s_p_f_summary_l_s_a.html">OSPFSummaryLSA</a>*<span class="keyword">&gt;</span> (lsa);
<a name="l00616"></a>00616     <a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html">OSPFASExternalLSA</a>* asExternalLSA = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html">OSPFASExternalLSA</a>*<span class="keyword">&gt;</span> (lsa);
<a name="l00617"></a>00617     <span class="comment">// TODO: verify</span>
<a name="l00618"></a>00618     <span class="keywordflow">if</span> (routerLSA != NULL) {
<a name="l00619"></a>00619         <a class="code" href="class_o_s_p_f_1_1_routing_info.html">OSPF::RoutingInfo</a>* routingInfo = check_and_cast&lt;<a class="code" href="class_o_s_p_f_1_1_routing_info.html">OSPF::RoutingInfo</a>*&gt; (routerLSA);
<a name="l00620"></a>00620         <span class="keywordflow">if</span> (routerLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a2f146ccaa3d51bae77fd76f429b52abe">getLinkStateID</a>() == <a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a>) { <span class="comment">// this is spfTreeRoot</span>
<a name="l00621"></a>00621             <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00622"></a>00622         }
<a name="l00623"></a>00623 
<a name="l00624"></a>00624         <span class="comment">// get the interface address pointing backwards on the shortest path tree</span>
<a name="l00625"></a>00625         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>     linkCount   = routerLSA-&gt;<a class="code" href="class_o_s_p_f_router_l_s_a.html#a65d69daaf585899cc5b125c057e1eb97">getLinksArraySize</a>();
<a name="l00626"></a>00626         <a class="code" href="class_o_s_p_f_1_1_router_l_s_a.html">OSPF::RouterLSA</a>* toRouterLSA = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_s_p_f_1_1_router_l_s_a.html">OSPF::RouterLSA</a>*<span class="keyword">&gt;</span> (routingInfo-&gt;<a class="code" href="class_o_s_p_f_1_1_routing_info.html#acec4ddb814bd218432c247cf32912f48">GetParent</a>());
<a name="l00627"></a>00627         <span class="keywordflow">if</span> (toRouterLSA != NULL) {
<a name="l00628"></a>00628             <span class="keywordtype">bool</span>      destinationFound           = <span class="keyword">false</span>;
<a name="l00629"></a>00629             <span class="keywordtype">bool</span>      unnumberedPointToPointLink = <span class="keyword">false</span>;
<a name="l00630"></a>00630             <a class="code" href="class_i_p_address.html">IPAddress</a> firstNumberedIfAddress;
<a name="l00631"></a>00631 
<a name="l00632"></a>00632             <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; linkCount; i++) {
<a name="l00633"></a>00633                 <a class="code" href="class_link.html">Link</a>&amp; link = routerLSA-&gt;<a class="code" href="class_o_s_p_f_router_l_s_a.html#a8efa6eb271aaf62a4062a16156819db5">getLinks</a>(i);
<a name="l00634"></a>00634 
<a name="l00635"></a>00635                 <span class="keywordflow">if</span> (link.<a class="code" href="class_link.html#aaa965c3ed01f358c7c328a361db3900c">getType</a>() == <a class="code" href="_o_s_p_f_packet__m_8h.html#a1e09bc05c5df6349a74bd3b9db638a96a6b868c6e3ac26a72f8db4670918ea51f">PointToPointLink</a>) {
<a name="l00636"></a>00636                     <span class="keywordflow">if</span> (link.<a class="code" href="class_link.html#a7a066e39e8525fd0961629a3fa1953af">getLinkID</a>() == toRouterLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a2f146ccaa3d51bae77fd76f429b52abe">getLinkStateID</a>()) {
<a name="l00637"></a>00637                         <span class="keywordflow">if</span> ((link.<a class="code" href="class_link.html#a12a8fd313e13f9bcdd588b1992b0c08a">getLinkData</a>() &amp; 0xFF000000) == 0) {
<a name="l00638"></a>00638                             unnumberedPointToPointLink = <span class="keyword">true</span>;
<a name="l00639"></a>00639                             <span class="keywordflow">if</span> (!firstNumberedIfAddress.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>()) {
<a name="l00640"></a>00640                                 <span class="keywordflow">break</span>;
<a name="l00641"></a>00641                             }
<a name="l00642"></a>00642                         } <span class="keywordflow">else</span> {
<a name="l00643"></a>00643                             destination = link.<a class="code" href="class_link.html#a12a8fd313e13f9bcdd588b1992b0c08a">getLinkData</a>();
<a name="l00644"></a>00644                             destinationFound = <span class="keyword">true</span>;
<a name="l00645"></a>00645                             <span class="keywordflow">break</span>;
<a name="l00646"></a>00646                         }
<a name="l00647"></a>00647                     } <span class="keywordflow">else</span> {
<a name="l00648"></a>00648                         <span class="keywordflow">if</span> (((link.<a class="code" href="class_link.html#a12a8fd313e13f9bcdd588b1992b0c08a">getLinkData</a>() &amp; 0xFF000000) != 0) &amp;&amp;
<a name="l00649"></a>00649                              firstNumberedIfAddress.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>())
<a name="l00650"></a>00650                         {
<a name="l00651"></a>00651                             firstNumberedIfAddress = link.<a class="code" href="class_link.html#a12a8fd313e13f9bcdd588b1992b0c08a">getLinkData</a>();
<a name="l00652"></a>00652                         }
<a name="l00653"></a>00653                     }
<a name="l00654"></a>00654                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (link.<a class="code" href="class_link.html#aaa965c3ed01f358c7c328a361db3900c">getType</a>() == <a class="code" href="_o_s_p_f_packet__m_8h.html#a1e09bc05c5df6349a74bd3b9db638a96ae1bed38cda8bc532537641ad2e2340ce">TransitLink</a>) {
<a name="l00655"></a>00655                     <span class="keywordflow">if</span> (firstNumberedIfAddress.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>()) {
<a name="l00656"></a>00656                         firstNumberedIfAddress = link.<a class="code" href="class_link.html#a12a8fd313e13f9bcdd588b1992b0c08a">getLinkData</a>();
<a name="l00657"></a>00657                     }
<a name="l00658"></a>00658                 } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (link.<a class="code" href="class_link.html#aaa965c3ed01f358c7c328a361db3900c">getType</a>() == <a class="code" href="_o_s_p_f_packet__m_8h.html#a1e09bc05c5df6349a74bd3b9db638a96ad3623491d357b57c8f5c3e8f37e8cb9f">VirtualLink</a>) {
<a name="l00659"></a>00659                     <span class="keywordflow">if</span> (link.<a class="code" href="class_link.html#a7a066e39e8525fd0961629a3fa1953af">getLinkID</a>() == toRouterLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a2f146ccaa3d51bae77fd76f429b52abe">getLinkStateID</a>()) {
<a name="l00660"></a>00660                         destination = link.<a class="code" href="class_link.html#a12a8fd313e13f9bcdd588b1992b0c08a">getLinkData</a>();
<a name="l00661"></a>00661                         destinationFound = <span class="keyword">true</span>;
<a name="l00662"></a>00662                         <span class="keywordflow">break</span>;
<a name="l00663"></a>00663                     } <span class="keywordflow">else</span> {
<a name="l00664"></a>00664                         <span class="keywordflow">if</span> (firstNumberedIfAddress.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>()) {
<a name="l00665"></a>00665                             firstNumberedIfAddress = link.<a class="code" href="class_link.html#a12a8fd313e13f9bcdd588b1992b0c08a">getLinkData</a>();
<a name="l00666"></a>00666                         }
<a name="l00667"></a>00667                     }
<a name="l00668"></a>00668                 }
<a name="l00669"></a>00669                 <span class="comment">// There&apos;s no way to get an interface address for the router from a StubLink</span>
<a name="l00670"></a>00670             }
<a name="l00671"></a>00671             <span class="keywordflow">if</span> (unnumberedPointToPointLink) {
<a name="l00672"></a>00672                 <span class="keywordflow">if</span> (!firstNumberedIfAddress.<a class="code" href="class_i_p_address.html#a7fb3c274d7a8600be890f83c028d5f96">isUnspecified</a>()) {
<a name="l00673"></a>00673                     destination = firstNumberedIfAddress;
<a name="l00674"></a>00674                 } <span class="keywordflow">else</span> {
<a name="l00675"></a>00675                     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00676"></a>00676                 }
<a name="l00677"></a>00677             }
<a name="l00678"></a>00678             <span class="keywordflow">if</span> (!destinationFound) {
<a name="l00679"></a>00679                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00680"></a>00680             }
<a name="l00681"></a>00681         } <span class="keywordflow">else</span> {
<a name="l00682"></a>00682             <a class="code" href="class_o_s_p_f_1_1_network_l_s_a.html">OSPF::NetworkLSA</a>* toNetworkLSA = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="class_o_s_p_f_1_1_network_l_s_a.html">OSPF::NetworkLSA</a>*<span class="keyword">&gt;</span> (routingInfo-&gt;<a class="code" href="class_o_s_p_f_1_1_routing_info.html#acec4ddb814bd218432c247cf32912f48">GetParent</a>());
<a name="l00683"></a>00683             <span class="keywordflow">if</span> (toNetworkLSA != NULL) {
<a name="l00684"></a>00684                 <span class="comment">// get the interface address pointing backwards on the shortest path tree</span>
<a name="l00685"></a>00685                 <span class="keywordtype">bool</span> destinationFound = <span class="keyword">false</span>;
<a name="l00686"></a>00686                 <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; linkCount; i++) {
<a name="l00687"></a>00687                     <a class="code" href="class_link.html">Link</a>&amp; link = routerLSA-&gt;<a class="code" href="class_o_s_p_f_router_l_s_a.html#a8efa6eb271aaf62a4062a16156819db5">getLinks</a>(i);
<a name="l00688"></a>00688 
<a name="l00689"></a>00689                     <span class="keywordflow">if</span> ((link.<a class="code" href="class_link.html#aaa965c3ed01f358c7c328a361db3900c">getType</a>() == <a class="code" href="_o_s_p_f_packet__m_8h.html#a1e09bc05c5df6349a74bd3b9db638a96ae1bed38cda8bc532537641ad2e2340ce">TransitLink</a>) &amp;&amp;
<a name="l00690"></a>00690                         (link.<a class="code" href="class_link.html#a7a066e39e8525fd0961629a3fa1953af">getLinkID</a>() == toNetworkLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a2f146ccaa3d51bae77fd76f429b52abe">getLinkStateID</a>()))
<a name="l00691"></a>00691                     {
<a name="l00692"></a>00692                         destination = link.<a class="code" href="class_link.html#a12a8fd313e13f9bcdd588b1992b0c08a">getLinkData</a>();
<a name="l00693"></a>00693                         destinationFound = <span class="keyword">true</span>;
<a name="l00694"></a>00694                         <span class="keywordflow">break</span>;
<a name="l00695"></a>00695                     }
<a name="l00696"></a>00696                 }
<a name="l00697"></a>00697                 <span class="keywordflow">if</span> (!destinationFound) {
<a name="l00698"></a>00698                     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00699"></a>00699                 }
<a name="l00700"></a>00700             } <span class="keywordflow">else</span> {
<a name="l00701"></a>00701                 <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00702"></a>00702             }
<a name="l00703"></a>00703         }
<a name="l00704"></a>00704     }
<a name="l00705"></a>00705     <span class="keywordflow">if</span> (networkLSA != NULL) {
<a name="l00706"></a>00706         destination = networkLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a2f146ccaa3d51bae77fd76f429b52abe">getLinkStateID</a>() &amp; networkLSA-&gt;<a class="code" href="class_o_s_p_f_network_l_s_a.html#a88c13f00f8123bd371b76be47c87e0c5">getNetworkMask</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>();
<a name="l00707"></a>00707     }
<a name="l00708"></a>00708     <span class="keywordflow">if</span> ((summaryLSA != NULL) &amp;&amp; (summaryLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a5ec5eaa7d91ea4e1447766fe076d7207">getLsType</a>() == <a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba2c45e949f7ba6ed95c10beb07aa3f4a8">SummaryLSA_NetworksType</a>)) {
<a name="l00709"></a>00709         destination = summaryLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a2f146ccaa3d51bae77fd76f429b52abe">getLinkStateID</a>() &amp; summaryLSA-&gt;<a class="code" href="class_o_s_p_f_summary_l_s_a.html#a89d8933ab80c516ff7fe8f6551ddaed1">getNetworkMask</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>();
<a name="l00710"></a>00710     }
<a name="l00711"></a>00711     <span class="keywordflow">if</span> (asExternalLSA != NULL) {
<a name="l00712"></a>00712         destination = asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>().<a class="code" href="class_o_s_p_f_l_s_a_header.html#a2f146ccaa3d51bae77fd76f429b52abe">getLinkStateID</a>() &amp; asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html#a34f5913c38930cb4098b1b5b2ceca1bb">getContents</a>().<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#a0e25297f13bd07dcd4d402fa8fb0724f">getNetworkMask</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>();
<a name="l00713"></a>00713     }
<a name="l00714"></a>00714 
<a name="l00715"></a>00715     <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#ac6f97cebf080df401b616411acd54090">Lookup</a>(destination) == NULL) {
<a name="l00716"></a>00716         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00717"></a>00717     } <span class="keywordflow">else</span> {
<a name="l00718"></a>00718         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00719"></a>00719     }
<a name="l00720"></a>00720 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a1e457a90074dfce50e04ba85571ccff6"></a><!-- doxytag: member="OSPF::Router::IsLocalAddress" ref="a1e457a90074dfce50e04ba85571ccff6" args="(IPv4Address address) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::IsLocalAddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_i_pv4_address.html">OSPF::IPv4Address</a>&nbsp;</td>
          <td class="paramname"> <em>address</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if the input <a class="el" href="class_i_p.html">IP</a> address falls into any of the Router's Areas' configured <a class="el" href="class_i_p.html">IP</a> address ranges, false otherwise. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>address</em>&nbsp;</td><td>[in] The <a class="el" href="class_i_p.html">IP</a> address to look for. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00554">554</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_link_state_update_handler_8cc_source.html#l00043">OSPF::LinkStateUpdateHandler::ProcessPacket()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00555"></a>00555 {
<a name="l00556"></a>00556     <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00557"></a>00557     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l00558"></a>00558         <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;<a class="code" href="class_o_s_p_f_1_1_router.html#a1e457a90074dfce50e04ba85571ccff6">IsLocalAddress</a>(address)) {
<a name="l00559"></a>00559             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00560"></a>00560         }
<a name="l00561"></a>00561     }
<a name="l00562"></a>00562     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00563"></a>00563 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aae605eb327107bfecd3b8f2307f788f4"></a><!-- doxytag: member="OSPF::Router::IsOnAnyRetransmissionList" ref="aae605eb327107bfecd3b8f2307f788f4" args="(LSAKeyType lsaKey) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool OSPF::Router::IsOnAnyRetransmissionList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">OSPF::LSAKeyType</a>&nbsp;</td>
          <td class="paramname"> <em>lsaKey</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns true if there's at least one LSA on any Neighbor's retransmission list identified by the input lsaKey, false otherwise. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lsaKey</em>&nbsp;</td><td>[in] Identifies the LSAs to look for on the retransmission lists. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00502">502</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00503"></a>00503 {
<a name="l00504"></a>00504     <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00505"></a>00505     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l00506"></a>00506         <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;<a class="code" href="class_o_s_p_f_1_1_router.html#aae605eb327107bfecd3b8f2307f788f4">IsOnAnyRetransmissionList</a>(lsaKey)) {
<a name="l00507"></a>00507             <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00508"></a>00508         }
<a name="l00509"></a>00509     }
<a name="l00510"></a>00510     <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00511"></a>00511 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac6f97cebf080df401b616411acd54090"></a><!-- doxytag: member="OSPF::Router::Lookup" ref="ac6f97cebf080df401b616411acd54090" args="(IPAddress destination, std::vector&lt; RoutingTableEntry * &gt; *table=NULL) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a>* OSPF::Router::Lookup </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_i_p_address.html">IPAddress</a>&nbsp;</td>
          <td class="paramname"> <em>destination</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; *&nbsp;</td>
          <td class="paramname"> <em>table</em> = <code>NULL</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00609">IsDestinationUnreachable()</a>.</p>

</div>
</div>
<a class="anchor" id="a57df70b2d8008b2ea1827e06ab750500"></a><!-- doxytag: member="OSPF::Router::NotifyAboutRoutingTableChanges" ref="a57df70b2d8008b2ea1827e06ab750500" args="(std::vector&lt; RoutingTableEntry * &gt; &amp;oldRoutingTable)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::NotifyAboutRoutingTableChanges </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>oldRoutingTable</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00820">RebuildRoutingTable()</a>.</p>

</div>
</div>
<a class="anchor" id="adf337b0a712b070d288f208ea5cd591a"></a><!-- doxytag: member="OSPF::Router::OriginateASExternalLSA" ref="adf337b0a712b070d288f208ea5cd591a" args="(ASExternalLSA *lsa)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a> * OSPF::Router::OriginateASExternalLSA </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a> *&nbsp;</td>
          <td class="paramname"> <em>lsa</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Originates a new AS External LSA based on the input lsa. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lsa</em>&nbsp;</td><td>[in] The LSA whose contents should be copied into the newly originated LSA. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The newly originated LSA. </dd></dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00588">588</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00589"></a>00589 {
<a name="l00590"></a>00590     <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>* asExternalLSA = <span class="keyword">new</span> <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>(*lsa);
<a name="l00591"></a>00591     <a class="code" href="class_o_s_p_f_l_s_a_header.html">OSPFLSAHeader</a>&amp; lsaHeader = asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>();
<a name="l00592"></a>00592     <a class="code" href="struct_o_s_p_f_options.html">OSPFOptions</a>    lsaOptions;
<a name="l00593"></a>00593 
<a name="l00594"></a>00594     lsaHeader.<a class="code" href="class_o_s_p_f_l_s_a_header.html#ae9da0df1ade356d3da9daaf68aa77c0d">setLsAge</a>(0);
<a name="l00595"></a>00595     memset(&amp;lsaOptions, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_o_s_p_f_options.html">OSPFOptions</a>));
<a name="l00596"></a>00596     lsaOptions.<a class="code" href="struct_o_s_p_f_options.html#ae52711a2db18ba8c2c34ffbb9ac162e9">E_ExternalRoutingCapability</a> = <span class="keyword">true</span>;
<a name="l00597"></a>00597     lsaHeader.<a class="code" href="class_o_s_p_f_l_s_a_header.html#ab538deb05028f4795117cbc985807184">setLsOptions</a>(lsaOptions);
<a name="l00598"></a>00598     lsaHeader.<a class="code" href="class_o_s_p_f_l_s_a_header.html#a91209faeabf5287af7e5a9c8735e4cf7">setLsSequenceNumber</a>(<a class="code" href="_o_s_p_fcommon_8h.html#ad441394da087bc61e24a5b99455c5589">INITIAL_SEQUENCE_NUMBER</a>);
<a name="l00599"></a>00599     asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_1_1_l_s_a_tracking_info.html#ae129816a5603d664d66883b4bffb0e63">SetSource</a>(<a class="code" href="class_o_s_p_f_1_1_l_s_a_tracking_info.html#a25c15e523b3de9f3a023fbf0f6acbcfcac3c865818131fa4d69cdf5281934f10e">OSPF::LSATrackingInfo::Originated</a>);
<a name="l00600"></a>00600 
<a name="l00601"></a>00601     <span class="keywordflow">return</span> asExternalLSA;
<a name="l00602"></a>00602 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aa28b138458a39381a75d969e82dbfde0"></a><!-- doxytag: member="OSPF::Router::PruneASBoundaryRouterEntries" ref="aa28b138458a39381a75d969e82dbfde0" args="(std::vector&lt; RoutingTableEntry * &gt; &amp;asbrEntries) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::PruneASBoundaryRouterEntries </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>asbrEntries</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a184025a0ac2c61dc9c580b2321a9c9a1"></a><!-- doxytag: member="OSPF::Router::RebuildRoutingTable" ref="a184025a0ac2c61dc9c580b2321a9c9a1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::RebuildRoutingTable </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Rebuilds the routing table from scratch(based on the LSA database). </p>
<dl class="see"><dt><b>See also:</b></dt><dd>RFC2328 Section 16. </dd></dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00820">820</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>, <a class="el" href="_o_s_p_f_area_8cc_source.html#l00341">OSPF::Area::AgeDatabase()</a>, <a class="el" href="_o_s_p_f_neighbor_state_8cc_source.html#l00023">OSPF::NeighborState::ChangeState()</a>, <a class="el" href="_o_s_p_f_interface_state_8cc_source.html#l00027">OSPF::InterfaceState::ChangeState()</a>, <a class="el" href="_link_state_update_handler_8cc_source.html#l00043">OSPF::LinkStateUpdateHandler::ProcessPacket()</a>, <a class="el" href="_hello_handler_8cc_source.html#l00030">OSPF::HelloHandler::ProcessPacket()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l01532">UpdateExternalRoute()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00821"></a>00821 {
<a name="l00822"></a>00822     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>                         areaCount       = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00823"></a>00823     <span class="keywordtype">bool</span>                                  hasTransitAreas = <span class="keyword">false</span>;
<a name="l00824"></a>00824     std::vector&lt;OSPF::RoutingTableEntry*&gt; newTable;
<a name="l00825"></a>00825     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>                         i;
<a name="l00826"></a>00826 
<a name="l00827"></a>00827     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Rebuilding routing table:\n&quot;</span>;
<a name="l00828"></a>00828 
<a name="l00829"></a>00829     <span class="keywordflow">for</span> (i = 0; i &lt; areaCount; i++) {
<a name="l00830"></a>00830         <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;CalculateShortestPathTree(newTable);
<a name="l00831"></a>00831         <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;GetTransitCapability()) {
<a name="l00832"></a>00832             hasTransitAreas = <span class="keyword">true</span>;
<a name="l00833"></a>00833         }
<a name="l00834"></a>00834     }
<a name="l00835"></a>00835     <span class="keywordflow">if</span> (areaCount &gt; 1) {
<a name="l00836"></a>00836         <a class="code" href="class_o_s_p_f_1_1_area.html">OSPF::Area</a>* backbone = <a class="code" href="class_o_s_p_f_1_1_router.html#af1593be786d4bdd63bb6805d5bdefb50">GetArea</a>(<a class="code" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">OSPF::BackboneAreaID</a>);
<a name="l00837"></a>00837         <span class="keywordflow">if</span> (backbone != NULL) {
<a name="l00838"></a>00838             backbone-&gt;<a class="code" href="class_o_s_p_f_1_1_area.html#a943ee3f25aa5db9b909d762fe4ad7434">CalculateInterAreaRoutes</a>(newTable);
<a name="l00839"></a>00839         }
<a name="l00840"></a>00840     } <span class="keywordflow">else</span> {
<a name="l00841"></a>00841         <span class="keywordflow">if</span> (areaCount == 1) {
<a name="l00842"></a>00842             <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[0]-&gt;CalculateInterAreaRoutes(newTable);
<a name="l00843"></a>00843         }
<a name="l00844"></a>00844     }
<a name="l00845"></a>00845     <span class="keywordflow">if</span> (hasTransitAreas) {
<a name="l00846"></a>00846         <span class="keywordflow">for</span> (i = 0; i &lt; areaCount; i++) {
<a name="l00847"></a>00847             <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;GetTransitCapability()) {
<a name="l00848"></a>00848                 <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;ReCheckSummaryLSAs(newTable);
<a name="l00849"></a>00849             }
<a name="l00850"></a>00850         }
<a name="l00851"></a>00851     }
<a name="l00852"></a>00852     <a class="code" href="class_o_s_p_f_1_1_router.html#a3949265e72dab00a009aaa0758cd2623">CalculateASExternalRoutes</a>(newTable);
<a name="l00853"></a>00853 
<a name="l00854"></a>00854     <span class="comment">// backup the routing table</span>
<a name="l00855"></a>00855     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>                         routeCount = <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.size();
<a name="l00856"></a>00856     std::vector&lt;OSPF::RoutingTableEntry*&gt; oldTable;
<a name="l00857"></a>00857 
<a name="l00858"></a>00858     oldTable.assign(<a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.begin(), <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.end());
<a name="l00859"></a>00859     <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.clear();
<a name="l00860"></a>00860     <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.assign(newTable.begin(), newTable.end());
<a name="l00861"></a>00861 
<a name="l00862"></a>00862     <a class="code" href="class_routing_table_access.html">RoutingTableAccess</a>         routingTableAccess;
<a name="l00863"></a>00863     std::vector&lt;const IPRoute*&gt; eraseEntries;
<a name="l00864"></a>00864     <a class="code" href="class_i_routing_table.html">IRoutingTable</a>*              simRoutingTable    = routingTableAccess.<a class="code" href="class_module_access.html#a44956ddb52973612afbba0eeecf8bb66">get</a>();
<a name="l00865"></a>00865     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>              routingEntryNumber = simRoutingTable-&gt;<a class="code" href="class_i_routing_table.html#ada2fac98d1d1c80c291be239b075c63b">getNumRoutes</a>();
<a name="l00866"></a>00866     <span class="comment">// remove entries from the IP routing table inserted by the OSPF module</span>
<a name="l00867"></a>00867     <span class="keywordflow">for</span> (i = 0; i &lt; routingEntryNumber; i++) {
<a name="l00868"></a>00868         <span class="keyword">const</span> <a class="code" href="class_i_p_route.html">IPRoute</a> *entry = simRoutingTable-&gt;<a class="code" href="class_i_routing_table.html#a89f3eb433e309043cde517238eef5214">getRoute</a>(i);
<a name="l00869"></a>00869         <span class="keyword">const</span> <a class="code" href="class_o_s_p_f_1_1_routing_table_entry.html">OSPF::RoutingTableEntry</a>* ospfEntry = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span><a class="code" href="class_o_s_p_f_1_1_routing_table_entry.html">OSPF::RoutingTableEntry</a>*<span class="keyword">&gt;</span>(entry);
<a name="l00870"></a>00870         <span class="keywordflow">if</span> (ospfEntry != NULL) {
<a name="l00871"></a>00871             eraseEntries.push_back(entry);
<a name="l00872"></a>00872         }
<a name="l00873"></a>00873     }
<a name="l00874"></a>00874 
<a name="l00875"></a>00875     <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> eraseCount = eraseEntries.size();
<a name="l00876"></a>00876     <span class="keywordflow">for</span> (i = 0; i &lt; eraseCount; i++) {
<a name="l00877"></a>00877         simRoutingTable-&gt;<a class="code" href="class_i_routing_table.html#adc051b6287f397968f83aff251794cc8">deleteRoute</a>(eraseEntries[i]);
<a name="l00878"></a>00878     }
<a name="l00879"></a>00879 
<a name="l00880"></a>00880     <span class="comment">// add the new routing entries</span>
<a name="l00881"></a>00881     routeCount = <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.size();
<a name="l00882"></a>00882     <span class="keywordflow">for</span> (i = 0; i &lt; routeCount; i++) {
<a name="l00883"></a>00883         <span class="keywordflow">if</span> (<a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>[i]-&gt;GetDestinationType() == <a class="code" href="class_o_s_p_f_1_1_routing_table_entry.html#aaf930613a21a30bef97cab3284d0648f">OSPF::RoutingTableEntry::NetworkDestination</a>) {
<a name="l00884"></a>00884             simRoutingTable-&gt;<a class="code" href="class_i_routing_table.html#af423d065165da4a55e86385efe1f69d1">addRoute</a>(<span class="keyword">new</span> <a class="code" href="class_o_s_p_f_1_1_routing_table_entry.html">OSPF::RoutingTableEntry</a>(*(<a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>[i])));
<a name="l00885"></a>00885         }
<a name="l00886"></a>00886     }
<a name="l00887"></a>00887 
<a name="l00888"></a>00888     <a class="code" href="class_o_s_p_f_1_1_router.html#a57df70b2d8008b2ea1827e06ab750500">NotifyAboutRoutingTableChanges</a>(oldTable);
<a name="l00889"></a>00889 
<a name="l00890"></a>00890     routeCount = oldTable.size();
<a name="l00891"></a>00891     <span class="keywordflow">for</span> (i = 0; i &lt; routeCount; i++) {
<a name="l00892"></a>00892         <span class="keyword">delete</span>(oldTable[i]);
<a name="l00893"></a>00893     }
<a name="l00894"></a>00894 
<a name="l00895"></a>00895     <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; <span class="stringliteral">&quot;Routing table was rebuilt.\n&quot;</span>
<a name="l00896"></a>00896        &lt;&lt; <span class="stringliteral">&quot;Results:\n&quot;</span>;
<a name="l00897"></a>00897 
<a name="l00898"></a>00898     routeCount = <a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>.size();
<a name="l00899"></a>00899     <span class="keywordflow">for</span> (i = 0; i &lt; routeCount; i++) {
<a name="l00900"></a>00900         <a class="code" href="_basic_module_8h.html#a650ef3eff8a2900bef69dae29c05d2dd">EV</a> &lt;&lt; *<a class="code" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090" title="The OSPF routing table - contains more information than the one in the IP layer.">routingTable</a>[i]
<a name="l00901"></a>00901            &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;
<a name="l00902"></a>00902     }
<a name="l00903"></a>00903 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a5ec34d1a9d49f94ddd6c2552c1f100a6"></a><!-- doxytag: member="OSPF::Router::RemoveExternalRoute" ref="a5ec34d1a9d49f94ddd6c2552c1f100a6" args="(IPv4Address networkAddress)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::RemoveExternalRoute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_i_pv4_address.html">OSPF::IPv4Address</a>&nbsp;</td>
          <td class="paramname"> <em>networkAddress</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes an AS External Route from the database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>networkAddress</em>&nbsp;</td><td>[in] The network address of the external route which needs to be removed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l01594">1594</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01595"></a>01595 {
<a name="l01596"></a>01596     <a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">OSPF::LSAKeyType</a>     lsaKey;
<a name="l01597"></a>01597 
<a name="l01598"></a>01598     lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a3a05e7e193451f3979803d5e93362ead">linkStateID</a> = <a class="code" href="_o_s_p_fcommon_8h.html#a4da9e68bb3ffcba090d1b07a5f812ce3">ULongFromIPv4Address</a>(networkAddress);
<a name="l01599"></a>01599     lsaKey.<a class="code" href="struct_o_s_p_f_1_1_l_s_a_key_type.html#a583e0f1cf5e052a08dc21dbcd405e8b6">advertisingRouter</a> = <a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a>;
<a name="l01600"></a>01600 
<a name="l01601"></a>01601     std::map&lt;OSPF::LSAKeyType, OSPF::ASExternalLSA*, OSPF::LSAKeyType_Less&gt;::iterator lsaIt = <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.find(lsaKey);
<a name="l01602"></a>01602     <span class="keywordflow">if</span> (lsaIt != <a class="code" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2" title="A map of the ASExternalLSAs advertised by this router.">asExternalLSAsByID</a>.end()) {
<a name="l01603"></a>01603         lsaIt-&gt;second-&gt;getHeader().setLsAge(<a class="code" href="_o_s_p_fcommon_8h.html#a22c87c874ff5382c5d082b860110e363">MAX_AGE</a>);
<a name="l01604"></a>01604         lsaIt-&gt;second-&gt;SetPurgeable();
<a name="l01605"></a>01605         <a class="code" href="class_o_s_p_f_1_1_router.html#a2cfb1ebf041766dadf2fcd6e1fdebe27">FloodLSA</a>(lsaIt-&gt;second, <a class="code" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">OSPF::BackboneAreaID</a>);
<a name="l01606"></a>01606     }
<a name="l01607"></a>01607 
<a name="l01608"></a>01608     std::map&lt;OSPF::IPv4Address, OSPFASExternalLSAContents, OSPF::IPv4Address_Less&gt;::iterator externalIt = <a class="code" href="class_o_s_p_f_1_1_router.html#a2fa24502500b746a3056832733228a65" title="A map of the external route advertised by this router.">externalRoutes</a>.find(networkAddress);
<a name="l01609"></a>01609     <span class="keywordflow">if</span> (externalIt != <a class="code" href="class_o_s_p_f_1_1_router.html#a2fa24502500b746a3056832733228a65" title="A map of the external route advertised by this router.">externalRoutes</a>.end()) {
<a name="l01610"></a>01610         <a class="code" href="class_o_s_p_f_1_1_router.html#a2fa24502500b746a3056832733228a65" title="A map of the external route advertised by this router.">externalRoutes</a>.erase(externalIt);
<a name="l01611"></a>01611     }
<a name="l01612"></a>01612 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="ac754f8ed7d454fc7bfe53ac877eebe53"></a><!-- doxytag: member="OSPF::Router::RemoveFromAllRetransmissionLists" ref="ac754f8ed7d454fc7bfe53ac877eebe53" args="(LSAKeyType lsaKey)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::RemoveFromAllRetransmissionLists </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">OSPF::LSAKeyType</a>&nbsp;</td>
          <td class="paramname"> <em>lsaKey</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Removes all LSAs from all Neighbor's retransmission lists which are identified by the input lsaKey. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lsaKey</em>&nbsp;</td><td>[in] Identifies the LSAs to remove from the retransmission lists. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l00488">488</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_link_state_update_handler_8cc_source.html#l00043">OSPF::LinkStateUpdateHandler::ProcessPacket()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00489"></a>00489 {
<a name="l00490"></a>00490     <span class="keywordtype">long</span> areaCount = <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>.size();
<a name="l00491"></a>00491     <span class="keywordflow">for</span> (<span class="keywordtype">long</span> i = 0; i &lt; areaCount; i++) {
<a name="l00492"></a>00492         <a class="code" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8" title="A list of the contained areas.">areas</a>[i]-&gt;RemoveFromAllRetransmissionLists(lsaKey);
<a name="l00493"></a>00493     }
<a name="l00494"></a>00494 }
</pre></div></p>

</div>
</div>
<a class="anchor" id="a173315c49c051dfedef06a432071d358"></a><!-- doxytag: member="OSPF::Router::SelectLeastCostRoutingEntry" ref="a173315c49c051dfedef06a432071d358" args="(std::vector&lt; RoutingTableEntry * &gt; &amp;entries) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a>* OSPF::Router::SelectLeastCostRoutingEntry </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a> * &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>entries</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="ae27ea511ced12487b158e87d4582ea21"></a><!-- doxytag: member="OSPF::Router::SetRFC1583Compatibility" ref="ae27ea511ced12487b158e87d4582ea21" args="(bool compatibility)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::SetRFC1583Compatibility </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>compatibility</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00056">56</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_routing_8cc_source.html#l00464">OSPFRouting::LoadConfigFromXML()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00056"></a>00056 { <a class="code" href="class_o_s_p_f_1_1_router.html#a10f71a71f20baa02d35f94d602758357" title="Decides whether to handle the preferred routing table entry to an AS boundary router...">rfc1583Compatibility</a> = compatibility; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="acc3ff0effb2c8b74440b479b201880df"></a><!-- doxytag: member="OSPF::Router::SetRouterID" ref="acc3ff0effb2c8b74440b479b201880df" args="(RouterID id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::SetRouterID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">RouterID</a>&nbsp;</td>
          <td class="paramname"> <em>id</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00054">54</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l00054"></a>00054 { <a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a> = id; }
</pre></div></p>

</div>
</div>
<a class="anchor" id="aed64d2915aba911a976c06f053ecf19f"></a><!-- doxytag: member="OSPF::Router::UpdateExternalRoute" ref="aed64d2915aba911a976c06f053ecf19f" args="(IPv4Address networkAddress, const OSPFASExternalLSAContents &amp;externalRouteContents, int ifIndex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSPF::Router::UpdateExternalRoute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_o_s_p_f_1_1_i_pv4_address.html">OSPF::IPv4Address</a>&nbsp;</td>
          <td class="paramname"> <em>networkAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_o_s_p_f_a_s_external_l_s_a_contents.html">OSPFASExternalLSAContents</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>externalRouteContents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ifIndex</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stores information on an AS External Route in externalRoutes and intalls(or updates) a new <a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a> into the database. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>networkAddress</em>&nbsp;</td><td>[in] The external route's network address. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>externalRouteContents</em>&nbsp;</td><td>[in] Route configuration data for the external route. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ifIndex</em>&nbsp;</td><td>[in] </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8cc_source.html#l01532">1532</a> of file <a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_routing_8cc_source.html#l00294">OSPFRouting::LoadExternalRoute()</a>.</p>

<p><div class="fragment"><pre class="fragment"><a name="l01533"></a>01533 {
<a name="l01534"></a>01534     <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>* asExternalLSA = <span class="keyword">new</span> <a class="code" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">OSPF::ASExternalLSA</a>;
<a name="l01535"></a>01535     <a class="code" href="class_o_s_p_f_l_s_a_header.html">OSPFLSAHeader</a>&amp;       lsaHeader     = asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_l_s_a.html#a2c9acdc68e5e66deb1826ee41a07b7d1">getHeader</a>();
<a name="l01536"></a>01536     <a class="code" href="struct_o_s_p_f_options.html">OSPFOptions</a>          lsaOptions;
<a name="l01537"></a>01537     <span class="comment">//OSPF::LSAKeyType     lsaKey;</span>
<a name="l01538"></a>01538 
<a name="l01539"></a>01539     <a class="code" href="class_i_routing_table.html">IRoutingTable</a>*      simRoutingTable    = <a class="code" href="class_routing_table_access.html">RoutingTableAccess</a>().get();
<a name="l01540"></a>01540     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>      routingEntryNumber = simRoutingTable-&gt;<a class="code" href="class_i_routing_table.html#ada2fac98d1d1c80c291be239b075c63b">getNumRoutes</a>();
<a name="l01541"></a>01541     <span class="keywordtype">bool</span>               inRoutingTable     = <span class="keyword">false</span>;
<a name="l01542"></a>01542     <span class="comment">// add the external route to the routing table if it was not added by another module</span>
<a name="l01543"></a>01543     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> i = 0; i &lt; routingEntryNumber; i++) {
<a name="l01544"></a>01544         <span class="keyword">const</span> <a class="code" href="class_i_p_route.html">IPRoute</a> *entry = simRoutingTable-&gt;<a class="code" href="class_i_routing_table.html#a89f3eb433e309043cde517238eef5214">getRoute</a>(i);
<a name="l01545"></a>01545         <span class="keywordflow">if</span> ((entry-&gt;<a class="code" href="class_i_p_route.html#a07adcdcc04cb4d50f12f060c7206b73e">getHost</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>() &amp; entry-&gt;<a class="code" href="class_i_p_route.html#ad69bc8024a13bf6ec528e9afdf1aa7e1">getNetmask</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>()) ==
<a name="l01546"></a>01546             (<a class="code" href="_o_s_p_fcommon_8h.html#a4da9e68bb3ffcba090d1b07a5f812ce3">ULongFromIPv4Address</a>(networkAddress) &amp; externalRouteContents.<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#a0e25297f13bd07dcd4d402fa8fb0724f">getNetworkMask</a>().<a class="code" href="class_i_p_address.html#a807ca46964a8403cf0c70f0772179524">getInt</a>()))
<a name="l01547"></a>01547         {
<a name="l01548"></a>01548             inRoutingTable = <span class="keyword">true</span>;
<a name="l01549"></a>01549         }
<a name="l01550"></a>01550     }
<a name="l01551"></a>01551     <span class="keywordflow">if</span> (!inRoutingTable) {
<a name="l01552"></a>01552         <a class="code" href="class_i_p_route.html">IPRoute</a>* entry = <span class="keyword">new</span> <a class="code" href="class_i_p_route.html">IPRoute</a>;
<a name="l01553"></a>01553         entry-&gt;<a class="code" href="class_i_p_route.html#af706d909f82600db0ff2191540131b91">setHost</a>(<a class="code" href="_o_s_p_fcommon_8h.html#a4da9e68bb3ffcba090d1b07a5f812ce3">ULongFromIPv4Address</a>(networkAddress));
<a name="l01554"></a>01554         entry-&gt;<a class="code" href="class_i_p_route.html#a8fd0ecc3020120431bae84d2eae7cc6a">setNetmask</a>(externalRouteContents.<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#a0e25297f13bd07dcd4d402fa8fb0724f">getNetworkMask</a>());
<a name="l01555"></a>01555         entry-&gt;<a class="code" href="class_i_p_route.html#a5111618dad4786d4fda4f770aacc5e41">setInterface</a>(<a class="code" href="class_interface_table_access.html">InterfaceTableAccess</a>().<span class="keyword">get</span>()-&gt;getInterfaceById(ifIndex));
<a name="l01556"></a>01556         entry-&gt;<a class="code" href="class_i_p_route.html#a545b92b4bd15e1dad59afba65344c6f1">setType</a>(<a class="code" href="class_i_p_route.html#affdd22b24049e9d8d991b955a973d32ea7e558ac291a7e5173702d655d80e627c" title="Reached through another router.">IPRoute::REMOTE</a>);
<a name="l01557"></a>01557         entry-&gt;<a class="code" href="class_i_p_route.html#a9e1a72084dc1acc1b429bbd8c4e72a32">setSource</a>(<a class="code" href="class_i_p_route.html#a8b19adf2d204de05cc8fdee67a270bc6a504efea5aa79d898637d8be7a2c495ee" title="manually added static route">IPRoute::MANUAL</a>);
<a name="l01558"></a>01558         entry-&gt;<a class="code" href="class_i_p_route.html#ae0d4294f3ad0d91b283f5da2b183335f">setMetric</a>(externalRouteContents.<a class="code" href="class_o_s_p_f_a_s_external_l_s_a_contents.html#a9158b3adccf5864d8806813976f44b38">getRouteCost</a>());
<a name="l01559"></a>01559         simRoutingTable-&gt;<a class="code" href="class_i_routing_table.html#af423d065165da4a55e86385efe1f69d1">addRoute</a>(entry);   <span class="comment">// IRoutingTable deletes entry pointer</span>
<a name="l01560"></a>01560     }
<a name="l01561"></a>01561 
<a name="l01562"></a>01562     lsaHeader.<a class="code" href="class_o_s_p_f_l_s_a_header.html#ae9da0df1ade356d3da9daaf68aa77c0d">setLsAge</a>(0);
<a name="l01563"></a>01563     memset(&amp;lsaOptions, 0, <span class="keyword">sizeof</span>(<a class="code" href="struct_o_s_p_f_options.html">OSPFOptions</a>));
<a name="l01564"></a>01564     lsaOptions.<a class="code" href="struct_o_s_p_f_options.html#ae52711a2db18ba8c2c34ffbb9ac162e9">E_ExternalRoutingCapability</a> = <span class="keyword">true</span>;
<a name="l01565"></a>01565     lsaHeader.<a class="code" href="class_o_s_p_f_l_s_a_header.html#ab538deb05028f4795117cbc985807184">setLsOptions</a>(lsaOptions);
<a name="l01566"></a>01566     lsaHeader.<a class="code" href="class_o_s_p_f_l_s_a_header.html#a7777cb731176278d6cc4560585ee12cc">setLsType</a>(<a class="code" href="_o_s_p_f_packet__m_8h.html#a13a450dbb578c4bd7714af8581c4f89ba4c38291b3c8571803e6cd756f84d0c85">ASExternalLSAType</a>);
<a name="l01567"></a>01567     lsaHeader.<a class="code" href="class_o_s_p_f_l_s_a_header.html#a8d1dbb5243500d65e581b054e9f677a5">setLinkStateID</a>(<a class="code" href="_o_s_p_fcommon_8h.html#a4da9e68bb3ffcba090d1b07a5f812ce3">ULongFromIPv4Address</a>(networkAddress));   <span class="comment">// TODO: get unique LinkStateID</span>
<a name="l01568"></a>01568     lsaHeader.<a class="code" href="class_o_s_p_f_l_s_a_header.html#a4de46ac0ce652fea0032f20e32afb1df">setAdvertisingRouter</a>(<a class="code" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9" title="The router ID assigned by the IP layer.">routerID</a>);
<a name="l01569"></a>01569     lsaHeader.<a class="code" href="class_o_s_p_f_l_s_a_header.html#a91209faeabf5287af7e5a9c8735e4cf7">setLsSequenceNumber</a>(<a class="code" href="_o_s_p_fcommon_8h.html#ad441394da087bc61e24a5b99455c5589">INITIAL_SEQUENCE_NUMBER</a>);
<a name="l01570"></a>01570 
<a name="l01571"></a>01571     asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_a_s_external_l_s_a.html#a21df5717f0c72befeabc7425233de663">setContents</a>(externalRouteContents);
<a name="l01572"></a>01572 
<a name="l01573"></a>01573     lsaHeader.<a class="code" href="class_o_s_p_f_l_s_a_header.html#a1e71120701358465cc8f5b598f74760f">setLsChecksum</a>(0);    <span class="comment">// TODO: calculate correct LS checksum</span>
<a name="l01574"></a>01574 
<a name="l01575"></a>01575     asExternalLSA-&gt;<a class="code" href="class_o_s_p_f_1_1_l_s_a_tracking_info.html#ae129816a5603d664d66883b4bffb0e63">SetSource</a>(<a class="code" href="class_o_s_p_f_1_1_l_s_a_tracking_info.html#a25c15e523b3de9f3a023fbf0f6acbcfcac3c865818131fa4d69cdf5281934f10e">OSPF::LSATrackingInfo::Originated</a>);
<a name="l01576"></a>01576 
<a name="l01577"></a>01577     <a class="code" href="class_o_s_p_f_1_1_router.html#a2fa24502500b746a3056832733228a65" title="A map of the external route advertised by this router.">externalRoutes</a>[networkAddress] = externalRouteContents;
<a name="l01578"></a>01578 
<a name="l01579"></a>01579     <span class="keywordtype">bool</span> rebuild = <a class="code" href="class_o_s_p_f_1_1_router.html#a8615120ec6c21bfd812b533e5532ddcb">InstallASExternalLSA</a>(asExternalLSA);
<a name="l01580"></a>01580     <a class="code" href="class_o_s_p_f_1_1_router.html#a2cfb1ebf041766dadf2fcd6e1fdebe27">FloodLSA</a>(asExternalLSA, <a class="code" href="namespace_o_s_p_f.html#adb591659bd229b640cdc32ebaef95222">OSPF::BackboneAreaID</a>);
<a name="l01581"></a>01581     <span class="keyword">delete</span> asExternalLSA;
<a name="l01582"></a>01582 
<a name="l01583"></a>01583     <span class="keywordflow">if</span> (rebuild) {
<a name="l01584"></a>01584         <a class="code" href="class_o_s_p_f_1_1_router.html#a184025a0ac2c61dc9c580b2321a9c9a1">RebuildRoutingTable</a>();
<a name="l01585"></a>01585     }
<a name="l01586"></a>01586 }
</pre></div></p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="acafd411e92c5c3bc952daadbc0d53cf5"></a><!-- doxytag: member="OSPF::Router::ageTimer" ref="acafd411e92c5c3bc952daadbc0d53cf5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_timer.html">OSPFTimer</a>* <a class="el" href="class_o_s_p_f_1_1_router.html#acafd411e92c5c3bc952daadbc0d53cf5">OSPF::Router::ageTimer</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Database age timer - fires every second. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00045">45</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00025">Router()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l00042">~Router()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ce9c0ecf94cbc5872c346750e4de6b8"></a><!-- doxytag: member="OSPF::Router::areas" ref="a5ce9c0ecf94cbc5872c346750e4de6b8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_o_s_p_f_1_1_area.html">Area</a>*&gt; <a class="el" href="class_o_s_p_f_1_1_router.html#a5ce9c0ecf94cbc5872c346750e4de6b8">OSPF::Router::areas</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A list of the contained areas. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00041">41</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00077">AddArea()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00065">AddWatches()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00523">FloodLSA()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00108">GetArea()</a>, <a class="el" href="_o_s_p_f_router_8h_source.html#l00058">GetAreaCount()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l01231">GetContainingAddressRange()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00125">GetNonVirtualInterface()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00571">HasAddressRange()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00471">HasAnyNeighborInStates()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00198">InstallASExternalLSA()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00554">IsLocalAddress()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00502">IsOnAnyRetransmissionList()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00820">RebuildRoutingTable()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00488">RemoveFromAllRetransmissionLists()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l00042">~Router()</a>.</p>

</div>
</div>
<a class="anchor" id="ab2c936939863bd82c6628c794e6409e5"></a><!-- doxytag: member="OSPF::Router::areasByID" ref="ab2c936939863bd82c6628c794e6409e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="namespace_o_s_p_f.html#a8d10c460f2da4aae5dd61d2a082dfc56">AreaID</a>, <a class="el" href="class_o_s_p_f_1_1_area.html">Area</a>*&gt; <a class="el" href="class_o_s_p_f_1_1_router.html#ab2c936939863bd82c6628c794e6409e5">OSPF::Router::areasByID</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A map of the contained areas with the AreaID as key. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00040">40</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00077">AddArea()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00283">FindLSA()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00523">FloodLSA()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00091">GetArea()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l00146">InstallLSA()</a>.</p>

</div>
</div>
<a class="anchor" id="a20e18099b999ef4fd3eebca715173f36"></a><!-- doxytag: member="OSPF::Router::asExternalLSAs" ref="a20e18099b999ef4fd3eebca715173f36" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a>*&gt; <a class="el" href="class_o_s_p_f_1_1_router.html#a20e18099b999ef4fd3eebca715173f36">OSPF::Router::asExternalLSAs</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A list of the ASExternalLSAs advertised by this router. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00043">43</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00065">AddWatches()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>, <a class="el" href="_o_s_p_f_router_8h_source.html#l00063">GetASExternalLSA()</a>, <a class="el" href="_o_s_p_f_router_8h_source.html#l00062">GetASExternalLSACount()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00198">InstallASExternalLSA()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l00042">~Router()</a>.</p>

</div>
</div>
<a class="anchor" id="abbdacd52ab234eb19f6eeb24a06222c2"></a><!-- doxytag: member="OSPF::Router::asExternalLSAsByID" ref="abbdacd52ab234eb19f6eeb24a06222c2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="struct_o_s_p_f_1_1_l_s_a_key_type.html">LSAKeyType</a>, <a class="el" href="class_o_s_p_f_1_1_a_s_external_l_s_a.html">ASExternalLSA</a>*, <a class="el" href="class_o_s_p_f_1_1_l_s_a_key_type___less.html">LSAKeyType_Less</a>&gt; <a class="el" href="class_o_s_p_f_1_1_router.html#abbdacd52ab234eb19f6eeb24a06222c2">OSPF::Router::asExternalLSAsByID</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A map of the ASExternalLSAs advertised by this router. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00042">42</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00329">FindASExternalLSA()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00198">InstallASExternalLSA()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l01594">RemoveExternalRoute()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fa24502500b746a3056832733228a65"></a><!-- doxytag: member="OSPF::Router::externalRoutes" ref="a2fa24502500b746a3056832733228a65" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="struct_o_s_p_f_1_1_i_pv4_address.html">IPv4Address</a>, <a class="el" href="class_o_s_p_f_a_s_external_l_s_a_contents.html">OSPFASExternalLSAContents</a>, <a class="el" href="class_o_s_p_f_1_1_i_pv4_address___less.html">IPv4Address_Less</a>&gt; <a class="el" href="class_o_s_p_f_1_1_router.html#a2fa24502500b746a3056832733228a65">OSPF::Router::externalRoutes</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>A map of the external route advertised by this router. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00044">44</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8h_source.html#l00065">GetASBoundaryRouter()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l01594">RemoveExternalRoute()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l01532">UpdateExternalRoute()</a>.</p>

</div>
</div>
<a class="anchor" id="a532e99a63a766b3aabc007fd929fb48f"></a><!-- doxytag: member="OSPF::Router::messageHandler" ref="a532e99a63a766b3aabc007fd929fb48f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_o_s_p_f_1_1_message_handler.html">MessageHandler</a>* <a class="el" href="class_o_s_p_f_1_1_router.html#a532e99a63a766b3aabc007fd929fb48f">OSPF::Router::messageHandler</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The message dispatcher class. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00047">47</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>, <a class="el" href="_o_s_p_f_router_8h_source.html#l00060">GetMessageHandler()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00025">Router()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l00042">~Router()</a>.</p>

</div>
</div>
<a class="anchor" id="a10f71a71f20baa02d35f94d602758357"></a><!-- doxytag: member="OSPF::Router::rfc1583Compatibility" ref="a10f71a71f20baa02d35f94d602758357" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_o_s_p_f_1_1_router.html#a10f71a71f20baa02d35f94d602758357">OSPF::Router::rfc1583Compatibility</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decides whether to handle the preferred routing table entry to an AS boundary router as defined in RFC1583 or not. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00048">48</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8h_source.html#l00057">GetRFC1583Compatibility()</a>, and <a class="el" href="_o_s_p_f_router_8h_source.html#l00056">SetRFC1583Compatibility()</a>.</p>

</div>
</div>
<a class="anchor" id="a3ebbdb2a44054edf297b21360de68cb9"></a><!-- doxytag: member="OSPF::Router::routerID" ref="a3ebbdb2a44054edf297b21360de68cb9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_o_s_p_f.html#ad64f22839cca7ec05fee5b7596411197">RouterID</a> <a class="el" href="class_o_s_p_f_1_1_router.html#a3ebbdb2a44054edf297b21360de68cb9">OSPF::Router::routerID</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The router ID assigned by the <a class="el" href="class_i_p.html">IP</a> layer. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00039">39</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8cc_source.html#l00065">AddWatches()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00361">AgeDatabase()</a>, <a class="el" href="_o_s_p_f_router_8h_source.html#l00055">GetRouterID()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l01262">GetUniqueLinkStateID()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00198">InstallASExternalLSA()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00609">IsDestinationUnreachable()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l01594">RemoveExternalRoute()</a>, <a class="el" href="_o_s_p_f_router_8h_source.html#l00054">SetRouterID()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l01532">UpdateExternalRoute()</a>.</p>

</div>
</div>
<a class="anchor" id="aff527f73b1c4068c21abb9fe9dd9f090"></a><!-- doxytag: member="OSPF::Router::routingTable" ref="aff527f73b1c4068c21abb9fe9dd9f090" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_o_s_p_f_1_1_routing_table_entry.html">RoutingTableEntry</a>*&gt; <a class="el" href="class_o_s_p_f_1_1_router.html#aff527f73b1c4068c21abb9fe9dd9f090">OSPF::Router::routingTable</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The <a class="el" href="namespace_o_s_p_f.html">OSPF</a> routing table - contains more information than the one in the <a class="el" href="class_i_p.html">IP</a> layer. </p>

<p>Definition at line <a class="el" href="_o_s_p_f_router_8h_source.html#l00046">46</a> of file <a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a>.</p>

<p>Referenced by <a class="el" href="_o_s_p_f_router_8h_source.html#l00070">AddRoutingTableEntry()</a>, <a class="el" href="_o_s_p_f_router_8h_source.html#l00068">GetRoutingTableEntry()</a>, <a class="el" href="_o_s_p_f_router_8h_source.html#l00067">GetRoutingTableEntryCount()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00198">InstallASExternalLSA()</a>, <a class="el" href="_o_s_p_f_router_8cc_source.html#l00820">RebuildRoutingTable()</a>, and <a class="el" href="_o_s_p_f_router_8cc_source.html#l00042">~Router()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_o_s_p_f_router_8h_source.html">OSPFRouter.h</a></li>
<li><a class="el" href="_o_s_p_f_router_8cc_source.html">OSPFRouter.cc</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Mar 23 17:08:39 2010 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
