<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>INET Framework for OMNeT++/OMNEST: TCP_NSC_VirtualDataSendQueue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>TCP_NSC_VirtualDataSendQueue Class Reference</h1><!-- doxytag: class="TCP_NSC_VirtualDataSendQueue" --><!-- doxytag: inherits="TCP_NSC_SendQueue" -->
<p><code>#include &lt;<a class="el" href="_t_c_p___n_s_c___virtual_data_queues_8h_source.html">TCP_NSC_VirtualDataQueues.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for TCP_NSC_VirtualDataSendQueue:</div>
<div class="dynsection">
 <div class="center">
  <img src="class_t_c_p___n_s_c___virtual_data_send_queue.gif" usemap="#TCP_NSC_VirtualDataSendQueue_map" alt=""/>
  <map id="TCP_NSC_VirtualDataSendQueue_map" name="TCP_NSC_VirtualDataSendQueue_map">
<area href="class_t_c_p___n_s_c___send_queue.html" alt="TCP_NSC_SendQueue" shape="rect" coords="0,0,206,24"/>
</map>
 </div>
</div>

<p><a href="class_t_c_p___n_s_c___virtual_data_send_queue-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#ab4f5476f03cc1a87b8e62196dfa0f0b5">TCP_NSC_VirtualDataSendQueue</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#ab7135283bfd19a2bdbd23ba696799ea2">~TCP_NSC_VirtualDataSendQueue</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#af3c96f1ea129b3e71978725efdf05590">setConnection</a> (<a class="el" href="class_t_c_p___n_s_c___connection.html">TCP_NSC_Connection</a> *connP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#af6826305371ce41c3b88e84fe1eff824">enqueueAppData</a> (cPacket *msgP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#ade85fa7f8dc5455aefd2c929900f28dd">getNscMsg</a> (void *bufferP, int bufferLengthP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#a93f5616db396c508a9728c894d0f6ea5">dequeueNscMsg</a> (int msgLengthP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="bsdint_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#a1b06b4850403fac42b8dcc583a98a927">getBytesAvailable</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="class_t_c_p_segment.html">TCPSegment</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#ade3466c721a3e09de9b4d98281e2d66c">createSegmentWithBytes</a> (const void *tcpDataP, int tcpLengthP)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#aa64f1a2b8edacb94a89b0578344d3a6e">discardUpTo</a> (uint32 seqNumP)</td></tr>
<tr><td colspan="2"><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">long int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#af829f2985a1c839d01dbf180dec71496">unsentNscBytesM</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Send/Receive queue that manages "virtual bytes", that is, byte counts only. </p>

<p>Definition at line <a class="el" href="_t_c_p___n_s_c___virtual_data_queues_8h_source.html#l00032">32</a> of file <a class="el" href="_t_c_p___n_s_c___virtual_data_queues_8h_source.html">TCP_NSC_VirtualDataQueues.h</a>.</p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab4f5476f03cc1a87b8e62196dfa0f0b5"></a><!-- doxytag: member="TCP_NSC_VirtualDataSendQueue::TCP_NSC_VirtualDataSendQueue" ref="ab4f5476f03cc1a87b8e62196dfa0f0b5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TCP_NSC_VirtualDataSendQueue::TCP_NSC_VirtualDataSendQueue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Ctor. </p>

</div>
</div>
<a class="anchor" id="ab7135283bfd19a2bdbd23ba696799ea2"></a><!-- doxytag: member="TCP_NSC_VirtualDataSendQueue::~TCP_NSC_VirtualDataSendQueue" ref="ab7135283bfd19a2bdbd23ba696799ea2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual TCP_NSC_VirtualDataSendQueue::~TCP_NSC_VirtualDataSendQueue </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Virtual dtor. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ade3466c721a3e09de9b4d98281e2d66c"></a><!-- doxytag: member="TCP_NSC_VirtualDataSendQueue::createSegmentWithBytes" ref="ade3466c721a3e09de9b4d98281e2d66c" args="(const void *tcpDataP, int tcpLengthP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_t_c_p_segment.html">TCPSegment</a>* TCP_NSC_VirtualDataSendQueue::createSegmentWithBytes </td>
          <td>(</td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>tcpDataP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>tcpLengthP</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called when the <a class="el" href="class_t_c_p.html">TCP</a> wants to send or retransmit data, it constructs a <a class="el" href="class_t_c_p.html">TCP</a> segment which contains the data from the requested sequence number range. The actually returned segment may contain less then maxNumBytes bytes if the subclass wants to reproduce the original segment boundaries when retransmitting.</p>
<p>called from inside of send_callback() called before called the send() to <a class="el" href="class_i_p.html">IP</a> layer </p>

<p>Implements <a class="el" href="class_t_c_p___n_s_c___send_queue.html#a1af3799e52fba7caeaf301fd90ee73b5">TCP_NSC_SendQueue</a>.</p>

</div>
</div>
<a class="anchor" id="a93f5616db396c508a9728c894d0f6ea5"></a><!-- doxytag: member="TCP_NSC_VirtualDataSendQueue::dequeueNscMsg" ref="a93f5616db396c508a9728c894d0f6ea5" args="(int msgLengthP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TCP_NSC_VirtualDataSendQueue::dequeueNscMsg </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>msgLengthP</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove msgLengthP bytes from NSCqueue</p>
<p>called with return value of socket-&gt;send_data() if larger than 0 </p>

<p>Implements <a class="el" href="class_t_c_p___n_s_c___send_queue.html#abf531ecfc125a8c5389f32a6c5c8a6a2">TCP_NSC_SendQueue</a>.</p>

</div>
</div>
<a class="anchor" id="aa64f1a2b8edacb94a89b0578344d3a6e"></a><!-- doxytag: member="TCP_NSC_VirtualDataSendQueue::discardUpTo" ref="aa64f1a2b8edacb94a89b0578344d3a6e" args="(uint32 seqNumP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TCP_NSC_VirtualDataSendQueue::discardUpTo </td>
          <td>(</td>
          <td class="paramtype">uint32&nbsp;</td>
          <td class="paramname"> <em>seqNumP</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Tells the queue that bytes up to (but NOT including) seqNum have been transmitted and ACKed, so they can be removed from the queue. </p>

<p>Implements <a class="el" href="class_t_c_p___n_s_c___send_queue.html#a9be7d952a33aa091becc8df68b567a21">TCP_NSC_SendQueue</a>.</p>

</div>
</div>
<a class="anchor" id="af6826305371ce41c3b88e84fe1eff824"></a><!-- doxytag: member="TCP_NSC_VirtualDataSendQueue::enqueueAppData" ref="af6826305371ce41c3b88e84fe1eff824" args="(cPacket *msgP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TCP_NSC_VirtualDataSendQueue::enqueueAppData </td>
          <td>(</td>
          <td class="paramtype">cPacket *&nbsp;</td>
          <td class="paramname"> <em>msgP</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Called on SEND app command, it inserts in the queue the data the user wants to send. Implementations of this abstract class will decide what this means: copying actual bytes, just increasing the "last byte queued" variable, or storing cMessage object(s). The msg object should not be referenced after this point (sendQueue may delete it.) </p>

<p>Implements <a class="el" href="class_t_c_p___n_s_c___send_queue.html#ae362f60112c3ef36af12ea632c859fdd">TCP_NSC_SendQueue</a>.</p>

</div>
</div>
<a class="anchor" id="a1b06b4850403fac42b8dcc583a98a927"></a><!-- doxytag: member="TCP_NSC_VirtualDataSendQueue::getBytesAvailable" ref="a1b06b4850403fac42b8dcc583a98a927" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="bsdint_8h.html#a718b4eb2652c286f4d42dc18a8e71a1a">ulong</a> TCP_NSC_VirtualDataSendQueue::getBytesAvailable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Utility function: returns how many bytes are available in the queue. </p>

<p>Implements <a class="el" href="class_t_c_p___n_s_c___send_queue.html#a6691a8ec9659d9457b76653ee839acb1">TCP_NSC_SendQueue</a>.</p>

</div>
</div>
<a class="anchor" id="ade85fa7f8dc5455aefd2c929900f28dd"></a><!-- doxytag: member="TCP_NSC_VirtualDataSendQueue::getNscMsg" ref="ade85fa7f8dc5455aefd2c929900f28dd" args="(void *bufferP, int bufferLengthP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int TCP_NSC_VirtualDataSendQueue::getNscMsg </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>bufferP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bufferLengthP</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy data to the buffer for send to NSC. returns lengh of copied data. create msg for socket-&gt;send_data()</p>
<p>called before called socket-&gt;send_data() </p>

<p>Implements <a class="el" href="class_t_c_p___n_s_c___send_queue.html#a2f70bf1b33917ae3002631cc41bf5d7f">TCP_NSC_SendQueue</a>.</p>

</div>
</div>
<a class="anchor" id="af3c96f1ea129b3e71978725efdf05590"></a><!-- doxytag: member="TCP_NSC_VirtualDataSendQueue::setConnection" ref="af3c96f1ea129b3e71978725efdf05590" args="(TCP_NSC_Connection *connP)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void TCP_NSC_VirtualDataSendQueue::setConnection </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_t_c_p___n_s_c___connection.html">TCP_NSC_Connection</a> *&nbsp;</td>
          <td class="paramname"> <em>connP</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>set connection queue. </p>

<p>Reimplemented from <a class="el" href="class_t_c_p___n_s_c___send_queue.html#a3725b0016361e65cbe60d003f85bbf3c">TCP_NSC_SendQueue</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="af829f2985a1c839d01dbf180dec71496"></a><!-- doxytag: member="TCP_NSC_VirtualDataSendQueue::unsentNscBytesM" ref="af829f2985a1c839d01dbf180dec71496" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long int <a class="el" href="class_t_c_p___n_s_c___virtual_data_send_queue.html#af829f2985a1c839d01dbf180dec71496">TCP_NSC_VirtualDataSendQueue::unsentNscBytesM</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="_t_c_p___n_s_c___virtual_data_queues_8h_source.html#l00100">100</a> of file <a class="el" href="_t_c_p___n_s_c___virtual_data_queues_8h_source.html">TCP_NSC_VirtualDataQueues.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="_t_c_p___n_s_c___virtual_data_queues_8h_source.html">TCP_NSC_VirtualDataQueues.h</a></li>
</ul>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on Tue Mar 23 17:08:37 2010 for INET Framework for OMNeT++/OMNEST by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
