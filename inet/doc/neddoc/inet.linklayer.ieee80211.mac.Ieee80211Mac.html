<html>
   <head>
      <link rel="stylesheet" type="text/css" href="style.css" />
   </head>
   <body onload="">
<h2 class="comptitle">Simple Module <i>Ieee80211Mac</i></h2>
<b>Package:</b> inet.linklayer.ieee80211.mac<br/><b>File: <a href="src-linklayer-ieee80211-mac-Ieee80211Mac.ned.html">src/linklayer/ieee80211/mac/Ieee80211Mac.ned</a></b><br/><p><a href="../doxy/class_ieee80211_mac.html" target="mainframe"><b>C++ definition</b></a></p>

<p>Implementation of the 802.11b MAC protocol. This module is intended
to be used in combination with the <a href="inet.linklayer.radio.Ieee80211Radio.html">Ieee80211Radio</a> module as the physical
layer. (The <a href="inet.linklayer.mf80211.phyLayer.snrEval.SnrEval80211.html">SnrEval80211</a> and <a href="inet.linklayer.mf80211.phyLayer.decider.Decider80211.html">Decider80211</a> modules should also work if
per-packet bitrate setting gets implemented.)</p>
<p>Encapsulation/decapsulation must be done in the upper layers. (It is
typically in the 802.11 management module, see in <a href="inet.linklayer.ieee80211.Ieee80211Nic.html">Ieee80211Nic</a>).
The base class for 802.11 frame messages is <a href="Ieee80211Frame.html">Ieee80211Frame</a>, but this
module expects <a href="Ieee80211DataOrMgmtFrame.html">Ieee80211DataOrMgmtFrame</a> (a subclass) from upper layers
(the management module). This module will assign the transmitter address
(address 2) and the frame sequence number/fragment number fields in the
frames; all other fields must already be filled when this module gets
the frame for transmission.</p>
<p>The module has an internal queue, but usually it is to be used with an
external passive queue module (its name should be given in the queueModule
parameter; specifying "" causes the internal queue to be used). The passive
queue module is a simple module whose C++ class implements the IPassiveQueue
interface.</p>
<p><b>Limitations</b></p>
<p>The following features not supported: 1) fragmentation, 2) power management,
3) polling (PCF). Physical layer algorithms such as frequency hopping and
direct sequence spread spectrum are not modelled directly.</p>
<p>Fields related to the above unsupported features are omitted from
management frame formats as well (for example, FH/DS/CF parameter sets,
beacon/probe timestamp which is related to physical layer synchronization,
listen interval which is related to power management, capability information
which is related to PCF and other non-modelled features).</p>
<img src="inet.linklayer.ieee80211.mac.Ieee80211Mac-type.png" ismap="yes" usemap="#type-diagram"/><map name="type-diagram">
<area shape="rect" href="inet.linklayer.ieee80211.mac.Ieee80211Mac.html" title="Ieee80211Mac" alt="Ieee80211Mac" coords="0,0,137,40">
</map>
<h3 class="subtitle">Usage diagram:</h3>
<p>The following diagram shows usage relationships between types.
Unresolved types are missing from the diagram.
Click <a href="full-ned-usage-diagram.html">here</a> to see the full picture.</p>
<img src="inet.linklayer.ieee80211.mac.Ieee80211Mac-usage.png" ismap="yes" usemap="#usage-diagram"/><map name="usage-diagram"><area shape="rect" href="inet.linklayer.ieee80211.mac.Ieee80211Mac.html" title="Simple Module Ieee80211Mac" alt="" coords="376,80,480,107">
<area shape="rect" href="inet.linklayer.ieee80211.Ieee80211Nic.html" title="Compound Module Ieee80211Nic" alt="" coords="5,5,104,32">
<area shape="rect" href="inet.linklayer.ieee80211.Ieee80211NicAdhoc.html" title="Compound Module Ieee80211NicAdhoc" alt="" coords="128,5,264,32">
<area shape="rect" href="inet.linklayer.ieee80211.Ieee80211NicAP.html" title="Compound Module Ieee80211NicAP" alt="" coords="288,5,403,32">
<area shape="rect" href="inet.linklayer.ieee80211.Ieee80211NicAPSimplified.html" title="Compound Module Ieee80211NicAPSimplified" alt="" coords="427,5,597,32">
<area shape="rect" href="inet.linklayer.ieee80211.Ieee80211NicSTA.html" title="Compound Module Ieee80211NicSTA" alt="" coords="621,5,744,32">
<area shape="rect" href="inet.linklayer.ieee80211.Ieee80211NicSTASimplified.html" title="Compound Module Ieee80211NicSTASimplified" alt="" coords="768,5,947,32">
</map>
<h3 class="subtitle">Inheritance diagram:</h3>
<p>The following diagram shows inheritance relationships for this type.
Unresolved types are missing from the diagram.
Click <a href="full-ned-inheritance-diagram.html">here</a> to see the full picture.</p>
<img src="inet.linklayer.ieee80211.mac.Ieee80211Mac-inheritance.png" ismap="yes" usemap="#inheritance-diagram"/><map name="inheritance-diagram"><area shape="rect" href="inet.linklayer.ieee80211.mac.Ieee80211Mac.html" title="Simple Module Ieee80211Mac" alt="" coords="5,5,109,32">
</map>
<h3 class="subtitle">Used in compound modules:</h3>
<p>If a module type shows up more than once, that means it has been defined in more than one NED file.</p>
<table>
<tr>
   <td>
      <a href="inet.linklayer.ieee80211.Ieee80211Nic.html">Ieee80211Nic</a>
      <i> (compound&nbsp;module)</i>
   </td>
   <td>

<p>This NIC implements an 802.11 network interface card.
It can be configured via the mgmtType parameter to act
as an AP or a STA, or for ad-hoc mode.</p>
   </td>
</tr>
<tr>
   <td>
      <a href="inet.linklayer.ieee80211.Ieee80211NicAdhoc.html">Ieee80211NicAdhoc</a>
      <i> (compound&nbsp;module)</i>
   </td>
   <td>

<p>This NIC implements an 802.11 network interface card in ad-hoc mode.</p>
   </td>
</tr>
<tr>
   <td>
      <a href="inet.linklayer.ieee80211.Ieee80211NicAP.html">Ieee80211NicAP</a>
      <i> (compound&nbsp;module)</i>
   </td>
   <td>

<p>This NIC implements an 802.11 network interface card,
in an AP, using infrastructure mode.</p>
   </td>
</tr>
<tr>
   <td>
      <a href="inet.linklayer.ieee80211.Ieee80211NicAPSimplified.html">Ieee80211NicAPSimplified</a>
      <i> (compound&nbsp;module)</i>
   </td>
   <td>

<p>This NIC implements an infrastructure mode 802.11 network interface card
for a wireless Access Point (AP), but using a simplified mgmt module
that does not support handovers.</p>
   </td>
</tr>
<tr>
   <td>
      <a href="inet.linklayer.ieee80211.Ieee80211NicSTA.html">Ieee80211NicSTA</a>
      <i> (compound&nbsp;module)</i>
   </td>
   <td>

<p>This NIC implements an 802.11 network interface card,
in a STA, using infrastructure mode.</p>
   </td>
</tr>
<tr>
   <td>
      <a href="inet.linklayer.ieee80211.Ieee80211NicSTASimplified.html">Ieee80211NicSTASimplified</a>
      <i> (compound&nbsp;module)</i>
   </td>
   <td>

<p>This NIC implements an infrastructure mode 802.11 network interface card
for a host (STA), but using a simplified mgmt module that does not
support handovers.</p>
   </td>
</tr>
</table>
<h3 class="subtitle">Parameters:</h3>
<table class="paramtable">
   <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Default value</th>
      <th>Description</th>
   </tr>
<tr class="local">
   <td width="150">address</td>
   <td width="100">
      <i>string</i>
   </td>
   <td width="120">"auto"</td>
   <td>
<p>MAC address as hex string (12 hex digits), or
"auto". "auto" values will be replaced by
a generated MAC address in init stage 0.</p>
   </td>
</tr>
<tr class="local">
   <td width="150">queueModule</td>
   <td width="100">
      <i>string</i>
   </td>
   <td width="120">""</td>
   <td>
<p>name of optional external queue module</p>
   </td>
</tr>
<tr class="local">
   <td width="150">maxQueueSize</td>
   <td width="100">
      <i>int</i>
   </td>
   <td width="120"></td>
   <td>
<p>max queue length in frames; only used if queueModule==""</p>
   </td>
</tr>
<tr class="local">
   <td width="150">bitrate</td>
   <td width="100">
      <i>double</i>
   </td>
   <td width="120"></td>
   <td>   </td>
</tr>
<tr class="local">
   <td width="150">rtsThresholdBytes</td>
   <td width="100">
      <i>int</i>
   </td>
   <td width="120">2346B</td>
   <td>
<p>longer messages will be sent using RTS/CTS</p>
   </td>
</tr>
<tr class="local">
   <td width="150">retryLimit</td>
   <td width="100">
      <i>int</i>
   </td>
   <td width="120">-1</td>
   <td>
<p>maximum number of retries per message, -1 means default</p>
   </td>
</tr>
<tr class="local">
   <td width="150">cwMinData</td>
   <td width="100">
      <i>int</i>
   </td>
   <td width="120">-1</td>
   <td>
<p>contention window for normal data frames, -1 means default</p>
   </td>
</tr>
<tr class="local">
   <td width="150">cwMinBroadcast</td>
   <td width="100">
      <i>int</i>
   </td>
   <td width="120">-1</td>
   <td>
<p>contention window for broadcast messages, -1 means default</p>
   </td>
</tr>
<tr class="local">
   <td width="150">mtu</td>
   <td width="100">
      <i>int</i>
   </td>
   <td width="120">1500</td>
   <td>   </td>
</tr>
</table>
<h3 class="subtitle">Properties:</h3>
<table class="paramtable">
   <tr>
      <th>Name</th>
      <th>Value</th>
      <th>Description</th>
   </tr>
<tr>
   <td width="150">display</td>
   <td width="100"><i>i=block/layer</i></td>
   <td></td>
</tr>
</table>
<h3 class="subtitle">Gates:</h3>
<table class="paramtable">
   <tr>
      <th>Name</th>
      <th>Direction</th>
      <th>Size</th>
      <th>Description</th>
   </tr>
<tr class="local">
   <td width="150">uppergateIn</xsl:if></td>
   <td width="100"><i>input</i></td>
   <td width="50"></td>   <td></td>
</tr>
<tr class="local">
   <td width="150">uppergateOut</xsl:if></td>
   <td width="100"><i>output</i></td>
   <td width="50"></td>   <td></td>
</tr>
<tr class="local">
   <td width="150">lowergateIn</xsl:if></td>
   <td width="100"><i>input</i></td>
   <td width="50"></td>   <td></td>
</tr>
<tr class="local">
   <td width="150">lowergateOut</xsl:if></td>
   <td width="100"><i>output</i></td>
   <td width="50"></td>   <td></td>
</tr>
</table>
<h3 class="subtitle">Source code:</h3>
<pre class="src"><span style="color: #808080; font-style: italic; ">//
// Implementation of the 802.11b MAC protocol. This module is intended
// to be used in combination with the Ieee80211Radio module as the physical
// layer. (The SnrEval80211 and Decider80211 modules should also work if
// per-packet bitrate setting gets implemented.)
//
// Encapsulation/decapsulation must be done in the upper layers. (It is
// typically in the 802.11 management module, see in Ieee80211Nic).
// The base class for 802.11 frame messages is Ieee80211Frame, but this
// module expects Ieee80211DataOrMgmtFrame (a subclass) from upper layers
// (the management module). This module will assign the transmitter address
// (address 2) and the frame sequence number/fragment number fields in the
// frames; all other fields must already be filled when this module gets
// the frame for transmission.
//
// The module has an internal queue, but usually it is to be used with an
// external passive queue module (its name should be given in the queueModule
// parameter; specifying &quot;&quot; causes the internal queue to be used). The passive
// queue module is a simple module whose C++ class implements the IPassiveQueue
// interface.
//
// </span><span style="color: #800000; ">&lt;b&gt;</span><span style="color: #808080; font-style: italic; ">Limitations</span><span style="color: #800000; ">&lt;/b&gt;</span><span style="color: #808080; font-style: italic; ">
//
// The following features not supported: 1) fragmentation, 2) power management,
// 3) polling (PCF). Physical layer algorithms such as frequency hopping and
// direct sequence spread spectrum are not modelled directly.
//
// Fields related to the above unsupported features are omitted from
// management frame formats as well (for example, FH/DS/CF parameter sets,
// beacon/probe timestamp which is related to physical layer synchronization,
// listen interval which is related to power management, capability information
// which is related to PCF and other non-modelled features).
//
</span><span style="color: #800000; font-weight: bold; ">simple</span><span style="color: #000000; "> </span><span style="color: #000000; ">Ieee80211Mac</span><span style="color: #000000; ">
{
    </span><span style="color: #800000; font-weight: bold; ">parameters</span><span style="color: #000000; ">:
        </span><span style="color: #000080; font-weight: bold; ">string</span><span style="color: #000000; "> </span><span style="color: #000000; ">address</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;auto&quot;</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// MAC address as hex string (12 hex digits), or
</span><span style="color: #000000; ">                                          </span><span style="color: #808080; font-style: italic; ">// &quot;auto&quot;. &quot;auto&quot; values will be replaced by
</span><span style="color: #000000; ">                                          </span><span style="color: #808080; font-style: italic; ">// a generated MAC address in init stage 0.
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">string</span><span style="color: #000000; "> </span><span style="color: #000000; ">queueModule</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;&quot;</span><span style="color: #000000; ">);    </span><span style="color: #808080; font-style: italic; ">// name of optional external queue module
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">maxQueueSize</span><span style="color: #000000; ">; </span><span style="color: #808080; font-style: italic; ">// max queue length in frames; only used if queueModule==&quot;&quot;
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">double</span><span style="color: #000000; "> </span><span style="color: #000000; ">bitrate</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;bps&quot;</span><span style="color: #000000; ">);
        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">rtsThresholdBytes</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@unit</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;B&quot;</span><span style="color: #000000; ">) = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">2346</span><span style="color: #000000; ">B</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// longer messages will be sent using RTS/CTS
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">retryLimit</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(-</span><span style="color: #008000; ">1</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// maximum number of retries per message, -1 means default
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">cwMinData</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(-</span><span style="color: #008000; ">1</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// contention window for normal data frames, -1 means default
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">cwMinBroadcast</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(-</span><span style="color: #008000; ">1</span><span style="color: #000000; ">); </span><span style="color: #808080; font-style: italic; ">// contention window for broadcast messages, -1 means default
</span><span style="color: #000000; ">        </span><span style="color: #000080; font-weight: bold; ">int</span><span style="color: #000000; "> </span><span style="color: #000000; ">mtu</span><span style="color: #000000; "> = </span><span style="color: #800000; font-weight: bold; ">default</span><span style="color: #000000; ">(</span><span style="color: #008000; ">1500</span><span style="color: #000000; ">);
        </span><span style="color: #000000; font-weight: bold; ">@display</span><span style="color: #000000; ">(</span><span style="color: #008000; ">&quot;i=block/layer&quot;</span><span style="color: #000000; ">);
    </span><span style="color: #800000; font-weight: bold; ">gates</span><span style="color: #000000; ">:
        </span><span style="color: #000080; font-weight: bold; ">input</span><span style="color: #000000; "> </span><span style="color: #000000; ">uppergateIn</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@labels</span><span style="color: #000000; ">(</span><span style="color: #000000; ">Ieee80211Frame</span><span style="color: #000000; ">);
        </span><span style="color: #000080; font-weight: bold; ">output</span><span style="color: #000000; "> </span><span style="color: #000000; ">uppergateOut</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@labels</span><span style="color: #000000; ">(</span><span style="color: #000000; ">Ieee80211Frame</span><span style="color: #000000; ">);
        </span><span style="color: #000080; font-weight: bold; ">input</span><span style="color: #000000; "> </span><span style="color: #000000; ">lowergateIn</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@labels</span><span style="color: #000000; ">(</span><span style="color: #000000; ">Ieee80211Frame</span><span style="color: #000000; ">);
        </span><span style="color: #000080; font-weight: bold; ">output</span><span style="color: #000000; "> </span><span style="color: #000000; ">lowergateOut</span><span style="color: #000000; "> </span><span style="color: #000000; font-weight: bold; ">@labels</span><span style="color: #000000; ">(</span><span style="color: #000000; ">Ieee80211Frame</span><span style="color: #000000; ">);
}
</span></pre>
   </body>
</html>
